\hypertarget{rs232_8h}{\section{hardware/rs232.h File Reference}
\label{rs232_8h}\index{hardware/rs232.\-h@{hardware/rs232.\-h}}
}


R\-S232 Driver A\-V\-R8.  


{\ttfamily \#include \char`\"{}user\-\_\-config.\-h\char`\"{}}\\*
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{struct__uart}{\-\_\-uart}
\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{rs232_8h_a690f985c933da2ce6fe62b6c61dfa662}{R\-X\-\_\-\-B\-U\-F\-\_\-\-S\-I\-Z\-E}~80
\item 
\#define \hyperlink{rs232_8h_acd5cd53e4ba6ba166c636bb3ce49ac93}{R\-X\-\_\-\-F\-L\-O\-W\-\_\-\-W\-I\-N\-D\-O\-W}~20
\item 
\#define \hyperlink{rs232_8h_a53fcdd70e498c7be83606115582640fd}{R\-X\-\_\-\-O\-V\-E\-R\-F\-L\-O\-W}~1
\item 
\#define \hyperlink{rs232_8h_a7d8bee9a9d7d0b05223314232799af6f}{X\-O\-N\-\_\-\-C\-H\-A\-R}~0x11
\item 
\#define \hyperlink{rs232_8h_aa9379a9c5bc361c5c9f066290b11da58}{X\-O\-F\-F\-\_\-\-C\-H\-A\-R}~0x13
\item 
\#define \hyperlink{rs232_8h_a7ab06bdbe55410a658a832262569b6eb}{X\-O\-F\-F\-\_\-\-E\-N\-A\-B\-L\-E}~4
\item 
\#define \hyperlink{rs232_8h_a866afbf96fb51f104a602e0bbb03bdcc}{X\-O\-F\-F\-\_\-\-P\-U\-T}~2
\item 
\#define \hyperlink{rs232_8h_ae5337d6a1de4c781812b21ed7cf387c2}{X\-O\-F\-F\-\_\-\-G\-E\-T}~1
\item 
\#define \hyperlink{rs232_8h_a14061d90f6727665218418b15943af7f}{U\-A\-R\-T\-S}~1
\item 
\#define \hyperlink{rs232_8h_aeddebfcb46db9f5421188decb3e21edb}{kbhit}(uart)~\hyperlink{rs232_8h_aa8413cd0d098fabe8a888be1addc3924}{uart\-\_\-rx\-\_\-count}( uart )
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{rs232_8h_ab823b4d83752db47c0852bfa36a59036}{uart\-\_\-rx\-\_\-flush} (uint8\-\_\-t uart)
\begin{DoxyCompactList}\small\item\em Flush receive ring buffer for specified uart. \end{DoxyCompactList}\item 
uint8\-\_\-t \hyperlink{rs232_8h_a4942fe8b3196939f4809e424adabcb8b}{uart0\-\_\-getchar} (F\-I\-L\-E $\ast$f)
\begin{DoxyCompactList}\small\item\em U\-A\-R\-T receive character function using avr-\/libc. \end{DoxyCompactList}\item 
void \hyperlink{rs232_8h_aaa1e5ec2d5858ed3ee8cd589dbaf1838}{uart0\-\_\-putchar} (char c, F\-I\-L\-E $\ast$f)
\begin{DoxyCompactList}\small\item\em U\-A\-R\-T transmit character function using avr-\/libc. \end{DoxyCompactList}\item 
uint8\-\_\-t \hyperlink{rs232_8h_a1a6cc0d97bdc0fa5b73e0bb8f8203904}{uart1\-\_\-getchar} (F\-I\-L\-E $\ast$f)
\item 
void \hyperlink{rs232_8h_a5b5143c94f1c8175b5850581e3106fec}{uart1\-\_\-putchar} (char c, F\-I\-L\-E $\ast$f)
\item 
int \hyperlink{rs232_8h_a4973143ccfb71e6e9f99cb680af22957}{uart\-\_\-init} (uint8\-\_\-t uart, uint32\-\_\-t baud)
\begin{DoxyCompactList}\small\item\em U\-A\-R\-T initialization function that works with avr-\/libc functions. \end{DoxyCompactList}\item 
void \hyperlink{rs232_8h_a382aa76e85fa3a1a2add5111578e954e}{uart\-\_\-rx\-\_\-interrupt} (uint8\-\_\-t uart, uint8\-\_\-t data)
\begin{DoxyCompactList}\small\item\em U\-A\-R\-T Receive Interrupt task. \end{DoxyCompactList}\item 
uint8\-\_\-t \hyperlink{rs232_8h_a1cd0dacc866c8f430d9a09159d10148c}{uart\-\_\-peek\-\_\-tail} (uint8\-\_\-t uart)
\begin{DoxyCompactList}\small\item\em Return character waiting in ring buffer without removing it. \end{DoxyCompactList}\item 
uint8\-\_\-t \hyperlink{rs232_8h_aac582ab6810e9aa116f07274db968a8e}{uart\-\_\-get\-\_\-tail} (uint8\-\_\-t uart)
\begin{DoxyCompactList}\small\item\em Return next character from ring buffer. \end{DoxyCompactList}\item 
uint8\-\_\-t \hyperlink{rs232_8h_aa8413cd0d098fabe8a888be1addc3924}{uart\-\_\-rx\-\_\-count} (uint8\-\_\-t uart)
\begin{DoxyCompactList}\small\item\em return count of character count waiting in U\-A\-R\-T ring buffer. \end{DoxyCompactList}\item 
int \hyperlink{rs232_8h_ac2daabfbed3e1679f834b158dfbbbe80}{uart\-\_\-rx\-\_\-byte} (uint8\-\_\-t uart)
\begin{DoxyCompactList}\small\item\em Recive character character from uart. \end{DoxyCompactList}\item 
char \hyperlink{rs232_8h_a044d788db470661439cd4b596ea22083}{uart\-\_\-getchar} (uint8\-\_\-t uart)
\begin{DoxyCompactList}\small\item\em Receive character from uart with option C\-R/\-L\-F conversion. \end{DoxyCompactList}\item 
void \hyperlink{rs232_8h_a23169748018111e05b90e5779cb63c70}{uart\-\_\-tx\-\_\-byte} (char c, uint8\-\_\-t uart)
\begin{DoxyCompactList}\small\item\em Transmit 1 byte on uart. \end{DoxyCompactList}\item 
void \hyperlink{rs232_8h_aa121f493123a7a21b0a1086cfebadf63}{uart\-\_\-putchar} (char c, int uart)
\begin{DoxyCompactList}\small\item\em Transmit 1 byte on uart. \end{DoxyCompactList}\item 
uint8\-\_\-t \hyperlink{rs232_8h_a62e784f8c17878ebc2f7ad942086d2e9}{uart\-\_\-keyhit} (uint8\-\_\-t uart)
\begin{DoxyCompactList}\small\item\em Do we have receive characters waiting ?. \end{DoxyCompactList}\item 
void \hyperlink{rs232_8h_ac2ee59bdf981ff614d81f495dd028601}{uart\-\_\-put} (uint8\-\_\-t c)
\begin{DoxyCompactList}\small\item\em Transmit a character on U\-A\-R\-T 0. \end{DoxyCompactList}\item 
char \hyperlink{rs232_8h_aeb5d4f8824840e438ffbcf8d7e15ad77}{uart\-\_\-get} (void)
\begin{DoxyCompactList}\small\item\em Receive a character from U\-A\-R\-T 0. \end{DoxyCompactList}\item 
int \hyperlink{rs232_8h_a293b550a7aa47a2f4bbadcf1103b78e6}{get\-\_\-line} (char $\ast$buff, int len)
\begin{DoxyCompactList}\small\item\em Get a line from U\-A\-R\-T 0 up to a maximum of len bytes. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
R\-S232 Driver A\-V\-R8. \begin{DoxyParagraph}{Edit History}

\begin{DoxyItemize}
\item \mbox{[}1.\-0\mbox{]} \mbox{[}Mike Gore\mbox{]} Initial revision of file.
\end{DoxyItemize}
\end{DoxyParagraph}
\begin{DoxyParagraph}{Copyright \copyright{} 2014 Mike Gore, Inc. All rights reserved.}

\end{DoxyParagraph}


Definition in file \hyperlink{rs232_8h_source}{rs232.\-h}.



\subsection{Macro Definition Documentation}
\hypertarget{rs232_8h_aeddebfcb46db9f5421188decb3e21edb}{\index{rs232.\-h@{rs232.\-h}!kbhit@{kbhit}}
\index{kbhit@{kbhit}!rs232.h@{rs232.\-h}}
\subsubsection[{kbhit}]{\setlength{\rightskip}{0pt plus 5cm}\#define kbhit(
\begin{DoxyParamCaption}
\item[{}]{uart}
\end{DoxyParamCaption}
)~{\bf uart\-\_\-rx\-\_\-count}( uart )}}\label{rs232_8h_aeddebfcb46db9f5421188decb3e21edb}


Definition at line 42 of file rs232.\-h.

\hypertarget{rs232_8h_a690f985c933da2ce6fe62b6c61dfa662}{\index{rs232.\-h@{rs232.\-h}!R\-X\-\_\-\-B\-U\-F\-\_\-\-S\-I\-Z\-E@{R\-X\-\_\-\-B\-U\-F\-\_\-\-S\-I\-Z\-E}}
\index{R\-X\-\_\-\-B\-U\-F\-\_\-\-S\-I\-Z\-E@{R\-X\-\_\-\-B\-U\-F\-\_\-\-S\-I\-Z\-E}!rs232.h@{rs232.\-h}}
\subsubsection[{R\-X\-\_\-\-B\-U\-F\-\_\-\-S\-I\-Z\-E}]{\setlength{\rightskip}{0pt plus 5cm}\#define R\-X\-\_\-\-B\-U\-F\-\_\-\-S\-I\-Z\-E~80}}\label{rs232_8h_a690f985c933da2ce6fe62b6c61dfa662}


Definition at line 18 of file rs232.\-h.



Referenced by uart\-\_\-get\-\_\-tail(), and uart\-\_\-rx\-\_\-interrupt().

\hypertarget{rs232_8h_acd5cd53e4ba6ba166c636bb3ce49ac93}{\index{rs232.\-h@{rs232.\-h}!R\-X\-\_\-\-F\-L\-O\-W\-\_\-\-W\-I\-N\-D\-O\-W@{R\-X\-\_\-\-F\-L\-O\-W\-\_\-\-W\-I\-N\-D\-O\-W}}
\index{R\-X\-\_\-\-F\-L\-O\-W\-\_\-\-W\-I\-N\-D\-O\-W@{R\-X\-\_\-\-F\-L\-O\-W\-\_\-\-W\-I\-N\-D\-O\-W}!rs232.h@{rs232.\-h}}
\subsubsection[{R\-X\-\_\-\-F\-L\-O\-W\-\_\-\-W\-I\-N\-D\-O\-W}]{\setlength{\rightskip}{0pt plus 5cm}\#define R\-X\-\_\-\-F\-L\-O\-W\-\_\-\-W\-I\-N\-D\-O\-W~20}}\label{rs232_8h_acd5cd53e4ba6ba166c636bb3ce49ac93}


Definition at line 19 of file rs232.\-h.

\hypertarget{rs232_8h_a53fcdd70e498c7be83606115582640fd}{\index{rs232.\-h@{rs232.\-h}!R\-X\-\_\-\-O\-V\-E\-R\-F\-L\-O\-W@{R\-X\-\_\-\-O\-V\-E\-R\-F\-L\-O\-W}}
\index{R\-X\-\_\-\-O\-V\-E\-R\-F\-L\-O\-W@{R\-X\-\_\-\-O\-V\-E\-R\-F\-L\-O\-W}!rs232.h@{rs232.\-h}}
\subsubsection[{R\-X\-\_\-\-O\-V\-E\-R\-F\-L\-O\-W}]{\setlength{\rightskip}{0pt plus 5cm}\#define R\-X\-\_\-\-O\-V\-E\-R\-F\-L\-O\-W~1}}\label{rs232_8h_a53fcdd70e498c7be83606115582640fd}


Definition at line 21 of file rs232.\-h.



Referenced by uart\-\_\-rx\-\_\-interrupt().

\hypertarget{rs232_8h_a14061d90f6727665218418b15943af7f}{\index{rs232.\-h@{rs232.\-h}!U\-A\-R\-T\-S@{U\-A\-R\-T\-S}}
\index{U\-A\-R\-T\-S@{U\-A\-R\-T\-S}!rs232.h@{rs232.\-h}}
\subsubsection[{U\-A\-R\-T\-S}]{\setlength{\rightskip}{0pt plus 5cm}\#define U\-A\-R\-T\-S~1}}\label{rs232_8h_a14061d90f6727665218418b15943af7f}


Definition at line 41 of file rs232.\-h.



Referenced by uart\-\_\-get\-\_\-tail(), uart\-\_\-getchar(), uart\-\_\-init(), uart\-\_\-peek\-\_\-tail(), uart\-\_\-rx\-\_\-count(), and uart\-\_\-rx\-\_\-flush().

\hypertarget{rs232_8h_aa9379a9c5bc361c5c9f066290b11da58}{\index{rs232.\-h@{rs232.\-h}!X\-O\-F\-F\-\_\-\-C\-H\-A\-R@{X\-O\-F\-F\-\_\-\-C\-H\-A\-R}}
\index{X\-O\-F\-F\-\_\-\-C\-H\-A\-R@{X\-O\-F\-F\-\_\-\-C\-H\-A\-R}!rs232.h@{rs232.\-h}}
\subsubsection[{X\-O\-F\-F\-\_\-\-C\-H\-A\-R}]{\setlength{\rightskip}{0pt plus 5cm}\#define X\-O\-F\-F\-\_\-\-C\-H\-A\-R~0x13}}\label{rs232_8h_aa9379a9c5bc361c5c9f066290b11da58}


Definition at line 24 of file rs232.\-h.

\hypertarget{rs232_8h_a7ab06bdbe55410a658a832262569b6eb}{\index{rs232.\-h@{rs232.\-h}!X\-O\-F\-F\-\_\-\-E\-N\-A\-B\-L\-E@{X\-O\-F\-F\-\_\-\-E\-N\-A\-B\-L\-E}}
\index{X\-O\-F\-F\-\_\-\-E\-N\-A\-B\-L\-E@{X\-O\-F\-F\-\_\-\-E\-N\-A\-B\-L\-E}!rs232.h@{rs232.\-h}}
\subsubsection[{X\-O\-F\-F\-\_\-\-E\-N\-A\-B\-L\-E}]{\setlength{\rightskip}{0pt plus 5cm}\#define X\-O\-F\-F\-\_\-\-E\-N\-A\-B\-L\-E~4}}\label{rs232_8h_a7ab06bdbe55410a658a832262569b6eb}


Definition at line 26 of file rs232.\-h.

\hypertarget{rs232_8h_ae5337d6a1de4c781812b21ed7cf387c2}{\index{rs232.\-h@{rs232.\-h}!X\-O\-F\-F\-\_\-\-G\-E\-T@{X\-O\-F\-F\-\_\-\-G\-E\-T}}
\index{X\-O\-F\-F\-\_\-\-G\-E\-T@{X\-O\-F\-F\-\_\-\-G\-E\-T}!rs232.h@{rs232.\-h}}
\subsubsection[{X\-O\-F\-F\-\_\-\-G\-E\-T}]{\setlength{\rightskip}{0pt plus 5cm}\#define X\-O\-F\-F\-\_\-\-G\-E\-T~1}}\label{rs232_8h_ae5337d6a1de4c781812b21ed7cf387c2}


Definition at line 28 of file rs232.\-h.

\hypertarget{rs232_8h_a866afbf96fb51f104a602e0bbb03bdcc}{\index{rs232.\-h@{rs232.\-h}!X\-O\-F\-F\-\_\-\-P\-U\-T@{X\-O\-F\-F\-\_\-\-P\-U\-T}}
\index{X\-O\-F\-F\-\_\-\-P\-U\-T@{X\-O\-F\-F\-\_\-\-P\-U\-T}!rs232.h@{rs232.\-h}}
\subsubsection[{X\-O\-F\-F\-\_\-\-P\-U\-T}]{\setlength{\rightskip}{0pt plus 5cm}\#define X\-O\-F\-F\-\_\-\-P\-U\-T~2}}\label{rs232_8h_a866afbf96fb51f104a602e0bbb03bdcc}


Definition at line 27 of file rs232.\-h.

\hypertarget{rs232_8h_a7d8bee9a9d7d0b05223314232799af6f}{\index{rs232.\-h@{rs232.\-h}!X\-O\-N\-\_\-\-C\-H\-A\-R@{X\-O\-N\-\_\-\-C\-H\-A\-R}}
\index{X\-O\-N\-\_\-\-C\-H\-A\-R@{X\-O\-N\-\_\-\-C\-H\-A\-R}!rs232.h@{rs232.\-h}}
\subsubsection[{X\-O\-N\-\_\-\-C\-H\-A\-R}]{\setlength{\rightskip}{0pt plus 5cm}\#define X\-O\-N\-\_\-\-C\-H\-A\-R~0x11}}\label{rs232_8h_a7d8bee9a9d7d0b05223314232799af6f}


Definition at line 23 of file rs232.\-h.



\subsection{Function Documentation}
\hypertarget{rs232_8h_a293b550a7aa47a2f4bbadcf1103b78e6}{\index{rs232.\-h@{rs232.\-h}!get\-\_\-line@{get\-\_\-line}}
\index{get\-\_\-line@{get\-\_\-line}!rs232.h@{rs232.\-h}}
\subsubsection[{get\-\_\-line}]{\setlength{\rightskip}{0pt plus 5cm}int get\-\_\-line (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{buff, }
\item[{int}]{len}
\end{DoxyParamCaption}
)}}\label{rs232_8h_a293b550a7aa47a2f4bbadcf1103b78e6}


Get a line from U\-A\-R\-T 0 up to a maximum of len bytes. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em buff} & line input buffer \\
\hline
\mbox{\tt in}  & {\em len} & line length maximum \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line 375 of file rs232.\-c.

\hypertarget{rs232_8h_a4942fe8b3196939f4809e424adabcb8b}{\index{rs232.\-h@{rs232.\-h}!uart0\-\_\-getchar@{uart0\-\_\-getchar}}
\index{uart0\-\_\-getchar@{uart0\-\_\-getchar}!rs232.h@{rs232.\-h}}
\subsubsection[{uart0\-\_\-getchar}]{\setlength{\rightskip}{0pt plus 5cm}uint8\-\_\-t uart0\-\_\-getchar (
\begin{DoxyParamCaption}
\item[{F\-I\-L\-E $\ast$}]{f}
\end{DoxyParamCaption}
)}}\label{rs232_8h_a4942fe8b3196939f4809e424adabcb8b}


U\-A\-R\-T receive character function using avr-\/libc. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em f} & unused stream pointer.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
uart\-\_\-getchar(0);. 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See Also}
fdevopen() from avr-\/libc. 
\end{DoxySeeAlso}


Definition at line 45 of file rs232.\-c.



Referenced by uart\-\_\-get(), and uart\-\_\-init().

\hypertarget{rs232_8h_aaa1e5ec2d5858ed3ee8cd589dbaf1838}{\index{rs232.\-h@{rs232.\-h}!uart0\-\_\-putchar@{uart0\-\_\-putchar}}
\index{uart0\-\_\-putchar@{uart0\-\_\-putchar}!rs232.h@{rs232.\-h}}
\subsubsection[{uart0\-\_\-putchar}]{\setlength{\rightskip}{0pt plus 5cm}void uart0\-\_\-putchar (
\begin{DoxyParamCaption}
\item[{char}]{c, }
\item[{F\-I\-L\-E $\ast$}]{f}
\end{DoxyParamCaption}
)}}\label{rs232_8h_aaa1e5ec2d5858ed3ee8cd589dbaf1838}


U\-A\-R\-T transmit character function using avr-\/libc. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em c} & character to send. \\
\hline
\mbox{\tt in}  & {\em f} & unused stream pointer.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
uart\-\_\-putchar(c, 0);. 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See Also}
fdevopen() from avr-\/libc. 
\end{DoxySeeAlso}


Definition at line 58 of file rs232.\-c.



Referenced by uart\-\_\-init(), and uart\-\_\-put().

\hypertarget{rs232_8h_a1a6cc0d97bdc0fa5b73e0bb8f8203904}{\index{rs232.\-h@{rs232.\-h}!uart1\-\_\-getchar@{uart1\-\_\-getchar}}
\index{uart1\-\_\-getchar@{uart1\-\_\-getchar}!rs232.h@{rs232.\-h}}
\subsubsection[{uart1\-\_\-getchar}]{\setlength{\rightskip}{0pt plus 5cm}uint8\-\_\-t uart1\-\_\-getchar (
\begin{DoxyParamCaption}
\item[{F\-I\-L\-E $\ast$}]{f}
\end{DoxyParamCaption}
)}}\label{rs232_8h_a1a6cc0d97bdc0fa5b73e0bb8f8203904}


Referenced by uart\-\_\-init().

\hypertarget{rs232_8h_a5b5143c94f1c8175b5850581e3106fec}{\index{rs232.\-h@{rs232.\-h}!uart1\-\_\-putchar@{uart1\-\_\-putchar}}
\index{uart1\-\_\-putchar@{uart1\-\_\-putchar}!rs232.h@{rs232.\-h}}
\subsubsection[{uart1\-\_\-putchar}]{\setlength{\rightskip}{0pt plus 5cm}void uart1\-\_\-putchar (
\begin{DoxyParamCaption}
\item[{char}]{c, }
\item[{F\-I\-L\-E $\ast$}]{f}
\end{DoxyParamCaption}
)}}\label{rs232_8h_a5b5143c94f1c8175b5850581e3106fec}


Referenced by uart\-\_\-init().

\hypertarget{rs232_8h_aeb5d4f8824840e438ffbcf8d7e15ad77}{\index{rs232.\-h@{rs232.\-h}!uart\-\_\-get@{uart\-\_\-get}}
\index{uart\-\_\-get@{uart\-\_\-get}!rs232.h@{rs232.\-h}}
\subsubsection[{uart\-\_\-get}]{\setlength{\rightskip}{0pt plus 5cm}char uart\-\_\-get (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{rs232_8h_aeb5d4f8824840e438ffbcf8d7e15ad77}


Receive a character from U\-A\-R\-T 0. 

\begin{DoxyReturn}{Returns}
character 
\end{DoxyReturn}


Definition at line 365 of file rs232.\-c.



Referenced by get\-\_\-line().

\hypertarget{rs232_8h_aac582ab6810e9aa116f07274db968a8e}{\index{rs232.\-h@{rs232.\-h}!uart\-\_\-get\-\_\-tail@{uart\-\_\-get\-\_\-tail}}
\index{uart\-\_\-get\-\_\-tail@{uart\-\_\-get\-\_\-tail}!rs232.h@{rs232.\-h}}
\subsubsection[{uart\-\_\-get\-\_\-tail}]{\setlength{\rightskip}{0pt plus 5cm}uint8\-\_\-t uart\-\_\-get\-\_\-tail (
\begin{DoxyParamCaption}
\item[{uint8\-\_\-t}]{uart}
\end{DoxyParamCaption}
)}}\label{rs232_8h_aac582ab6810e9aa116f07274db968a8e}


Return next character from ring buffer. 


\begin{DoxyItemize}
\item Wait for at least one character.
\item Update index pointers and character count.
\end{DoxyItemize}


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em uart} & uart number to read. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
character. 

0 on error. 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See Also}
\hyperlink{rs232_8c_aa8413cd0d098fabe8a888be1addc3924}{uart\-\_\-rx\-\_\-count()}. 
\end{DoxySeeAlso}


Definition at line 219 of file rs232.\-c.



Referenced by uart\-\_\-rx\-\_\-byte().

\hypertarget{rs232_8h_a044d788db470661439cd4b596ea22083}{\index{rs232.\-h@{rs232.\-h}!uart\-\_\-getchar@{uart\-\_\-getchar}}
\index{uart\-\_\-getchar@{uart\-\_\-getchar}!rs232.h@{rs232.\-h}}
\subsubsection[{uart\-\_\-getchar}]{\setlength{\rightskip}{0pt plus 5cm}char uart\-\_\-getchar (
\begin{DoxyParamCaption}
\item[{uint8\-\_\-t}]{uart}
\end{DoxyParamCaption}
)}}\label{rs232_8h_a044d788db470661439cd4b596ea22083}


Receive character from uart with option C\-R/\-L\-F conversion. 


\begin{DoxyItemize}
\item C\-R/\-L\-F processing is disabled at the moment.
\end{DoxyItemize}


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em uart} & uart number.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Character. 
\end{DoxyReturn}


Definition at line 279 of file rs232.\-c.



Referenced by uart0\-\_\-getchar().

\hypertarget{rs232_8h_a4973143ccfb71e6e9f99cb680af22957}{\index{rs232.\-h@{rs232.\-h}!uart\-\_\-init@{uart\-\_\-init}}
\index{uart\-\_\-init@{uart\-\_\-init}!rs232.h@{rs232.\-h}}
\subsubsection[{uart\-\_\-init}]{\setlength{\rightskip}{0pt plus 5cm}int uart\-\_\-init (
\begin{DoxyParamCaption}
\item[{uint8\-\_\-t}]{uart, }
\item[{uint32\-\_\-t}]{baud}
\end{DoxyParamCaption}
)}}\label{rs232_8h_a4973143ccfb71e6e9f99cb680af22957}


U\-A\-R\-T initialization function that works with avr-\/libc functions. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em uart} & U\-A\-R\-T number. \\
\hline
\mbox{\tt in}  & {\em baud} & Baud Rate in H\-Z.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success. 

-\/1 on fail. 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See Also}
fdevopen() avr-\/libc function. 
\end{DoxySeeAlso}


Definition at line 98 of file rs232.\-c.



Referenced by main().

\hypertarget{rs232_8h_a62e784f8c17878ebc2f7ad942086d2e9}{\index{rs232.\-h@{rs232.\-h}!uart\-\_\-keyhit@{uart\-\_\-keyhit}}
\index{uart\-\_\-keyhit@{uart\-\_\-keyhit}!rs232.h@{rs232.\-h}}
\subsubsection[{uart\-\_\-keyhit}]{\setlength{\rightskip}{0pt plus 5cm}uint8\-\_\-t uart\-\_\-keyhit (
\begin{DoxyParamCaption}
\item[{uint8\-\_\-t}]{uart}
\end{DoxyParamCaption}
)}}\label{rs232_8h_a62e784f8c17878ebc2f7ad942086d2e9}


Do we have receive characters waiting ?. 


\begin{DoxyItemize}
\item Returns non zero if there are any caracters.
\end{DoxyItemize}


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em uart} & uart number.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Character count in receive buffer. 
\end{DoxyReturn}


Definition at line 349 of file rs232.\-c.



Referenced by get\-\_\-line(), gpib\-\_\-error\-\_\-test(), gpib\-\_\-read\-\_\-byte(), gpib\-\_\-trace\-\_\-task(), gpib\-\_\-write\-\_\-byte(), plot\-\_\-echo(), receive\-\_\-plot(), and task().

\hypertarget{rs232_8h_a1cd0dacc866c8f430d9a09159d10148c}{\index{rs232.\-h@{rs232.\-h}!uart\-\_\-peek\-\_\-tail@{uart\-\_\-peek\-\_\-tail}}
\index{uart\-\_\-peek\-\_\-tail@{uart\-\_\-peek\-\_\-tail}!rs232.h@{rs232.\-h}}
\subsubsection[{uart\-\_\-peek\-\_\-tail}]{\setlength{\rightskip}{0pt plus 5cm}uint8\-\_\-t uart\-\_\-peek\-\_\-tail (
\begin{DoxyParamCaption}
\item[{uint8\-\_\-t}]{uart}
\end{DoxyParamCaption}
)}}\label{rs232_8h_a1cd0dacc866c8f430d9a09159d10148c}


Return character waiting in ring buffer without removing it. 

\begin{DoxyReturn}{Returns}
character. 

0 on error. 
\end{DoxyReturn}


Definition at line 197 of file rs232.\-c.

\hypertarget{rs232_8h_ac2ee59bdf981ff614d81f495dd028601}{\index{rs232.\-h@{rs232.\-h}!uart\-\_\-put@{uart\-\_\-put}}
\index{uart\-\_\-put@{uart\-\_\-put}!rs232.h@{rs232.\-h}}
\subsubsection[{uart\-\_\-put}]{\setlength{\rightskip}{0pt plus 5cm}void uart\-\_\-put (
\begin{DoxyParamCaption}
\item[{uint8\-\_\-t}]{c}
\end{DoxyParamCaption}
)}}\label{rs232_8h_ac2ee59bdf981ff614d81f495dd028601}


Transmit a character on U\-A\-R\-T 0. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em c} & character to write \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line 358 of file rs232.\-c.



Referenced by get\-\_\-line().

\hypertarget{rs232_8h_aa121f493123a7a21b0a1086cfebadf63}{\index{rs232.\-h@{rs232.\-h}!uart\-\_\-putchar@{uart\-\_\-putchar}}
\index{uart\-\_\-putchar@{uart\-\_\-putchar}!rs232.h@{rs232.\-h}}
\subsubsection[{uart\-\_\-putchar}]{\setlength{\rightskip}{0pt plus 5cm}void uart\-\_\-putchar (
\begin{DoxyParamCaption}
\item[{char}]{c, }
\item[{int}]{uart}
\end{DoxyParamCaption}
)}}\label{rs232_8h_aa121f493123a7a21b0a1086cfebadf63}


Transmit 1 byte on uart. 


\begin{DoxyItemize}
\item C\-R/\-L\-F Output translation. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em c} & transmit character. \\
\hline
\mbox{\tt in}  & {\em uart} & uart number.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void. 
\end{DoxyReturn}

\end{DoxyItemize}

Definition at line 334 of file rs232.\-c.



Referenced by uart0\-\_\-putchar().

\hypertarget{rs232_8h_ac2daabfbed3e1679f834b158dfbbbe80}{\index{rs232.\-h@{rs232.\-h}!uart\-\_\-rx\-\_\-byte@{uart\-\_\-rx\-\_\-byte}}
\index{uart\-\_\-rx\-\_\-byte@{uart\-\_\-rx\-\_\-byte}!rs232.h@{rs232.\-h}}
\subsubsection[{uart\-\_\-rx\-\_\-byte}]{\setlength{\rightskip}{0pt plus 5cm}int uart\-\_\-rx\-\_\-byte (
\begin{DoxyParamCaption}
\item[{uint8\-\_\-t}]{uart}
\end{DoxyParamCaption}
)}}\label{rs232_8h_ac2daabfbed3e1679f834b158dfbbbe80}


Recive character character from uart. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em uart} & uart number.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Character. 
\end{DoxyReturn}


Definition at line 266 of file rs232.\-c.



Referenced by uart\-\_\-getchar().

\hypertarget{rs232_8h_aa8413cd0d098fabe8a888be1addc3924}{\index{rs232.\-h@{rs232.\-h}!uart\-\_\-rx\-\_\-count@{uart\-\_\-rx\-\_\-count}}
\index{uart\-\_\-rx\-\_\-count@{uart\-\_\-rx\-\_\-count}!rs232.h@{rs232.\-h}}
\subsubsection[{uart\-\_\-rx\-\_\-count}]{\setlength{\rightskip}{0pt plus 5cm}uint8\-\_\-t uart\-\_\-rx\-\_\-count (
\begin{DoxyParamCaption}
\item[{uint8\-\_\-t}]{uart}
\end{DoxyParamCaption}
)}}\label{rs232_8h_aa8413cd0d098fabe8a888be1addc3924}


return count of character count waiting in U\-A\-R\-T ring buffer. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em uart} & uart number to check count for.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Character count in ring buffer. 
\end{DoxyReturn}


Definition at line 244 of file rs232.\-c.



Referenced by uart\-\_\-get\-\_\-tail(), and uart\-\_\-keyhit().

\hypertarget{rs232_8h_ab823b4d83752db47c0852bfa36a59036}{\index{rs232.\-h@{rs232.\-h}!uart\-\_\-rx\-\_\-flush@{uart\-\_\-rx\-\_\-flush}}
\index{uart\-\_\-rx\-\_\-flush@{uart\-\_\-rx\-\_\-flush}!rs232.h@{rs232.\-h}}
\subsubsection[{uart\-\_\-rx\-\_\-flush}]{\setlength{\rightskip}{0pt plus 5cm}void uart\-\_\-rx\-\_\-flush (
\begin{DoxyParamCaption}
\item[{uint8\-\_\-t}]{uart}
\end{DoxyParamCaption}
)}}\label{rs232_8h_ab823b4d83752db47c0852bfa36a59036}


Flush receive ring buffer for specified uart. 

\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line 22 of file rs232.\-c.



Referenced by uart\-\_\-init().

\hypertarget{rs232_8h_a382aa76e85fa3a1a2add5111578e954e}{\index{rs232.\-h@{rs232.\-h}!uart\-\_\-rx\-\_\-interrupt@{uart\-\_\-rx\-\_\-interrupt}}
\index{uart\-\_\-rx\-\_\-interrupt@{uart\-\_\-rx\-\_\-interrupt}!rs232.h@{rs232.\-h}}
\subsubsection[{uart\-\_\-rx\-\_\-interrupt}]{\setlength{\rightskip}{0pt plus 5cm}void uart\-\_\-rx\-\_\-interrupt (
\begin{DoxyParamCaption}
\item[{uint8\-\_\-t}]{uart, }
\item[{uint8\-\_\-t}]{data}
\end{DoxyParamCaption}
)}}\label{rs232_8h_a382aa76e85fa3a1a2add5111578e954e}


U\-A\-R\-T Receive Interrupt task. 


\begin{DoxyItemize}
\item Add characters to ring receive buffer.
\end{DoxyItemize}


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em uart} & uart number. \\
\hline
\mbox{\tt in}  & {\em data} & register data.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void. 
\end{DoxyReturn}


Definition at line 175 of file rs232.\-c.



Referenced by I\-S\-R().

\hypertarget{rs232_8h_a23169748018111e05b90e5779cb63c70}{\index{rs232.\-h@{rs232.\-h}!uart\-\_\-tx\-\_\-byte@{uart\-\_\-tx\-\_\-byte}}
\index{uart\-\_\-tx\-\_\-byte@{uart\-\_\-tx\-\_\-byte}!rs232.h@{rs232.\-h}}
\subsubsection[{uart\-\_\-tx\-\_\-byte}]{\setlength{\rightskip}{0pt plus 5cm}void uart\-\_\-tx\-\_\-byte (
\begin{DoxyParamCaption}
\item[{char}]{c, }
\item[{uint8\-\_\-t}]{uart}
\end{DoxyParamCaption}
)}}\label{rs232_8h_a23169748018111e05b90e5779cb63c70}


Transmit 1 byte on uart. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em c} & transmit character. \\
\hline
\mbox{\tt in}  & {\em uart} & uart number.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void. 
\end{DoxyReturn}


Definition at line 308 of file rs232.\-c.



Referenced by uart\-\_\-putchar().

