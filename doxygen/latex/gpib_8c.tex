\hypertarget{gpib_8c}{\section{gpib/gpib.c File Reference}
\label{gpib_8c}\index{gpib/gpib.\-c@{gpib/gpib.\-c}}
}


G\-P\-I\-B emulator for H\-P85 disk emulator project for A\-V\-R8.  


{\ttfamily \#include $<$avr/pgmspace.\-h$>$}\\*
{\ttfamily \#include $<$avr/portpins.\-h$>$}\\*
{\ttfamily \#include $<$avr/io.\-h$>$}\\*
{\ttfamily \#include \char`\"{}user\-\_\-config.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}gpib\-\_\-hal.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}defines.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}gpib.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}gpib\-\_\-task.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}amigo.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}ss80.\-h\char`\"{}}\\*
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{gpib_8c_a6dcb5fc551174cd685f0802f86329f3b}{H\-T\-I\-M\-E\-O\-U\-T}~(500000\-L / G\-P\-I\-B\-\_\-\-T\-A\-S\-K\-\_\-\-T\-I\-C\-\_\-\-U\-S)
\begin{DoxyCompactList}\small\item\em This is the default B\-U\-S timeout of 0.\-5 Seconds in Microseconds. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{gpib_8c_a6a3c1941e17626338b878123677ae797}{gpib\-\_\-timer\-\_\-elapsed\-\_\-begin} (void)
\begin{DoxyCompactList}\small\item\em Start measuring time -\/ used with hpib\-\_\-timer\-\_\-elapsed\-\_\-end() \end{DoxyCompactList}\item 
void \hyperlink{gpib_8c_abe05115c27148ec7013e6f62dc94ae78}{gpib\-\_\-timer\-\_\-reset} (void)
\begin{DoxyCompactList}\small\item\em Reset elapsed and timeout timers Elapses and Timeout Timers. \end{DoxyCompactList}\item 
void \hyperlink{gpib_8c_a87ae4b4852f4a1987fc61fec20f53d42}{gpib\-\_\-timer\-\_\-elapsed\-\_\-end} (char $\ast$msg)
\begin{DoxyCompactList}\small\item\em Display user message and time delta since \hyperlink{gpib_8c_a6a3c1941e17626338b878123677ae797}{gpib\-\_\-timer\-\_\-elapsed\-\_\-begin()} call. \end{DoxyCompactList}\item 
void \hyperlink{gpib_8c_ae9291b22beebb9d24354af643505f9cd}{gpib\-\_\-timer\-\_\-task} ()
\begin{DoxyCompactList}\small\item\em Main G\-P\-I\-B timer task called by low level interrup hander. \end{DoxyCompactList}\item 
void \hyperlink{gpib_8c_a687395337dd5c6604a775e3ffd3f006f}{gpib\-\_\-timeout\-\_\-set} (uint32\-\_\-t \hyperlink{time_8h_a32b1cbd925752f0cd61d202bbe204a69}{time})
\begin{DoxyCompactList}\small\item\em Set G\-P\-I\-B timeout timer in units of G\-P\-I\-B\-\_\-\-T\-A\-S\-K\-\_\-\-T\-I\-C\-\_\-\-U\-S. \end{DoxyCompactList}\item 
uint8\-\_\-t \hyperlink{gpib_8c_a3eb10b99d17dd69982b6bfc820fb29db}{gpib\-\_\-timeout\-\_\-test} ()
\begin{DoxyCompactList}\small\item\em Test G\-P\-I\-B timeout timer for timeout condition. \end{DoxyCompactList}\item 
void \hyperlink{gpib_8c_a5576f7a1bab2c1beaab0c03bc62bb349}{gpib\-\_\-bus\-\_\-init} (int cold)
\begin{DoxyCompactList}\small\item\em Initialize G\-P\-I\-B Bus control lines for powerup or reset conditions. \end{DoxyCompactList}\item 
void \hyperlink{gpib_8c_a32d2476eec2bbdf15e7db1b901c5a671}{gpib\-\_\-state\-\_\-init} (void)
\begin{DoxyCompactList}\small\item\em Reset G\-P\-I\-B states and related variables. \end{DoxyCompactList}\item 
void \hyperlink{gpib_8c_a1e5848758c79d519d6f9e7d9edbb0af6}{Enable\-P\-P\-R} (uint8\-\_\-t val)
\begin{DoxyCompactList}\small\item\em Enable P\-P\-R (Parallel Poll Response) for a device. \end{DoxyCompactList}\item 
void \hyperlink{gpib_8c_ae85030a11d0c7d6828301d30db0bb35f}{Disable\-P\-P\-R} (uint8\-\_\-t val)
\begin{DoxyCompactList}\small\item\em Disable P\-P\-R (Parallel Poll Response) for a device. \end{DoxyCompactList}\item 
uint8\-\_\-t \hyperlink{gpib_8c_a42d306c338c639682d0d6f0434a5c88b}{Parallel\-\_\-\-Poll} ()
\begin{DoxyCompactList}\small\item\em Detect Parallel Poll state. \end{DoxyCompactList}\item 
void \hyperlink{gpib_8c_a01eaf30370a0b43263d19ebaa2fa4a38}{gpib\-\_\-assert\-\_\-ifc} (void)
\begin{DoxyCompactList}\small\item\em Assert Interface clear for 250us. \end{DoxyCompactList}\item 
void \hyperlink{gpib_8c_ae826d722b789698ce9217758fe55fdcb}{gpib\-\_\-assert\-\_\-ren} (unsigned char state)
\begin{DoxyCompactList}\small\item\em Assert R\-E\-N to put instrument in remote mode. \end{DoxyCompactList}\item 
uint16\-\_\-t \hyperlink{gpib_8c_ac3d50cc1d56705d107e2f8fb00692e68}{gpib\-\_\-write\-\_\-byte} (uint16\-\_\-t ch)
\begin{DoxyCompactList}\small\item\em Send 1 byte and control line states to G\-P\-I\-B B\-U\-S. \end{DoxyCompactList}\item 
uint16\-\_\-t \hyperlink{gpib_8c_a2fdb3d4996ff399dc2fbfcada417bb1a}{gpib\-\_\-unread} (uint16\-\_\-t ch)
\begin{DoxyCompactList}\small\item\em G\-P\-I\-B ungets one character and all status states. \end{DoxyCompactList}\item 
uint16\-\_\-t \hyperlink{gpib_8c_a8dd0928ed1cdc2319fd14c122b333cba}{gpib\-\_\-read\-\_\-byte} (void)
\begin{DoxyCompactList}\small\item\em read 1 byte and control line status from G\-P\-I\-B B\-U\-S \end{DoxyCompactList}\item 
void \hyperlink{gpib_8c_a65786186b6eceb91bf717888b03ca9f1}{gpib\-\_\-decode\-\_\-header} (void)
\begin{DoxyCompactList}\small\item\em Displays help for \hyperlink{gpib_8c_a37b2271a4a82b5c953bf08cf0c571577}{gpib\-\_\-decode()} function. \end{DoxyCompactList}\item 
void \hyperlink{gpib_8c_aa51aff9c441c1129ec3a9c85cec17bcc}{gpib\-\_\-decode\-\_\-str} (uint16\-\_\-t ch, char $\ast$str)
\begin{DoxyCompactList}\small\item\em decode/display all control flags and data on the G\-P\-I\-B B\-U\-S \end{DoxyCompactList}\item 
void \hyperlink{gpib_8c_a37b2271a4a82b5c953bf08cf0c571577}{gpib\-\_\-decode} (uint16\-\_\-t ch)
\begin{DoxyCompactList}\small\item\em Calls \hyperlink{gpib_8c_aa51aff9c441c1129ec3a9c85cec17bcc}{gpib\-\_\-decode\-\_\-str()} and dosplays the result. \end{DoxyCompactList}\item 
int \hyperlink{gpib_8c_a67f7cdca85091b3eb0eea0051a200fbe}{gpib\-\_\-read\-\_\-str} (uint8\-\_\-t $\ast$buf, int size, uint16\-\_\-t $\ast$status)
\begin{DoxyCompactList}\small\item\em Read string from G\-P\-I\-B B\-U\-S -\/ controlled by status flags. \end{DoxyCompactList}\item 
int \hyperlink{gpib_8c_a1bdaac9496e7a0a3523481f2e8a2b9fe}{gpib\-\_\-write\-\_\-str} (uint8\-\_\-t $\ast$buf, int size, uint16\-\_\-t $\ast$status)
\begin{DoxyCompactList}\small\item\em Send string to G\-P\-I\-B B\-U\-S -\/ controlled by status flags. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
uint8\-\_\-t \hyperlink{gpib_8c_a00023217d54aa8bb6473583593942869}{gpib\-\_\-iobuff} \mbox{[}\hyperlink{gpib_8h_a78f2361b60656c29cf6da26f240aaae2}{G\-P\-I\-B\-\_\-\-I\-O\-B\-U\-F\-F\-\_\-\-L\-E\-N}\mbox{]}
\begin{DoxyCompactList}\small\item\em common I\-O buffer for \hyperlink{gpib_8c_a67f7cdca85091b3eb0eea0051a200fbe}{gpib\-\_\-read\-\_\-str()} and \hyperlink{gpib_8c_a1bdaac9496e7a0a3523481f2e8a2b9fe}{gpib\-\_\-write\-\_\-str()} \end{DoxyCompactList}\item 
uint8\-\_\-t \hyperlink{gpib_8c_a2296b83cccf9d7a3b954d18ece282bd1}{gpib\-\_\-unread\-\_\-f} = 0
\begin{DoxyCompactList}\small\item\em \hyperlink{gpib_8c_a2fdb3d4996ff399dc2fbfcada417bb1a}{gpib\-\_\-unread()} flag \end{DoxyCompactList}\item 
uint16\-\_\-t \hyperlink{gpib_8c_a8f8b0bbe03e4f62aa8e736a9a1f5f609}{gpib\-\_\-unread\-\_\-data}
\begin{DoxyCompactList}\small\item\em \hyperlink{gpib_8c_a2fdb3d4996ff399dc2fbfcada417bb1a}{gpib\-\_\-unread()} data \end{DoxyCompactList}\item 
uint8\-\_\-t \hyperlink{gpib_8c_acef501d1e292f230efac5ed0cddf90e8}{talking}
\begin{DoxyCompactList}\small\item\em gpib talk address \end{DoxyCompactList}\item 
uint8\-\_\-t \hyperlink{gpib_8c_a8f34b1ce42fbf3391219cfedde825495}{talking\-\_\-last}
\begin{DoxyCompactList}\small\item\em gpib last talk address \end{DoxyCompactList}\item 
uint8\-\_\-t \hyperlink{gpib_8c_a906eb6f6a81521d91f73f9ab2e03b02e}{listening}
\begin{DoxyCompactList}\small\item\em gpib listen address \end{DoxyCompactList}\item 
uint8\-\_\-t \hyperlink{gpib_8c_a049cdc383eed2f97e4384a5728c00123}{listening\-\_\-last}
\begin{DoxyCompactList}\small\item\em gpib last listen address \end{DoxyCompactList}\item 
uint8\-\_\-t \hyperlink{gpib_8c_a0205f89c3878a7a6cb4ee1f75de35fb3}{spoll}
\begin{DoxyCompactList}\small\item\em gpib serial poll status \end{DoxyCompactList}\item 
uint16\-\_\-t \hyperlink{gpib_8c_ab8bc74192b6d8a3e352b03e724dac5b7}{lastcmd}
\begin{DoxyCompactList}\small\item\em gpib current and last command \end{DoxyCompactList}\item 
uint16\-\_\-t \hyperlink{gpib_8c_aaad5615d233044464c3661481a6760cd}{current}
\item 
uint8\-\_\-t \hyperlink{gpib_8c_a25538708e408bbc21b380cb6f709f5d8}{secondary}
\begin{DoxyCompactList}\small\item\em gpib secondary \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
G\-P\-I\-B emulator for H\-P85 disk emulator project for A\-V\-R8. \begin{DoxyParagraph}{Edit History -\/ \mbox{[}1.0\mbox{]} \mbox{[}Mike Gore\mbox{]} Initial revision of file.}

\end{DoxyParagraph}
\begin{DoxyParagraph}{Copyright \copyright{} 2014 Mike Gore, Inc. All rights reserved.}

\end{DoxyParagraph}
\begin{DoxyParagraph}{Based on work by Anders Gustafsson.}

\end{DoxyParagraph}
\begin{DoxyParagraph}{Copyright \copyright{} 2014 Anders Gustafsson All rights reserved..}

\end{DoxyParagraph}


Definition in file \hyperlink{gpib_8c_source}{gpib.\-c}.



\subsection{Macro Definition Documentation}
\hypertarget{gpib_8c_a6dcb5fc551174cd685f0802f86329f3b}{\index{gpib.\-c@{gpib.\-c}!H\-T\-I\-M\-E\-O\-U\-T@{H\-T\-I\-M\-E\-O\-U\-T}}
\index{H\-T\-I\-M\-E\-O\-U\-T@{H\-T\-I\-M\-E\-O\-U\-T}!gpib.c@{gpib.\-c}}
\subsubsection[{H\-T\-I\-M\-E\-O\-U\-T}]{\setlength{\rightskip}{0pt plus 5cm}\#define H\-T\-I\-M\-E\-O\-U\-T~(500000\-L / G\-P\-I\-B\-\_\-\-T\-A\-S\-K\-\_\-\-T\-I\-C\-\_\-\-U\-S)}}\label{gpib_8c_a6dcb5fc551174cd685f0802f86329f3b}


This is the default B\-U\-S timeout of 0.\-5 Seconds in Microseconds. 


\begin{DoxyItemize}
\item References\-: Documenation and related sources of information
\begin{DoxyItemize}
\item Web Resources\-:
\begin{DoxyItemize}
\item \href{http://www.hp9845.net}{\tt http\-://www.\-hp9845.\-net}
\item \href{http://www.hpmuseum.net}{\tt http\-://www.\-hpmuseum.\-net}
\item \href{http://www.hpmusuem.org}{\tt http\-://www.\-hpmusuem.\-org}
\item \href{http://bitsavers.trailing-edge.com}{\tt http\-://bitsavers.\-trailing-\/edge.\-com}
\item \href{http://en.wikipedia.org/wiki/IEEE-488}{\tt http\-://en.\-wikipedia.\-org/wiki/\-I\-E\-E\-E-\/488}
\end{DoxyItemize}
\end{DoxyItemize}
\item S\-S80 References\-:
\begin{DoxyItemize}
\item \char`\"{}\-S\-S80\char`\"{} is the short form used in the project
\item \char`\"{}\-Subset 80 from Fixed and flexible disc drives\char`\"{}
\item Printed November, 1985
\item H\-P Part\# 5958-\/4129
\end{DoxyItemize}
\item C\-S80 References\-:
\begin{DoxyItemize}
\item \char`\"{}\-C\-S80\char`\"{} is the short form used in the project
\item \char`\"{}\-C\-S/80 Instruction Set Programming Manual\char`\"{}
\item Printed\-: A\-P\-R 1983
\item H\-P Part\# 5955-\/3442
\end{DoxyItemize}
\item Amigo References\-:
\begin{DoxyItemize}
\item \char`\"{}\-Amigo\char`\"{} is the short form used in the project
\item \char`\"{}\-Appendix A of 9895\-A Flexible Disc Memory Service Manual\char`\"{}
\item H\-P Part\# 09895-\/90030
\end{DoxyItemize}
\item H\-P-\/\-I\-B
\begin{DoxyItemize}
\item \char`\"{}\-H\-P-\/\-I\-B\char`\"{} is the short form used in the project
\item \char`\"{}\-Condensed Description of the Hewlett Packard Interface Bus\char`\"{}
\item Printed March 1975
\item H\-P Part\# 59401-\/90030
\end{DoxyItemize}
\item Tutorial Description of The Hewllet Packard Interface Bus\char`\"{}
  -\/ \char`\"{}H\-P-\/\-I\-B Tutorial" is the short form used in the project
\begin{DoxyItemize}
\item \href{http://www.hpmemory.org/an/pdf/hp-ib_tutorial_1980.pdf}{\tt http\-://www.\-hpmemory.\-org/an/pdf/hp-\/ib\-\_\-tutorial\-\_\-1980.\-pdf}
\begin{DoxyItemize}
\item Printed January 1983
\end{DoxyItemize}
\item \href{http://www.ko4bb.com/Manuals/HP_Agilent/HPIB_tutorial_HP.pdf}{\tt http\-://www.\-ko4bb.\-com/\-Manuals/\-H\-P\-\_\-\-Agilent/\-H\-P\-I\-B\-\_\-tutorial\-\_\-\-H\-P.\-pdf}
\begin{DoxyItemize}
\item Printed 1987
\end{DoxyItemize}
\end{DoxyItemize}
\item G\-P\-I\-B / I\-E\-E\-E 488 Tutorial by Ian Poole
\begin{DoxyItemize}
\item \href{http://www.radio-electronics.com/info/t_and_m/gpib/ieee488-basics-tutorial.php}{\tt http\-://www.\-radio-\/electronics.\-com/info/t\-\_\-and\-\_\-m/gpib/ieee488-\/basics-\/tutorial.\-php} 
\end{DoxyItemize}
\end{DoxyItemize}

Definition at line 72 of file gpib.\-c.



Referenced by gpib\-\_\-read\-\_\-byte(), and gpib\-\_\-write\-\_\-byte().



\subsection{Function Documentation}
\hypertarget{gpib_8c_ae85030a11d0c7d6828301d30db0bb35f}{\index{gpib.\-c@{gpib.\-c}!Disable\-P\-P\-R@{Disable\-P\-P\-R}}
\index{Disable\-P\-P\-R@{Disable\-P\-P\-R}!gpib.c@{gpib.\-c}}
\subsubsection[{Disable\-P\-P\-R}]{\setlength{\rightskip}{0pt plus 5cm}void Disable\-P\-P\-R (
\begin{DoxyParamCaption}
\item[{uint8\-\_\-t}]{val}
\end{DoxyParamCaption}
)}}\label{gpib_8c_ae85030a11d0c7d6828301d30db0bb35f}


Disable P\-P\-R (Parallel Poll Response) for a device. 


\begin{DoxyItemize}
\item Reference\-: S\-S80 pg 3-\/4, section 3-\/3 \begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}

\end{DoxyItemize}

Definition at line 290 of file gpib.\-c.



Referenced by Amigo\-\_\-\-Command(), A\-M\-I\-G\-O\-\_\-\-C\-O\-M\-M\-A\-N\-D\-S(), Amigo\-\_\-\-Execute(), amigo\-\_\-init(), gpib\-\_\-read\-\_\-byte(), G\-P\-I\-B\-\_\-\-S\-E\-C\-O\-N\-D\-A\-R\-Y\-\_\-\-A\-D\-D\-R\-E\-S\-S(), S\-S80\-\_\-\-Command\-\_\-\-State(), S\-S80\-\_\-\-C\-O\-M\-M\-A\-N\-D\-S(), S\-S80\-\_\-\-Execute\-\_\-\-State(), S\-S80\-\_\-init(), and S\-S80\-\_\-\-Transparent\-\_\-\-State().

\hypertarget{gpib_8c_a1e5848758c79d519d6f9e7d9edbb0af6}{\index{gpib.\-c@{gpib.\-c}!Enable\-P\-P\-R@{Enable\-P\-P\-R}}
\index{Enable\-P\-P\-R@{Enable\-P\-P\-R}!gpib.c@{gpib.\-c}}
\subsubsection[{Enable\-P\-P\-R}]{\setlength{\rightskip}{0pt plus 5cm}void Enable\-P\-P\-R (
\begin{DoxyParamCaption}
\item[{uint8\-\_\-t}]{val}
\end{DoxyParamCaption}
)}}\label{gpib_8c_a1e5848758c79d519d6f9e7d9edbb0af6}


Enable P\-P\-R (Parallel Poll Response) for a device. 


\begin{DoxyItemize}
\item Reference\-: S\-S80 pg 3-\/4, section 3-\/3 \begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}

\end{DoxyItemize}

Definition at line 275 of file gpib.\-c.



Referenced by amigo\-\_\-buffered\-\_\-read(), amigo\-\_\-buffered\-\_\-write(), amigo\-\_\-cmd\-\_\-clear(), amigo\-\_\-cmd\-\_\-wakeup(), Amigo\-\_\-\-Command(), amigo\-\_\-format(), amigo\-\_\-request\-\_\-status(), amigo\-\_\-seek(), amigo\-\_\-send\-\_\-logical\-\_\-address(), amigo\-\_\-send\-\_\-status(), amigo\-\_\-todo(), amigo\-\_\-todo\-\_\-op(), amigo\-\_\-verify(), S\-S80\-\_\-\-Amigo\-\_\-\-Clear(), S\-S80\-\_\-\-Cancel(), S\-S80\-\_\-\-Channel\-\_\-\-Independent\-\_\-\-Clear(), S\-S80\-\_\-\-Command\-\_\-\-State(), S\-S80\-\_\-\-Execute\-\_\-\-State(), S\-S80\-\_\-\-Selected\-\_\-\-Device\-\_\-\-Clear(), S\-S80\-\_\-\-Transparent\-\_\-\-State(), and S\-S80\-\_\-\-Universal\-\_\-\-Device\-\_\-\-Clear().

\hypertarget{gpib_8c_a01eaf30370a0b43263d19ebaa2fa4a38}{\index{gpib.\-c@{gpib.\-c}!gpib\-\_\-assert\-\_\-ifc@{gpib\-\_\-assert\-\_\-ifc}}
\index{gpib\-\_\-assert\-\_\-ifc@{gpib\-\_\-assert\-\_\-ifc}!gpib.c@{gpib.\-c}}
\subsubsection[{gpib\-\_\-assert\-\_\-ifc}]{\setlength{\rightskip}{0pt plus 5cm}void gpib\-\_\-assert\-\_\-ifc (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{gpib_8c_a01eaf30370a0b43263d19ebaa2fa4a38}


Assert Interface clear for 250us. 


\begin{DoxyItemize}
\item 100us is the Minumum
\item Reference\-: S\-S80 section 3-\/15, pg 3-\/26 \begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}

\end{DoxyItemize}

Definition at line 368 of file gpib.\-c.



Referenced by task().

\hypertarget{gpib_8c_ae826d722b789698ce9217758fe55fdcb}{\index{gpib.\-c@{gpib.\-c}!gpib\-\_\-assert\-\_\-ren@{gpib\-\_\-assert\-\_\-ren}}
\index{gpib\-\_\-assert\-\_\-ren@{gpib\-\_\-assert\-\_\-ren}!gpib.c@{gpib.\-c}}
\subsubsection[{gpib\-\_\-assert\-\_\-ren}]{\setlength{\rightskip}{0pt plus 5cm}void gpib\-\_\-assert\-\_\-ren (
\begin{DoxyParamCaption}
\item[{unsigned char}]{state}
\end{DoxyParamCaption}
)}}\label{gpib_8c_ae826d722b789698ce9217758fe55fdcb}


Assert R\-E\-N to put instrument in remote mode. 


\begin{DoxyItemize}
\item If state != 0 -\/$>$ assert R\-E\-N
\item If state == 0 -\/$>$ deassert R\-E\-N \begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}

\end{DoxyItemize}

Definition at line 388 of file gpib.\-c.

\hypertarget{gpib_8c_a5576f7a1bab2c1beaab0c03bc62bb349}{\index{gpib.\-c@{gpib.\-c}!gpib\-\_\-bus\-\_\-init@{gpib\-\_\-bus\-\_\-init}}
\index{gpib\-\_\-bus\-\_\-init@{gpib\-\_\-bus\-\_\-init}!gpib.c@{gpib.\-c}}
\subsubsection[{gpib\-\_\-bus\-\_\-init}]{\setlength{\rightskip}{0pt plus 5cm}void gpib\-\_\-bus\-\_\-init (
\begin{DoxyParamCaption}
\item[{int}]{cold}
\end{DoxyParamCaption}
)}}\label{gpib_8c_a5576f7a1bab2c1beaab0c03bc62bb349}


Initialize G\-P\-I\-B Bus control lines for powerup or reset conditions. 


\begin{DoxyItemize}
\item Set cold = 1 at powerup
\item set cold = 0 in operation to reset bus state
\begin{DoxyItemize}
\item If cold = 0 N\-R\-F\-D/\-N\-D\-A\-C is setto 0 busy
\end{DoxyItemize}
\item References\-:
\begin{DoxyItemize}
\item H\-P-\/\-I\-B Tutorial
\item H\-P-\/\-I\-B pg 8-\/11 \begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}

\end{DoxyItemize}
\end{DoxyItemize}References\-: H\-P-\/\-I\-B Tutorial pg 12,13 H\-P-\/\-I\-B pg 8-\/11 

Definition at line 209 of file gpib.\-c.



Referenced by gpib\-\_\-error\-\_\-test(), gpib\-\_\-task(), gpib\-\_\-trace\-\_\-task(), main(), plot\-\_\-echo(), receive\-\_\-plot(), and S\-S80\-\_\-init().

\hypertarget{gpib_8c_a37b2271a4a82b5c953bf08cf0c571577}{\index{gpib.\-c@{gpib.\-c}!gpib\-\_\-decode@{gpib\-\_\-decode}}
\index{gpib\-\_\-decode@{gpib\-\_\-decode}!gpib.c@{gpib.\-c}}
\subsubsection[{gpib\-\_\-decode}]{\setlength{\rightskip}{0pt plus 5cm}void gpib\-\_\-decode (
\begin{DoxyParamCaption}
\item[{uint16\-\_\-t}]{ch}
\end{DoxyParamCaption}
)}}\label{gpib_8c_a37b2271a4a82b5c953bf08cf0c571577}


Calls \hyperlink{gpib_8c_aa51aff9c441c1129ec3a9c85cec17bcc}{gpib\-\_\-decode\-\_\-str()} and dosplays the result. 

Display\-: decode/display all control flags and data on G\-P\-I\-B B\-U\-S. \begin{DoxySeeAlso}{See Also}
\hyperlink{gpib_8c_aa51aff9c441c1129ec3a9c85cec17bcc}{gpib\-\_\-decode\-\_\-str()} 
\end{DoxySeeAlso}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line 960 of file gpib.\-c.



Referenced by gpib\-\_\-read\-\_\-str(), gpib\-\_\-unread(), gpib\-\_\-write\-\_\-str(), S\-S80\-\_\-\-Command\-\_\-\-State(), and S\-S80\-\_\-\-Transparent\-\_\-\-State().

\hypertarget{gpib_8c_a65786186b6eceb91bf717888b03ca9f1}{\index{gpib.\-c@{gpib.\-c}!gpib\-\_\-decode\-\_\-header@{gpib\-\_\-decode\-\_\-header}}
\index{gpib\-\_\-decode\-\_\-header@{gpib\-\_\-decode\-\_\-header}!gpib.c@{gpib.\-c}}
\subsubsection[{gpib\-\_\-decode\-\_\-header}]{\setlength{\rightskip}{0pt plus 5cm}void gpib\-\_\-decode\-\_\-header (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{gpib_8c_a65786186b6eceb91bf717888b03ca9f1}


Displays help for \hyperlink{gpib_8c_a37b2271a4a82b5c953bf08cf0c571577}{gpib\-\_\-decode()} function. 

You would call this once at the start of a trace for example. \begin{DoxySeeAlso}{See Also}
\-: \hyperlink{gpib_8h}{gpib.\-h} \-\_\-\-F\-L\-A\-G\-S defines for a full list is control lines we track 

\-: gpib\-\_\-trace() 
\end{DoxySeeAlso}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line 858 of file gpib.\-c.



Referenced by gpib\-\_\-trace\-\_\-task(), and plot\-\_\-echo().

\hypertarget{gpib_8c_aa51aff9c441c1129ec3a9c85cec17bcc}{\index{gpib.\-c@{gpib.\-c}!gpib\-\_\-decode\-\_\-str@{gpib\-\_\-decode\-\_\-str}}
\index{gpib\-\_\-decode\-\_\-str@{gpib\-\_\-decode\-\_\-str}!gpib.c@{gpib.\-c}}
\subsubsection[{gpib\-\_\-decode\-\_\-str}]{\setlength{\rightskip}{0pt plus 5cm}void gpib\-\_\-decode\-\_\-str (
\begin{DoxyParamCaption}
\item[{uint16\-\_\-t}]{ch, }
\item[{char $\ast$}]{str}
\end{DoxyParamCaption}
)}}\label{gpib_8c_aa51aff9c441c1129ec3a9c85cec17bcc}


decode/display all control flags and data on the G\-P\-I\-B B\-U\-S 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em ch} & 
\begin{DoxyItemize}
\item Lower 8 bits\-: Data or Command.
\begin{DoxyItemize}
\item If A\-T\-N is L\-O\-W then we strip parity from the byte.
\end{DoxyItemize}
\item Upper 8 bits\-: Status and Errors.
\begin{DoxyItemize}
\item 
\end{DoxyItemize}
\end{DoxyItemize}\\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See Also}
\hyperlink{gpib_8h}{gpib.\-h} \-\_\-\-F\-L\-A\-G\-S defines for a full list.
\begin{DoxyItemize}
\item An error implies the data byte can't be trusted
\item Control Line Flags.
\begin{DoxyItemize}
\item \hyperlink{gpib_8h_ab6e601afadf8d274d9d341323a5c6a3e}{E\-O\-I\-\_\-\-F\-L\-A\-G}
\item \hyperlink{gpib_8h_aadec0e361e7d2ed6a82ef28bee7231f6}{S\-R\-Q\-\_\-\-F\-L\-A\-G}
\item \hyperlink{gpib_8h_abbe287946c2beaa1f76fe5be364c07ad}{A\-T\-N\-\_\-\-F\-L\-A\-G}
\item \hyperlink{gpib_8h_ac5ae85572f7432aaab806c29177eec8d}{R\-E\-N\-\_\-\-F\-L\-A\-G}
\item \hyperlink{gpib_8h_a660f399a9ffcc5c666bcc726073338cb}{P\-P\-\_\-\-F\-L\-A\-G}
\end{DoxyItemize}
\item Error Flags\-:
\begin{DoxyItemize}
\item \hyperlink{gpib_8h_a0202c6cc39130a2c251235ef2336cd13}{I\-F\-C\-\_\-\-F\-L\-A\-G} 
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxySeeAlso}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em str} & string pointer to store the decoded result in.\\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See Also}
\-: \hyperlink{gpib_8c_a8dd0928ed1cdc2319fd14c122b333cba}{gpib\-\_\-read\-\_\-byte()} 

\-: gpib\-\_\-write\-\_\-byte(int ch) 

\-: \hyperlink{gpib_8c_a65786186b6eceb91bf717888b03ca9f1}{gpib\-\_\-decode\-\_\-header()}
\end{DoxySeeAlso}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
\begin{DoxyReturn}{Returns}
return 
\end{DoxyReturn}


Definition at line 899 of file gpib.\-c.



Referenced by gpib\-\_\-decode(), gpib\-\_\-task(), gpib\-\_\-trace\-\_\-task(), plot\-\_\-echo(), printer\-\_\-buffer(), and receive\-\_\-plot().

\hypertarget{gpib_8c_a8dd0928ed1cdc2319fd14c122b333cba}{\index{gpib.\-c@{gpib.\-c}!gpib\-\_\-read\-\_\-byte@{gpib\-\_\-read\-\_\-byte}}
\index{gpib\-\_\-read\-\_\-byte@{gpib\-\_\-read\-\_\-byte}!gpib.c@{gpib.\-c}}
\subsubsection[{gpib\-\_\-read\-\_\-byte}]{\setlength{\rightskip}{0pt plus 5cm}uint16\-\_\-t gpib\-\_\-read\-\_\-byte (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{gpib_8c_a8dd0928ed1cdc2319fd14c122b333cba}


read 1 byte and control line status from G\-P\-I\-B B\-U\-S 


\begin{DoxyItemize}
\item References\-: H\-P-\/\-I\-B Tutorial pg 13, 14.
\item Notes\-: Their diagram is a bit misleading -\/ they start in the B\-U\-S init phase. The init happens much earlier in other code -\/ we N\-E\-V\-E\-R want to do that here or bad things will happen -\/ we could step on the sender N\-R\-F\-D test and false trigger it. We instead start with N\-R\-F\-D F\-L\-O\-A\-T, and N\-D\-A\-C L\-O\-W. See loop in send diagram it has N\-D\-A\-C == 0 and N\-R\-F\-D == 1 in the return to send (beginning) part of the loop.
\item The H\-P-\/\-I\-B reference has an error\-: Read ready actually starts when N\-R\-F\-D = 1 and N\-D\-A\-C = 0. If you look at the Write state diagram that can be confirmed.
\end{DoxyItemize}

\begin{DoxyReturn}{Returns}

\begin{DoxyItemize}
\item Lower 8 bits\-: Data or Command.
\begin{DoxyItemize}
\item If A\-T\-N is L\-O\-W then we strip parity from the byte.
\end{DoxyItemize}
\item Upper 8 bits\-: Status and Errors.
\begin{DoxyItemize}
\item 
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyReturn}
\begin{DoxySeeAlso}{See Also}
\hyperlink{gpib_8h}{gpib.\-h} \-\_\-\-F\-L\-A\-G\-S defines for a full list.
\begin{DoxyItemize}
\item An error implies the data byte can't be trusted
\item Control Line Flags.
\begin{DoxyItemize}
\item \hyperlink{gpib_8h_ab6e601afadf8d274d9d341323a5c6a3e}{E\-O\-I\-\_\-\-F\-L\-A\-G}
\item \hyperlink{gpib_8h_aadec0e361e7d2ed6a82ef28bee7231f6}{S\-R\-Q\-\_\-\-F\-L\-A\-G}
\item \hyperlink{gpib_8h_abbe287946c2beaa1f76fe5be364c07ad}{A\-T\-N\-\_\-\-F\-L\-A\-G}
\item \hyperlink{gpib_8h_ac5ae85572f7432aaab806c29177eec8d}{R\-E\-N\-\_\-\-F\-L\-A\-G}
\item \hyperlink{gpib_8h_a660f399a9ffcc5c666bcc726073338cb}{P\-P\-\_\-\-F\-L\-A\-G}
\end{DoxyItemize}
\item Error Flags\-:
\begin{DoxyItemize}
\item \hyperlink{gpib_8h_a0202c6cc39130a2c251235ef2336cd13}{I\-F\-C\-\_\-\-F\-L\-A\-G} 
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxySeeAlso}
References\-: S\-S80 pg 3-\/4, section 3-\/3

Note\-: see\-: H\-P-\/\-I\-B Tutorial pg 13
\begin{DoxyItemize}
\item Remember that N\-D\-A\-C and N\-R\-F\-D are now both L\-O\-W!
\item The spec says to K\-E\-E\-P B\-O\-T\-H L\-O\-W when N\-O\-T ready to read otherwise we may miss a transfer and cause a controller timeout!
\item G\-P\-I\-B T\-X state expects N\-R\-F\-D L\-O\-W on entry or it is an E\-R\-R\-O\-R! 
\end{DoxyItemize}

Definition at line 713 of file gpib.\-c.



Referenced by gpib\-\_\-read\-\_\-str(), gpib\-\_\-task(), gpib\-\_\-trace\-\_\-task(), plot\-\_\-echo(), and receive\-\_\-plot().

\hypertarget{gpib_8c_a67f7cdca85091b3eb0eea0051a200fbe}{\index{gpib.\-c@{gpib.\-c}!gpib\-\_\-read\-\_\-str@{gpib\-\_\-read\-\_\-str}}
\index{gpib\-\_\-read\-\_\-str@{gpib\-\_\-read\-\_\-str}!gpib.c@{gpib.\-c}}
\subsubsection[{gpib\-\_\-read\-\_\-str}]{\setlength{\rightskip}{0pt plus 5cm}int gpib\-\_\-read\-\_\-str (
\begin{DoxyParamCaption}
\item[{uint8\-\_\-t $\ast$}]{buf, }
\item[{int}]{size, }
\item[{uint16\-\_\-t $\ast$}]{status}
\end{DoxyParamCaption}
)}}\label{gpib_8c_a67f7cdca85091b3eb0eea0051a200fbe}


Read string from G\-P\-I\-B B\-U\-S -\/ controlled by status flags. 


\begin{DoxyItemize}
\item Status flags used when reading
\begin{DoxyItemize}
\item If E\-O\-I is set then E\-O\-I detection will end reading when E\-O\-I is detected.
\item If an early or unexpected E\-O\-I is detected a warning is displayed.
\item The state of A\-T\-N controls the type of data read.
\begin{DoxyItemize}
\item If A\-T\-N is set then parity is stripped.
\item Only data matching the A\-T\-N flag state set by user is read.
\begin{DoxyItemize}
\item If we see a mismatch we \char`\"{}unread\char`\"{} it and exit.
\item Unreading saves data A\-N\-D status to be reread later on.
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}

\begin{DoxySeeAlso}{See Also}
\-: \hyperlink{gpib_8c_a8dd0928ed1cdc2319fd14c122b333cba}{gpib\-\_\-read\-\_\-byte()} 

\-: \hyperlink{gpib_8c_a2fdb3d4996ff399dc2fbfcada417bb1a}{gpib\-\_\-unread()}
\end{DoxySeeAlso}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em buf} & Binary gpib string to read \\
\hline
\mbox{\tt in}  & {\em size} & Size of string we want to read \\
\hline
\mbox{\tt in}  & {\em status} & controls sending modes and returns status\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
bytes read 

status
\end{DoxyReturn}

\begin{DoxyItemize}
\item Errors T\-I\-M\-E\-O\-U\-T\-\_\-\-F\-L\-A\-G or I\-F\-C\-\_\-\-F\-L\-A\-G will cause early exit and set status.
\begin{DoxyItemize}
\item Lower 8 bits\-: Data or Command.
\begin{DoxyItemize}
\item If A\-T\-N is L\-O\-W then we strip parity from the byte.
\end{DoxyItemize}
\item Upper 8 bits\-: Status and Errors.
\begin{DoxyItemize}
\item \begin{DoxySeeAlso}{See Also}
\hyperlink{gpib_8h}{gpib.\-h} \-\_\-\-F\-L\-A\-G\-S defines for a full list.
\end{DoxySeeAlso}

\item An error implies the data byte can't be trusted
\item Control Line Flags.
\begin{DoxyItemize}
\item E\-O\-I\-\_\-\-F\-L\-A\-G
\item S\-R\-Q\-\_\-\-F\-L\-A\-G
\item A\-T\-N\-\_\-\-F\-L\-A\-G
\item R\-E\-N\-\_\-\-F\-L\-A\-G
\item P\-P\-\_\-\-F\-L\-A\-G
\end{DoxyItemize}
\item Error Flags\-:
\begin{DoxyItemize}
\item I\-F\-C\-\_\-\-F\-L\-A\-G 
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000016}{Todo}]T\-O\-D\-O decode this state -\/ for now I just set the E\-O\-I\-\_\-\-F\-L\-A\-G \end{DoxyRefDesc}


Definition at line 1006 of file gpib.\-c.



Referenced by amigo\-\_\-buffered\-\_\-write(), Amigo\-\_\-\-Command(), S\-S80\-\_\-\-Amigo\-\_\-\-Clear(), S\-S80\-\_\-\-Command\-\_\-\-State(), S\-S80\-\_\-locate\-\_\-and\-\_\-write(), and S\-S80\-\_\-\-Transparent\-\_\-\-State().

\hypertarget{gpib_8c_a32d2476eec2bbdf15e7db1b901c5a671}{\index{gpib.\-c@{gpib.\-c}!gpib\-\_\-state\-\_\-init@{gpib\-\_\-state\-\_\-init}}
\index{gpib\-\_\-state\-\_\-init@{gpib\-\_\-state\-\_\-init}!gpib.c@{gpib.\-c}}
\subsubsection[{gpib\-\_\-state\-\_\-init}]{\setlength{\rightskip}{0pt plus 5cm}void gpib\-\_\-state\-\_\-init (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{gpib_8c_a32d2476eec2bbdf15e7db1b901c5a671}


Reset G\-P\-I\-B states and related variables. 


\begin{DoxyItemize}
\item Called at powerup and I\-F\-C or reset states.
\item Does not reset B\-U\-S \begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}

\end{DoxyItemize}

Definition at line 246 of file gpib.\-c.



Referenced by gpib\-\_\-error\-\_\-test(), gpib\-\_\-task(), gpib\-\_\-trace\-\_\-task(), main(), plot\-\_\-echo(), and receive\-\_\-plot().

\hypertarget{gpib_8c_a687395337dd5c6604a775e3ffd3f006f}{\index{gpib.\-c@{gpib.\-c}!gpib\-\_\-timeout\-\_\-set@{gpib\-\_\-timeout\-\_\-set}}
\index{gpib\-\_\-timeout\-\_\-set@{gpib\-\_\-timeout\-\_\-set}!gpib.c@{gpib.\-c}}
\subsubsection[{gpib\-\_\-timeout\-\_\-set}]{\setlength{\rightskip}{0pt plus 5cm}void gpib\-\_\-timeout\-\_\-set (
\begin{DoxyParamCaption}
\item[{uint32\-\_\-t}]{time}
\end{DoxyParamCaption}
)}}\label{gpib_8c_a687395337dd5c6604a775e3ffd3f006f}


Set G\-P\-I\-B timeout timer in units of G\-P\-I\-B\-\_\-\-T\-A\-S\-K\-\_\-\-T\-I\-C\-\_\-\-U\-S. 

\begin{DoxySeeAlso}{See Also}
\-: \hyperlink{gpib_8c_a3eb10b99d17dd69982b6bfc820fb29db}{gpib\-\_\-timeout\-\_\-test()} 
\end{DoxySeeAlso}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line 183 of file gpib.\-c.



Referenced by gpib\-\_\-read\-\_\-byte(), and gpib\-\_\-write\-\_\-byte().

\hypertarget{gpib_8c_a3eb10b99d17dd69982b6bfc820fb29db}{\index{gpib.\-c@{gpib.\-c}!gpib\-\_\-timeout\-\_\-test@{gpib\-\_\-timeout\-\_\-test}}
\index{gpib\-\_\-timeout\-\_\-test@{gpib\-\_\-timeout\-\_\-test}!gpib.c@{gpib.\-c}}
\subsubsection[{gpib\-\_\-timeout\-\_\-test}]{\setlength{\rightskip}{0pt plus 5cm}uint8\-\_\-t gpib\-\_\-timeout\-\_\-test (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{gpib_8c_a3eb10b99d17dd69982b6bfc820fb29db}


Test G\-P\-I\-B timeout timer for timeout condition. 

\begin{DoxySeeAlso}{See Also}
\-: \hyperlink{gpib_8c_a687395337dd5c6604a775e3ffd3f006f}{gpib\-\_\-timeout\-\_\-set()} 
\end{DoxySeeAlso}
\begin{DoxyReturn}{Returns}
1 if timeout, 0 if not 
\end{DoxyReturn}


Definition at line 195 of file gpib.\-c.



Referenced by gpib\-\_\-read\-\_\-byte(), and gpib\-\_\-write\-\_\-byte().

\hypertarget{gpib_8c_a6a3c1941e17626338b878123677ae797}{\index{gpib.\-c@{gpib.\-c}!gpib\-\_\-timer\-\_\-elapsed\-\_\-begin@{gpib\-\_\-timer\-\_\-elapsed\-\_\-begin}}
\index{gpib\-\_\-timer\-\_\-elapsed\-\_\-begin@{gpib\-\_\-timer\-\_\-elapsed\-\_\-begin}!gpib.c@{gpib.\-c}}
\subsubsection[{gpib\-\_\-timer\-\_\-elapsed\-\_\-begin}]{\setlength{\rightskip}{0pt plus 5cm}void gpib\-\_\-timer\-\_\-elapsed\-\_\-begin (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{gpib_8c_a6a3c1941e17626338b878123677ae797}


Start measuring time -\/ used with hpib\-\_\-timer\-\_\-elapsed\-\_\-end() 

See \hyperlink{gpib__hal_8c}{gpib\-\_\-hal.\-c} for C\-P\-U specific code Provide Elapsed timer and Timeout timer -\/ both in Microseconds We use the lower level clock elapsed timer functions here \begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line 109 of file gpib.\-c.



Referenced by amigo\-\_\-buffered\-\_\-read(), amigo\-\_\-buffered\-\_\-write(), Amigo\-\_\-\-Command(), amigo\-\_\-format(), amigo\-\_\-verify(), gpib\-\_\-tests(), S\-S80\-\_\-locate\-\_\-and\-\_\-read(), and S\-S80\-\_\-locate\-\_\-and\-\_\-write().

\hypertarget{gpib_8c_a87ae4b4852f4a1987fc61fec20f53d42}{\index{gpib.\-c@{gpib.\-c}!gpib\-\_\-timer\-\_\-elapsed\-\_\-end@{gpib\-\_\-timer\-\_\-elapsed\-\_\-end}}
\index{gpib\-\_\-timer\-\_\-elapsed\-\_\-end@{gpib\-\_\-timer\-\_\-elapsed\-\_\-end}!gpib.c@{gpib.\-c}}
\subsubsection[{gpib\-\_\-timer\-\_\-elapsed\-\_\-end}]{\setlength{\rightskip}{0pt plus 5cm}void gpib\-\_\-timer\-\_\-elapsed\-\_\-end (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{msg}
\end{DoxyParamCaption}
)}}\label{gpib_8c_a87ae4b4852f4a1987fc61fec20f53d42}


Display user message and time delta since \hyperlink{gpib_8c_a6a3c1941e17626338b878123677ae797}{gpib\-\_\-timer\-\_\-elapsed\-\_\-begin()} call. 

Display a message \begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line 140 of file gpib.\-c.



Referenced by amigo\-\_\-buffered\-\_\-read(), amigo\-\_\-buffered\-\_\-write(), Amigo\-\_\-\-Command(), amigo\-\_\-format(), amigo\-\_\-verify(), gpib\-\_\-tests(), S\-S80\-\_\-locate\-\_\-and\-\_\-read(), and S\-S80\-\_\-locate\-\_\-and\-\_\-write().

\hypertarget{gpib_8c_abe05115c27148ec7013e6f62dc94ae78}{\index{gpib.\-c@{gpib.\-c}!gpib\-\_\-timer\-\_\-reset@{gpib\-\_\-timer\-\_\-reset}}
\index{gpib\-\_\-timer\-\_\-reset@{gpib\-\_\-timer\-\_\-reset}!gpib.c@{gpib.\-c}}
\subsubsection[{gpib\-\_\-timer\-\_\-reset}]{\setlength{\rightskip}{0pt plus 5cm}void gpib\-\_\-timer\-\_\-reset (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{gpib_8c_abe05115c27148ec7013e6f62dc94ae78}


Reset elapsed and timeout timers Elapses and Timeout Timers. 

\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line 126 of file gpib.\-c.



Referenced by gpib\-\_\-timer\-\_\-init().

\hypertarget{gpib_8c_ae9291b22beebb9d24354af643505f9cd}{\index{gpib.\-c@{gpib.\-c}!gpib\-\_\-timer\-\_\-task@{gpib\-\_\-timer\-\_\-task}}
\index{gpib\-\_\-timer\-\_\-task@{gpib\-\_\-timer\-\_\-task}!gpib.c@{gpib.\-c}}
\subsubsection[{gpib\-\_\-timer\-\_\-task}]{\setlength{\rightskip}{0pt plus 5cm}void gpib\-\_\-timer\-\_\-task (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{gpib_8c_ae9291b22beebb9d24354af643505f9cd}


Main G\-P\-I\-B timer task called by low level interrup hander. 


\begin{DoxyItemize}
\item Provides Down timers and Elapsed timers
\item Called every G\-P\-I\-B\-\_\-\-T\-A\-S\-K\-\_\-\-T\-I\-C\-\_\-\-U\-S Micro Seconds \begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}

\end{DoxyItemize}

Definition at line 166 of file gpib.\-c.



Referenced by gpib\-\_\-timer\-\_\-init().

\hypertarget{gpib_8c_a2fdb3d4996ff399dc2fbfcada417bb1a}{\index{gpib.\-c@{gpib.\-c}!gpib\-\_\-unread@{gpib\-\_\-unread}}
\index{gpib\-\_\-unread@{gpib\-\_\-unread}!gpib.c@{gpib.\-c}}
\subsubsection[{gpib\-\_\-unread}]{\setlength{\rightskip}{0pt plus 5cm}uint16\-\_\-t gpib\-\_\-unread (
\begin{DoxyParamCaption}
\item[{uint16\-\_\-t}]{ch}
\end{DoxyParamCaption}
)}}\label{gpib_8c_a2fdb3d4996ff399dc2fbfcada417bb1a}


G\-P\-I\-B ungets one character and all status states. 

Pushes a character back into the read buffer 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em ch} & 
\begin{DoxyItemize}
\item Lower 8 bits\-: Data or Command.
\begin{DoxyItemize}
\item If A\-T\-N is L\-O\-W then we strip parity from the byte.
\end{DoxyItemize}
\item Upper 8 bits\-: Status and Errors present.
\begin{DoxyItemize}
\item 
\end{DoxyItemize}
\end{DoxyItemize}\\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See Also}
\hyperlink{gpib_8h}{gpib.\-h} \-\_\-\-F\-L\-A\-G\-S defines for a full list. 
\end{DoxySeeAlso}
\begin{DoxyReturn}{Returns}
ch 
\end{DoxyReturn}


Definition at line 661 of file gpib.\-c.



Referenced by G\-P\-I\-B\-\_\-\-C\-O\-M\-M\-A\-N\-D\-S(), and gpib\-\_\-read\-\_\-str().

\hypertarget{gpib_8c_ac3d50cc1d56705d107e2f8fb00692e68}{\index{gpib.\-c@{gpib.\-c}!gpib\-\_\-write\-\_\-byte@{gpib\-\_\-write\-\_\-byte}}
\index{gpib\-\_\-write\-\_\-byte@{gpib\-\_\-write\-\_\-byte}!gpib.c@{gpib.\-c}}
\subsubsection[{gpib\-\_\-write\-\_\-byte}]{\setlength{\rightskip}{0pt plus 5cm}uint16\-\_\-t gpib\-\_\-write\-\_\-byte (
\begin{DoxyParamCaption}
\item[{uint16\-\_\-t}]{ch}
\end{DoxyParamCaption}
)}}\label{gpib_8c_ac3d50cc1d56705d107e2f8fb00692e68}


Send 1 byte and control line states to G\-P\-I\-B B\-U\-S. 


\begin{DoxyItemize}
\item We assume we are talking to an active controller already in read state
\begin{DoxyItemize}
\item Any error flags set on return imply the data was not likely sent
\item You can O\-R the control flags A\-T\-N\-\_\-\-F\-L\-A\-G, E\-O\-I\-\_\-\-F\-L\-A\-G with (ch) to send them these states.
\item Results can be displayed for debugging with the decode(ch) funnction
\item We always exit with N\-R\-F\-D and N\-D\-A\-C L\-O\-W
\end{DoxyItemize}
\item References\-: H\-P-\/\-I\-B Tutorial pg13. H\-P-\/\-I\-B Tutorial pg 13 for the receive and send control line states Correction\-: The send routine M\-U\-S\-T also wait for N\-D\-A\-C L\-O\-W before exit. (You can verify this by checking the receive part of the handshake diagram just before it returns to the start of the loop) Failing to wait will cause problems that may masqurade as timing issues.
\item (It caused problems with my H\-P85 before I added the code)
\end{DoxyItemize}


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt out}  & {\em ch} & ( Data or Command ) and control flags
\begin{DoxyItemize}
\item Upper 8 bits\-: contril flags
\item Flags\-:
\begin{DoxyItemize}
\item E\-O\-I\-\_\-\-F\-L\-A\-G
\item A\-T\-N\-\_\-\-F\-L\-A\-G
\end{DoxyItemize}
\end{DoxyItemize}\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}

\begin{DoxyItemize}
\item Lower 8 bits\-: Data or Command.
\begin{DoxyItemize}
\item If A\-T\-N is L\-O\-W then we strip parity from the byte.
\end{DoxyItemize}
\item Upper 8 bits\-: Status and Errors.
\begin{DoxyItemize}
\item 
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyReturn}
\begin{DoxySeeAlso}{See Also}
\hyperlink{gpib_8h}{gpib.\-h} \-\_\-\-F\-L\-A\-G\-S defines for a full list.
\begin{DoxyItemize}
\item An error implies the data byte can't be trusted
\item Control Line Flags.
\begin{DoxyItemize}
\item \hyperlink{gpib_8h_ab6e601afadf8d274d9d341323a5c6a3e}{E\-O\-I\-\_\-\-F\-L\-A\-G}
\item \hyperlink{gpib_8h_aadec0e361e7d2ed6a82ef28bee7231f6}{S\-R\-Q\-\_\-\-F\-L\-A\-G}
\item \hyperlink{gpib_8h_abbe287946c2beaa1f76fe5be364c07ad}{A\-T\-N\-\_\-\-F\-L\-A\-G}
\item \hyperlink{gpib_8h_ac5ae85572f7432aaab806c29177eec8d}{R\-E\-N\-\_\-\-F\-L\-A\-G}
\item \hyperlink{gpib_8h_a660f399a9ffcc5c666bcc726073338cb}{P\-P\-\_\-\-F\-L\-A\-G}
\end{DoxyItemize}
\item Error Flags\-:
\begin{DoxyItemize}
\item \hyperlink{gpib_8h_a0202c6cc39130a2c251235ef2336cd13}{I\-F\-C\-\_\-\-F\-L\-A\-G} 
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxySeeAlso}
See H\-P-\/\-I\-B Tutorial pg 13 for the receive and send control line states

\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000014}{Todo}]F\-I\-X\-M\-E If we test N\-R\-F\-D == 1 and N\-D\-A\-C == 1 and exit rather then waiting we frequently fail. Why does this happen ??? Disabling the test and waiting fixes the problem. Why ??? \end{DoxyRefDesc}


\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000015}{Todo}]F\-I\-X\-M\-E \end{DoxyRefDesc}


Definition at line 445 of file gpib.\-c.



Referenced by gpib\-\_\-write\-\_\-str().

\hypertarget{gpib_8c_a1bdaac9496e7a0a3523481f2e8a2b9fe}{\index{gpib.\-c@{gpib.\-c}!gpib\-\_\-write\-\_\-str@{gpib\-\_\-write\-\_\-str}}
\index{gpib\-\_\-write\-\_\-str@{gpib\-\_\-write\-\_\-str}!gpib.c@{gpib.\-c}}
\subsubsection[{gpib\-\_\-write\-\_\-str}]{\setlength{\rightskip}{0pt plus 5cm}int gpib\-\_\-write\-\_\-str (
\begin{DoxyParamCaption}
\item[{uint8\-\_\-t $\ast$}]{buf, }
\item[{int}]{size, }
\item[{uint16\-\_\-t $\ast$}]{status}
\end{DoxyParamCaption}
)}}\label{gpib_8c_a1bdaac9496e7a0a3523481f2e8a2b9fe}


Send string to G\-P\-I\-B B\-U\-S -\/ controlled by status flags. 


\begin{DoxyItemize}
\item Status flags used when sending
\begin{DoxyItemize}
\item If E\-O\-I is set then E\-O\-I is sent at last character
\end{DoxyItemize}
\end{DoxyItemize}


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em buf} & Binary gpib string to send \\
\hline
\mbox{\tt in}  & {\em size} & Size of string \\
\hline
\mbox{\tt in}  & {\em status} & User status flags that control the sending process.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
bytes sent
\begin{DoxyItemize}
\item will match size on success (no other tests needed).
\item Any size mismatch impiles error flags I\-F\-C\-\_\-\-F\-L\-A\-G and T\-I\-M\-E\-O\-U\-T\-\_\-\-F\-L\-A\-G.
\end{DoxyItemize}
\end{DoxyReturn}

\begin{DoxyItemize}
\item Errors T\-I\-M\-E\-O\-U\-T\-\_\-\-F\-L\-A\-G or I\-F\-C\-\_\-\-F\-L\-A\-G will cause early exit and set status.
\begin{DoxyItemize}
\item Lower 8 bits\-: Data or Command.
\begin{DoxyItemize}
\item If A\-T\-N is L\-O\-W then we strip parity from the byte.
\end{DoxyItemize}
\item Upper 8 bits\-: Status and Errors.
\begin{DoxyItemize}
\item \begin{DoxySeeAlso}{See Also}
\hyperlink{gpib_8h}{gpib.\-h} \-\_\-\-F\-L\-A\-G\-S defines for a full list.
\end{DoxySeeAlso}

\item An error implies the data byte can't be trusted
\item Control Line Flags.
\begin{DoxyItemize}
\item E\-O\-I\-\_\-\-F\-L\-A\-G
\item S\-R\-Q\-\_\-\-F\-L\-A\-G
\item A\-T\-N\-\_\-\-F\-L\-A\-G
\item R\-E\-N\-\_\-\-F\-L\-A\-G
\item P\-P\-\_\-\-F\-L\-A\-G
\end{DoxyItemize}
\item Error Flags\-:
\begin{DoxyItemize}
\item I\-F\-C\-\_\-\-F\-L\-A\-G \begin{DoxySeeAlso}{See Also}
\-: \hyperlink{gpib_8c_ac3d50cc1d56705d107e2f8fb00692e68}{gpib\-\_\-write\-\_\-byte()} 

\-: \hyperlink{gpib_8h}{gpib.\-h} \-\_\-\-F\-L\-A\-G\-S defines for a full list) 
\end{DoxySeeAlso}

\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}\begin{DoxyReturn}{Returns}
Returns 
\end{DoxyReturn}


Definition at line 1103 of file gpib.\-c.



Referenced by amigo\-\_\-buffered\-\_\-read(), amigo\-\_\-cmd\-\_\-dsj(), amigo\-\_\-cmd\-\_\-wakeup(), Amigo\-\_\-\-Command(), amigo\-\_\-send\-\_\-logical\-\_\-address(), amigo\-\_\-send\-\_\-status(), plot\-\_\-echo(), Send\-\_\-\-Identify(), S\-S80\-\_\-describe(), S\-S80\-\_\-error\-\_\-return(), S\-S80\-\_\-locate\-\_\-and\-\_\-read(), S\-S80\-\_\-\-Report(), and S\-S80\-\_\-send\-\_\-status().

\hypertarget{gpib_8c_a42d306c338c639682d0d6f0434a5c88b}{\index{gpib.\-c@{gpib.\-c}!Parallel\-\_\-\-Poll@{Parallel\-\_\-\-Poll}}
\index{Parallel\-\_\-\-Poll@{Parallel\-\_\-\-Poll}!gpib.c@{gpib.\-c}}
\subsubsection[{Parallel\-\_\-\-Poll}]{\setlength{\rightskip}{0pt plus 5cm}uint8\-\_\-t Parallel\-\_\-\-Poll (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{gpib_8c_a42d306c338c639682d0d6f0434a5c88b}


Detect Parallel Poll state. 


\begin{DoxyItemize}
\item P\-P\-R is short for \char`\"{}\-Parellel Poll Response\char`\"{}
\item P\-P\-R happens when the C\-I\-C (controller in charge) holds both
\begin{DoxyItemize}
\item A\-T\-N == 0 and E\-O\-I == 0
\end{DoxyItemize}
\item E\-O\-I is never used in command mode (A\-T\-N = 0)
\item P\-P\-R state is happening if we see both A\-T\-N and E\-O\-I L\-O\-W at once If P\-P\-R is enabled we have two options\-: 1) If software Parrallel Poll is defined we save D\-A\-T\-A B\-U\-S state and hold P\-P\-R D\-A\-T\-A B\-U\-S lines L\-O\-W. 2) Hardware will automatically hold D\-A\-T\-A B\-U\-S lines low.
\begin{DoxyItemize}
\item Nest We go to the D\-E\-T\-E\-C\-T\-E\-D state
\end{DoxyItemize}
\item In the D\-E\-T\-E\-C\-T\-E\-D state we wait for A\-T\-N and E\-O\-I to change Once this happens\-: 1) If software Parrallel Poll is defined we restore the D\-A\-T\-A B\-U\-S state. 2) Hardware will automatically release D\-A\-T\-A B\-U\-S state. We report detecting if(debug\-\_\-level)
\item \hyperlink{gpib__hal_8c_a639fcfaa605f43d589798545d9d1a975}{ppr\-\_\-reg()} determines if we have P\-P\-R enabled.
\item References\-:
\begin{DoxyItemize}
\item S\-S80 pg 3-\/4, section 3-\/3 \begin{DoxySeeAlso}{See Also}
\hyperlink{gpib_8c_a1e5848758c79d519d6f9e7d9edbb0af6}{Enable\-P\-P\-R()} 

\hyperlink{gpib_8c_ae85030a11d0c7d6828301d30db0bb35f}{Disable\-P\-P\-R()} 
\end{DoxySeeAlso}
\begin{DoxyReturn}{Returns}
1 if we see a P\-P\-R, 0 if not 
\end{DoxyReturn}

\end{DoxyItemize}
\end{DoxyItemize}

Definition at line 325 of file gpib.\-c.



Referenced by gpib\-\_\-read\-\_\-byte(), and gpib\-\_\-write\-\_\-byte().



\subsection{Variable Documentation}
\hypertarget{gpib_8c_aaad5615d233044464c3661481a6760cd}{\index{gpib.\-c@{gpib.\-c}!current@{current}}
\index{current@{current}!gpib.c@{gpib.\-c}}
\subsubsection[{current}]{\setlength{\rightskip}{0pt plus 5cm}uint16\-\_\-t current}}\label{gpib_8c_aaad5615d233044464c3661481a6760cd}


Definition at line 96 of file gpib.\-c.



Referenced by clock\-\_\-elapsed\-\_\-end(), gpib\-\_\-read\-\_\-byte(), and gpib\-\_\-state\-\_\-init().

\hypertarget{gpib_8c_a00023217d54aa8bb6473583593942869}{\index{gpib.\-c@{gpib.\-c}!gpib\-\_\-iobuff@{gpib\-\_\-iobuff}}
\index{gpib\-\_\-iobuff@{gpib\-\_\-iobuff}!gpib.c@{gpib.\-c}}
\subsubsection[{gpib\-\_\-iobuff}]{\setlength{\rightskip}{0pt plus 5cm}uint8\-\_\-t gpib\-\_\-iobuff\mbox{[}{\bf G\-P\-I\-B\-\_\-\-I\-O\-B\-U\-F\-F\-\_\-\-L\-E\-N}\mbox{]}}}\label{gpib_8c_a00023217d54aa8bb6473583593942869}


common I\-O buffer for \hyperlink{gpib_8c_a67f7cdca85091b3eb0eea0051a200fbe}{gpib\-\_\-read\-\_\-str()} and \hyperlink{gpib_8c_a1bdaac9496e7a0a3523481f2e8a2b9fe}{gpib\-\_\-write\-\_\-str()} 



Definition at line 75 of file gpib.\-c.



Referenced by amigo\-\_\-buffered\-\_\-read(), amigo\-\_\-buffered\-\_\-write(), Amigo\-\_\-\-Command(), amigo\-\_\-format(), amigo\-\_\-verify(), Fat\-Fs\-\_\-\-Read\-\_\-\-Config(), P\-O\-S\-I\-X\-\_\-\-Read\-\_\-\-Config(), S\-S80\-\_\-\-Command\-\_\-\-State(), S\-S80\-\_\-locate\-\_\-and\-\_\-read(), S\-S80\-\_\-locate\-\_\-and\-\_\-write(), and S\-S80\-\_\-\-Transparent\-\_\-\-State().

\hypertarget{gpib_8c_a8f8b0bbe03e4f62aa8e736a9a1f5f609}{\index{gpib.\-c@{gpib.\-c}!gpib\-\_\-unread\-\_\-data@{gpib\-\_\-unread\-\_\-data}}
\index{gpib\-\_\-unread\-\_\-data@{gpib\-\_\-unread\-\_\-data}!gpib.c@{gpib.\-c}}
\subsubsection[{gpib\-\_\-unread\-\_\-data}]{\setlength{\rightskip}{0pt plus 5cm}uint16\-\_\-t gpib\-\_\-unread\-\_\-data}}\label{gpib_8c_a8f8b0bbe03e4f62aa8e736a9a1f5f609}


\hyperlink{gpib_8c_a2fdb3d4996ff399dc2fbfcada417bb1a}{gpib\-\_\-unread()} data 



Definition at line 80 of file gpib.\-c.



Referenced by gpib\-\_\-read\-\_\-byte(), and gpib\-\_\-unread().

\hypertarget{gpib_8c_a2296b83cccf9d7a3b954d18ece282bd1}{\index{gpib.\-c@{gpib.\-c}!gpib\-\_\-unread\-\_\-f@{gpib\-\_\-unread\-\_\-f}}
\index{gpib\-\_\-unread\-\_\-f@{gpib\-\_\-unread\-\_\-f}!gpib.c@{gpib.\-c}}
\subsubsection[{gpib\-\_\-unread\-\_\-f}]{\setlength{\rightskip}{0pt plus 5cm}uint8\-\_\-t gpib\-\_\-unread\-\_\-f = 0}}\label{gpib_8c_a2296b83cccf9d7a3b954d18ece282bd1}


\hyperlink{gpib_8c_a2fdb3d4996ff399dc2fbfcada417bb1a}{gpib\-\_\-unread()} flag 



Definition at line 78 of file gpib.\-c.



Referenced by gpib\-\_\-bus\-\_\-init(), gpib\-\_\-read\-\_\-byte(), and gpib\-\_\-unread().

\hypertarget{gpib_8c_ab8bc74192b6d8a3e352b03e724dac5b7}{\index{gpib.\-c@{gpib.\-c}!lastcmd@{lastcmd}}
\index{lastcmd@{lastcmd}!gpib.c@{gpib.\-c}}
\subsubsection[{lastcmd}]{\setlength{\rightskip}{0pt plus 5cm}uint16\-\_\-t lastcmd}}\label{gpib_8c_ab8bc74192b6d8a3e352b03e724dac5b7}


gpib current and last command 



Definition at line 96 of file gpib.\-c.



Referenced by G\-P\-I\-B\-\_\-\-L\-I\-S\-T\-E\-N(), gpib\-\_\-read\-\_\-byte(), gpib\-\_\-state\-\_\-init(), and gpib\-\_\-task().

\hypertarget{gpib_8c_a906eb6f6a81521d91f73f9ab2e03b02e}{\index{gpib.\-c@{gpib.\-c}!listening@{listening}}
\index{listening@{listening}!gpib.c@{gpib.\-c}}
\subsubsection[{listening}]{\setlength{\rightskip}{0pt plus 5cm}uint8\-\_\-t listening}}\label{gpib_8c_a906eb6f6a81521d91f73f9ab2e03b02e}


gpib listen address 



Definition at line 89 of file gpib.\-c.



Referenced by Amigo\-\_\-\-Command(), A\-M\-I\-G\-O\-\_\-\-C\-O\-M\-M\-A\-N\-D\-S(), Amigo\-\_\-\-Execute(), amigo\-\_\-todo(), amigo\-\_\-todo\-\_\-op(), G\-P\-I\-B(), G\-P\-I\-B\-\_\-\-C\-O\-M\-M\-A\-N\-D\-S(), G\-P\-I\-B\-\_\-\-L\-I\-S\-T\-E\-N(), G\-P\-I\-B\-\_\-\-S\-E\-C\-O\-N\-D\-A\-R\-Y\-\_\-\-A\-D\-D\-R\-E\-S\-S(), gpib\-\_\-state\-\_\-init(), G\-P\-I\-B\-\_\-\-T\-A\-L\-K(), gpib\-\_\-task(), P\-R\-I\-N\-T\-E\-R\-\_\-\-C\-O\-M\-M\-A\-N\-D\-S(), and S\-S80\-\_\-\-C\-O\-M\-M\-A\-N\-D\-S().

\hypertarget{gpib_8c_a049cdc383eed2f97e4384a5728c00123}{\index{gpib.\-c@{gpib.\-c}!listening\-\_\-last@{listening\-\_\-last}}
\index{listening\-\_\-last@{listening\-\_\-last}!gpib.c@{gpib.\-c}}
\subsubsection[{listening\-\_\-last}]{\setlength{\rightskip}{0pt plus 5cm}uint8\-\_\-t listening\-\_\-last}}\label{gpib_8c_a049cdc383eed2f97e4384a5728c00123}


gpib last listen address 



Definition at line 91 of file gpib.\-c.



Referenced by G\-P\-I\-B\-\_\-\-L\-I\-S\-T\-E\-N(), gpib\-\_\-state\-\_\-init(), and listen\-\_\-cleanup().

\hypertarget{gpib_8c_a25538708e408bbc21b380cb6f709f5d8}{\index{gpib.\-c@{gpib.\-c}!secondary@{secondary}}
\index{secondary@{secondary}!gpib.c@{gpib.\-c}}
\subsubsection[{secondary}]{\setlength{\rightskip}{0pt plus 5cm}uint8\-\_\-t secondary}}\label{gpib_8c_a25538708e408bbc21b380cb6f709f5d8}


gpib secondary 



Definition at line 99 of file gpib.\-c.



Referenced by G\-P\-I\-B\-\_\-\-C\-O\-M\-M\-A\-N\-D\-S(), gpib\-\_\-state\-\_\-init(), and gpib\-\_\-task().

\hypertarget{gpib_8c_a0205f89c3878a7a6cb4ee1f75de35fb3}{\index{gpib.\-c@{gpib.\-c}!spoll@{spoll}}
\index{spoll@{spoll}!gpib.c@{gpib.\-c}}
\subsubsection[{spoll}]{\setlength{\rightskip}{0pt plus 5cm}uint8\-\_\-t spoll}}\label{gpib_8c_a0205f89c3878a7a6cb4ee1f75de35fb3}


gpib serial poll status 



Definition at line 94 of file gpib.\-c.



Referenced by G\-P\-I\-B(), gpib\-\_\-state\-\_\-init(), and G\-P\-I\-B\-\_\-\-T\-A\-L\-K().

\hypertarget{gpib_8c_acef501d1e292f230efac5ed0cddf90e8}{\index{gpib.\-c@{gpib.\-c}!talking@{talking}}
\index{talking@{talking}!gpib.c@{gpib.\-c}}
\subsubsection[{talking}]{\setlength{\rightskip}{0pt plus 5cm}uint8\-\_\-t talking}}\label{gpib_8c_acef501d1e292f230efac5ed0cddf90e8}


gpib talk address 



Definition at line 84 of file gpib.\-c.



Referenced by Amigo\-\_\-\-Command(), A\-M\-I\-G\-O\-\_\-\-C\-O\-M\-M\-A\-N\-D\-S(), Amigo\-\_\-\-Execute(), amigo\-\_\-todo(), amigo\-\_\-todo\-\_\-op(), G\-P\-I\-B(), G\-P\-I\-B\-\_\-\-C\-O\-M\-M\-A\-N\-D\-S(), G\-P\-I\-B\-\_\-\-L\-I\-S\-T\-E\-N(), gpib\-\_\-read\-\_\-byte(), G\-P\-I\-B\-\_\-\-S\-E\-C\-O\-N\-D\-A\-R\-Y\-\_\-\-A\-D\-D\-R\-E\-S\-S(), gpib\-\_\-state\-\_\-init(), G\-P\-I\-B\-\_\-\-T\-A\-L\-K(), and S\-S80\-\_\-\-C\-O\-M\-M\-A\-N\-D\-S().

\hypertarget{gpib_8c_a8f34b1ce42fbf3391219cfedde825495}{\index{gpib.\-c@{gpib.\-c}!talking\-\_\-last@{talking\-\_\-last}}
\index{talking\-\_\-last@{talking\-\_\-last}!gpib.c@{gpib.\-c}}
\subsubsection[{talking\-\_\-last}]{\setlength{\rightskip}{0pt plus 5cm}uint8\-\_\-t talking\-\_\-last}}\label{gpib_8c_a8f34b1ce42fbf3391219cfedde825495}


gpib last talk address 



Definition at line 86 of file gpib.\-c.



Referenced by gpib\-\_\-state\-\_\-init(), and G\-P\-I\-B\-\_\-\-T\-A\-L\-K().

