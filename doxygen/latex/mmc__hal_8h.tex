\hypertarget{mmc__hal_8h}{}\section{fatfs.\+hal/mmc\+\_\+hal.h File Reference}
\label{mmc__hal_8h}\index{fatfs.\+hal/mmc\+\_\+hal.\+h@{fatfs.\+hal/mmc\+\_\+hal.\+h}}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE}
\item 
\#define \hyperlink{mmc__hal_8h_a399da2caab82ec1bb3d5a8fbc5306768}{W\+E\+A\+K\+\_\+\+A\+TR}~\+\_\+\+\_\+attribute\+\_\+\+\_\+((weak))
\item 
\#define \hyperlink{mmc__hal_8h_ae150a8179a17d87a2a72bc2d5705d835}{mmc\+\_\+cli}()~cli()                           /$\ast$$<$ interrupt disable $\ast$/
\item 
\#define \hyperlink{mmc__hal_8h_ae88a5c46f00c634234441978491b16fe}{mmc\+\_\+sei}()~sei()                           /$\ast$$<$ interrupt enable $\ast$/
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE} void \hyperlink{mmc__hal_8h_a35434a6e722b07d8fee213c2256391be}{mmc\+\_\+install\+\_\+timer} (void)
\begin{DoxyCompactList}\small\item\em Install M\+MC timer task\+: \hyperlink{mmc__hal_8c_a3371d3911fed5af510a9b6e313773171}{mmc\+\_\+task()} \end{DoxyCompactList}\item 
void \hyperlink{mmc__hal_8h_aede64c733decb26d1af6f8e77628b71e}{mmc\+\_\+spi\+\_\+init} (void)
\begin{DoxyCompactList}\small\item\em M\+MC S\+PI setup and chip select. \end{DoxyCompactList}\item 
void \hyperlink{mmc__hal_8h_abdc5ab6358ed33bc5a98a11fde82b704}{mmc\+\_\+spi\+\_\+begin} (void)
\begin{DoxyCompactList}\small\item\em M\+MC S\+PI setup and chip select. \end{DoxyCompactList}\item 
void \hyperlink{mmc__hal_8h_a4963fd4e3ba8fabe799b88073aea0499}{mmc\+\_\+spi\+\_\+end} (void)
\begin{DoxyCompactList}\small\item\em M\+MC S\+PI end and chip deselect. \end{DoxyCompactList}\item 
void \hyperlink{mmc__hal_8h_a03e4e29ebb0844123378d72b41bf3575}{mmc\+\_\+slow} (void)
\begin{DoxyCompactList}\small\item\em M\+MC set slow S\+PI bus speed Only called when deselected. \end{DoxyCompactList}\item 
void \hyperlink{mmc__hal_8h_afd5747681a788dc27943f736e57eeb54}{mmc\+\_\+fast} (void)
\begin{DoxyCompactList}\small\item\em M\+MC fast S\+PI bus speed Only called when deselected. \end{DoxyCompactList}\item 
void \hyperlink{mmc__hal_8h_a850895a4f23c495249a3074fd2dafbcb}{mmc\+\_\+spi\+\_\+\+T\+X\+\_\+buffer} (const uint8\+\_\+t $\ast$data, int count)
\begin{DoxyCompactList}\small\item\em S\+PI write buffer. \end{DoxyCompactList}\item 
void \hyperlink{mmc__hal_8h_ac5b4aae5665fe63d3d0a280215f759f8}{mmc\+\_\+spi\+\_\+\+R\+X\+\_\+buffer} (const uint8\+\_\+t $\ast$data, int count)
\begin{DoxyCompactList}\small\item\em S\+PI read buffer. \end{DoxyCompactList}\item 
uint8\+\_\+t \hyperlink{mmc__hal_8h_a8f6b7c1f3819cd4bd2aa114c8ebb7f19}{mmc\+\_\+spi\+\_\+\+T\+X\+RX} (uint8\+\_\+t data)
\begin{DoxyCompactList}\small\item\em S\+PI read and write 1 byte. \end{DoxyCompactList}\item 
\hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE} void \hyperlink{mmc__hal_8h_a95af3dbb0e5e0a16710138786c29fb4f}{mmc\+\_\+set\+\_\+ms\+\_\+timeout} (uint16\+\_\+t ms)
\begin{DoxyCompactList}\small\item\em Set M\+MC timeout timer in Milliseconds. \end{DoxyCompactList}\item 
\hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE} int \hyperlink{mmc__hal_8h_a852a35d5ff10bfbe64bcb06ca9a3aeb8}{mmc\+\_\+test\+\_\+timeout} (void)
\begin{DoxyCompactList}\small\item\em Wait for timeout. \end{DoxyCompactList}\item 
\hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE} void \hyperlink{mmc__hal_8h_abb3b85d2e3abc4df68487df05510bb55}{mmc\+\_\+ms\+\_\+wait} (int ms)
\begin{DoxyCompactList}\small\item\em Wait for time in milliseconds. \end{DoxyCompactList}\item 
\hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE} int \hyperlink{mmc__hal_8h_ad417477e66c88b40dcce683fd6a5c47a}{mmc\+\_\+init} (int verbose)
\begin{DoxyCompactList}\small\item\em Initialize M\+MC and Fat\+Fs interface, display diagnostics. \end{DoxyCompactList}\item 
\hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE} void \hyperlink{mmc__hal_8h_a8b718faa35b9304193cd0c074b542f8a}{mmc\+\_\+power\+\_\+on} (void)
\begin{DoxyCompactList}\small\item\em M\+MC Power ON. \end{DoxyCompactList}\item 
\hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE} void \hyperlink{mmc__hal_8h_ac9deae120e9c3b519ea62bf4c486e2ea}{mmc\+\_\+power\+\_\+off} (void)
\begin{DoxyCompactList}\small\item\em M\+MC Power O\+FF. \end{DoxyCompactList}\item 
\hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE} int \hyperlink{mmc__hal_8h_ab9dae194babcfe774428305a575556cc}{mmc\+\_\+ins\+\_\+status} (void)
\begin{DoxyCompactList}\small\item\em M\+MC Card Inserted status. \end{DoxyCompactList}\item 
\hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE} int \hyperlink{mmc__hal_8h_a5d4cd1450305a6f9ad8ebd1a19a606c5}{mmc\+\_\+wp\+\_\+status} (void)
\begin{DoxyCompactList}\small\item\em M\+MC Card Write Protect status. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\mbox{\Hypertarget{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}\label{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}} 
\index{mmc\+\_\+hal.\+h@{mmc\+\_\+hal.\+h}!M\+E\+M\+S\+P\+A\+CE@{M\+E\+M\+S\+P\+A\+CE}}
\index{M\+E\+M\+S\+P\+A\+CE@{M\+E\+M\+S\+P\+A\+CE}!mmc\+\_\+hal.\+h@{mmc\+\_\+hal.\+h}}
\subsubsection{\texorpdfstring{M\+E\+M\+S\+P\+A\+CE}{MEMSPACE}}
{\footnotesize\ttfamily \#define M\+E\+M\+S\+P\+A\+CE}



Definition at line 20 of file mmc\+\_\+hal.\+h.

\mbox{\Hypertarget{mmc__hal_8h_ae150a8179a17d87a2a72bc2d5705d835}\label{mmc__hal_8h_ae150a8179a17d87a2a72bc2d5705d835}} 
\index{mmc\+\_\+hal.\+h@{mmc\+\_\+hal.\+h}!mmc\+\_\+cli@{mmc\+\_\+cli}}
\index{mmc\+\_\+cli@{mmc\+\_\+cli}!mmc\+\_\+hal.\+h@{mmc\+\_\+hal.\+h}}
\subsubsection{\texorpdfstring{mmc\+\_\+cli}{mmc\_cli}}
{\footnotesize\ttfamily \#define mmc\+\_\+cli(\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})~cli()                           /$\ast$$<$ interrupt disable $\ast$/}



Definition at line 34 of file mmc\+\_\+hal.\+h.



Referenced by mmc\+\_\+set\+\_\+ms\+\_\+timeout().

\mbox{\Hypertarget{mmc__hal_8h_ae88a5c46f00c634234441978491b16fe}\label{mmc__hal_8h_ae88a5c46f00c634234441978491b16fe}} 
\index{mmc\+\_\+hal.\+h@{mmc\+\_\+hal.\+h}!mmc\+\_\+sei@{mmc\+\_\+sei}}
\index{mmc\+\_\+sei@{mmc\+\_\+sei}!mmc\+\_\+hal.\+h@{mmc\+\_\+hal.\+h}}
\subsubsection{\texorpdfstring{mmc\+\_\+sei}{mmc\_sei}}
{\footnotesize\ttfamily \#define mmc\+\_\+sei(\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})~sei()                           /$\ast$$<$ interrupt enable $\ast$/}



Definition at line 35 of file mmc\+\_\+hal.\+h.



Referenced by mmc\+\_\+set\+\_\+ms\+\_\+timeout().

\mbox{\Hypertarget{mmc__hal_8h_a399da2caab82ec1bb3d5a8fbc5306768}\label{mmc__hal_8h_a399da2caab82ec1bb3d5a8fbc5306768}} 
\index{mmc\+\_\+hal.\+h@{mmc\+\_\+hal.\+h}!W\+E\+A\+K\+\_\+\+A\+TR@{W\+E\+A\+K\+\_\+\+A\+TR}}
\index{W\+E\+A\+K\+\_\+\+A\+TR@{W\+E\+A\+K\+\_\+\+A\+TR}!mmc\+\_\+hal.\+h@{mmc\+\_\+hal.\+h}}
\subsubsection{\texorpdfstring{W\+E\+A\+K\+\_\+\+A\+TR}{WEAK\_ATR}}
{\footnotesize\ttfamily \#define W\+E\+A\+K\+\_\+\+A\+TR~\+\_\+\+\_\+attribute\+\_\+\+\_\+((weak))}



Definition at line 25 of file mmc\+\_\+hal.\+h.



\subsection{Function Documentation}
\mbox{\Hypertarget{mmc__hal_8h_afd5747681a788dc27943f736e57eeb54}\label{mmc__hal_8h_afd5747681a788dc27943f736e57eeb54}} 
\index{mmc\+\_\+hal.\+h@{mmc\+\_\+hal.\+h}!mmc\+\_\+fast@{mmc\+\_\+fast}}
\index{mmc\+\_\+fast@{mmc\+\_\+fast}!mmc\+\_\+hal.\+h@{mmc\+\_\+hal.\+h}}
\subsubsection{\texorpdfstring{mmc\+\_\+fast()}{mmc\_fast()}}
{\footnotesize\ttfamily void mmc\+\_\+fast (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



M\+MC fast S\+PI bus speed Only called when deselected. 


\begin{DoxyItemize}
\item Used during normal file IO phases \begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}

\end{DoxyItemize}

Definition at line 129 of file mmc\+\_\+hal.\+c.

\mbox{\Hypertarget{mmc__hal_8h_ad417477e66c88b40dcce683fd6a5c47a}\label{mmc__hal_8h_ad417477e66c88b40dcce683fd6a5c47a}} 
\index{mmc\+\_\+hal.\+h@{mmc\+\_\+hal.\+h}!mmc\+\_\+init@{mmc\+\_\+init}}
\index{mmc\+\_\+init@{mmc\+\_\+init}!mmc\+\_\+hal.\+h@{mmc\+\_\+hal.\+h}}
\subsubsection{\texorpdfstring{mmc\+\_\+init()}{mmc\_init()}}
{\footnotesize\ttfamily \hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE} int mmc\+\_\+init (\begin{DoxyParamCaption}\item[{int}]{verbose }\end{DoxyParamCaption})}



Initialize M\+MC and Fat\+Fs interface, display diagnostics. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em verbose} & display initialisation messages \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}

\end{DoxyReturn}


Definition at line 219 of file mmc\+\_\+hal.\+c.



Referenced by fatfs\+\_\+tests(), main(), and open().

\mbox{\Hypertarget{mmc__hal_8h_ab9dae194babcfe774428305a575556cc}\label{mmc__hal_8h_ab9dae194babcfe774428305a575556cc}} 
\index{mmc\+\_\+hal.\+h@{mmc\+\_\+hal.\+h}!mmc\+\_\+ins\+\_\+status@{mmc\+\_\+ins\+\_\+status}}
\index{mmc\+\_\+ins\+\_\+status@{mmc\+\_\+ins\+\_\+status}!mmc\+\_\+hal.\+h@{mmc\+\_\+hal.\+h}}
\subsubsection{\texorpdfstring{mmc\+\_\+ins\+\_\+status()}{mmc\_ins\_status()}}
{\footnotesize\ttfamily \hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE} int mmc\+\_\+ins\+\_\+status (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



M\+MC Card Inserted status. 


\begin{DoxyItemize}
\item We do not detect card insert status in this project. \begin{DoxyReturn}{Returns}
1 card inserted 
\end{DoxyReturn}

\end{DoxyItemize}

Definition at line 321 of file mmc\+\_\+hal.\+c.



Referenced by gpib\+\_\+error\+\_\+test(), mmc\+\_\+init(), and mmc\+\_\+task().

\mbox{\Hypertarget{mmc__hal_8h_a35434a6e722b07d8fee213c2256391be}\label{mmc__hal_8h_a35434a6e722b07d8fee213c2256391be}} 
\index{mmc\+\_\+hal.\+h@{mmc\+\_\+hal.\+h}!mmc\+\_\+install\+\_\+timer@{mmc\+\_\+install\+\_\+timer}}
\index{mmc\+\_\+install\+\_\+timer@{mmc\+\_\+install\+\_\+timer}!mmc\+\_\+hal.\+h@{mmc\+\_\+hal.\+h}}
\subsubsection{\texorpdfstring{mmc\+\_\+install\+\_\+timer()}{mmc\_install\_timer()}}
{\footnotesize\ttfamily \hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE} void mmc\+\_\+install\+\_\+timer (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Install M\+MC timer task\+: \hyperlink{mmc__hal_8c_a3371d3911fed5af510a9b6e313773171}{mmc\+\_\+task()} 

\begin{DoxySeeAlso}{See also}
\hyperlink{mmc__hal_8c_a3371d3911fed5af510a9b6e313773171}{mmc\+\_\+task()} 
\end{DoxySeeAlso}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line 82 of file mmc\+\_\+hal.\+c.



Referenced by mmc\+\_\+init().

\mbox{\Hypertarget{mmc__hal_8h_abb3b85d2e3abc4df68487df05510bb55}\label{mmc__hal_8h_abb3b85d2e3abc4df68487df05510bb55}} 
\index{mmc\+\_\+hal.\+h@{mmc\+\_\+hal.\+h}!mmc\+\_\+ms\+\_\+wait@{mmc\+\_\+ms\+\_\+wait}}
\index{mmc\+\_\+ms\+\_\+wait@{mmc\+\_\+ms\+\_\+wait}!mmc\+\_\+hal.\+h@{mmc\+\_\+hal.\+h}}
\subsubsection{\texorpdfstring{mmc\+\_\+ms\+\_\+wait()}{mmc\_ms\_wait()}}
{\footnotesize\ttfamily \hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE} void mmc\+\_\+ms\+\_\+wait (\begin{DoxyParamCaption}\item[{int}]{ms }\end{DoxyParamCaption})}



Wait for time in milliseconds. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em ms} & timeout in Milliseconds \\
\hline
\end{DoxyParams}


Definition at line 204 of file mmc\+\_\+hal.\+c.

\mbox{\Hypertarget{mmc__hal_8h_ac9deae120e9c3b519ea62bf4c486e2ea}\label{mmc__hal_8h_ac9deae120e9c3b519ea62bf4c486e2ea}} 
\index{mmc\+\_\+hal.\+h@{mmc\+\_\+hal.\+h}!mmc\+\_\+power\+\_\+off@{mmc\+\_\+power\+\_\+off}}
\index{mmc\+\_\+power\+\_\+off@{mmc\+\_\+power\+\_\+off}!mmc\+\_\+hal.\+h@{mmc\+\_\+hal.\+h}}
\subsubsection{\texorpdfstring{mmc\+\_\+power\+\_\+off()}{mmc\_power\_off()}}
{\footnotesize\ttfamily \hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE} void mmc\+\_\+power\+\_\+off (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



M\+MC Power O\+FF. 

\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line 310 of file mmc\+\_\+hal.\+c.



Referenced by power\+\_\+off().

\mbox{\Hypertarget{mmc__hal_8h_a8b718faa35b9304193cd0c074b542f8a}\label{mmc__hal_8h_a8b718faa35b9304193cd0c074b542f8a}} 
\index{mmc\+\_\+hal.\+h@{mmc\+\_\+hal.\+h}!mmc\+\_\+power\+\_\+on@{mmc\+\_\+power\+\_\+on}}
\index{mmc\+\_\+power\+\_\+on@{mmc\+\_\+power\+\_\+on}!mmc\+\_\+hal.\+h@{mmc\+\_\+hal.\+h}}
\subsubsection{\texorpdfstring{mmc\+\_\+power\+\_\+on()}{mmc\_power\_on()}}
{\footnotesize\ttfamily \hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE} void mmc\+\_\+power\+\_\+on (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



M\+MC Power ON. 

\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line 301 of file mmc\+\_\+hal.\+c.



Referenced by power\+\_\+on().

\mbox{\Hypertarget{mmc__hal_8h_a95af3dbb0e5e0a16710138786c29fb4f}\label{mmc__hal_8h_a95af3dbb0e5e0a16710138786c29fb4f}} 
\index{mmc\+\_\+hal.\+h@{mmc\+\_\+hal.\+h}!mmc\+\_\+set\+\_\+ms\+\_\+timeout@{mmc\+\_\+set\+\_\+ms\+\_\+timeout}}
\index{mmc\+\_\+set\+\_\+ms\+\_\+timeout@{mmc\+\_\+set\+\_\+ms\+\_\+timeout}!mmc\+\_\+hal.\+h@{mmc\+\_\+hal.\+h}}
\subsubsection{\texorpdfstring{mmc\+\_\+set\+\_\+ms\+\_\+timeout()}{mmc\_set\_ms\_timeout()}}
{\footnotesize\ttfamily \hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE} void mmc\+\_\+set\+\_\+ms\+\_\+timeout (\begin{DoxyParamCaption}\item[{uint16\+\_\+t}]{ms }\end{DoxyParamCaption})}



Set M\+MC timeout timer in Milliseconds. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em ms} & timeout in Milliseconds \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\hyperlink{mmc__hal_8c_a7383533f1b6630ff4f0337f400b4b62e}{mmc\+\_\+test\+\_\+timeout} ( ) 
\end{DoxySeeAlso}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line 169 of file mmc\+\_\+hal.\+c.



Referenced by mmc\+\_\+disk\+\_\+initialize(), mmc\+\_\+disk\+\_\+read(), mmc\+\_\+ms\+\_\+wait(), rcvr\+\_\+datablock(), and wait\+\_\+ready().

\mbox{\Hypertarget{mmc__hal_8h_a03e4e29ebb0844123378d72b41bf3575}\label{mmc__hal_8h_a03e4e29ebb0844123378d72b41bf3575}} 
\index{mmc\+\_\+hal.\+h@{mmc\+\_\+hal.\+h}!mmc\+\_\+slow@{mmc\+\_\+slow}}
\index{mmc\+\_\+slow@{mmc\+\_\+slow}!mmc\+\_\+hal.\+h@{mmc\+\_\+hal.\+h}}
\subsubsection{\texorpdfstring{mmc\+\_\+slow()}{mmc\_slow()}}
{\footnotesize\ttfamily void mmc\+\_\+slow (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



M\+MC set slow S\+PI bus speed Only called when deselected. 


\begin{DoxyItemize}
\item Used during card detect phase \begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}

\end{DoxyItemize}

Definition at line 119 of file mmc\+\_\+hal.\+c.



Referenced by mmc\+\_\+spi\+\_\+init().

\mbox{\Hypertarget{mmc__hal_8h_abdc5ab6358ed33bc5a98a11fde82b704}\label{mmc__hal_8h_abdc5ab6358ed33bc5a98a11fde82b704}} 
\index{mmc\+\_\+hal.\+h@{mmc\+\_\+hal.\+h}!mmc\+\_\+spi\+\_\+begin@{mmc\+\_\+spi\+\_\+begin}}
\index{mmc\+\_\+spi\+\_\+begin@{mmc\+\_\+spi\+\_\+begin}!mmc\+\_\+hal.\+h@{mmc\+\_\+hal.\+h}}
\subsubsection{\texorpdfstring{mmc\+\_\+spi\+\_\+begin()}{mmc\_spi\_begin()}}
{\footnotesize\ttfamily void mmc\+\_\+spi\+\_\+begin (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



M\+MC S\+PI setup and chip select. 

\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line 101 of file mmc\+\_\+hal.\+c.

\mbox{\Hypertarget{mmc__hal_8h_a4963fd4e3ba8fabe799b88073aea0499}\label{mmc__hal_8h_a4963fd4e3ba8fabe799b88073aea0499}} 
\index{mmc\+\_\+hal.\+h@{mmc\+\_\+hal.\+h}!mmc\+\_\+spi\+\_\+end@{mmc\+\_\+spi\+\_\+end}}
\index{mmc\+\_\+spi\+\_\+end@{mmc\+\_\+spi\+\_\+end}!mmc\+\_\+hal.\+h@{mmc\+\_\+hal.\+h}}
\subsubsection{\texorpdfstring{mmc\+\_\+spi\+\_\+end()}{mmc\_spi\_end()}}
{\footnotesize\ttfamily void mmc\+\_\+spi\+\_\+end (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



M\+MC S\+PI end and chip deselect. 

\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line 109 of file mmc\+\_\+hal.\+c.

\mbox{\Hypertarget{mmc__hal_8h_aede64c733decb26d1af6f8e77628b71e}\label{mmc__hal_8h_aede64c733decb26d1af6f8e77628b71e}} 
\index{mmc\+\_\+hal.\+h@{mmc\+\_\+hal.\+h}!mmc\+\_\+spi\+\_\+init@{mmc\+\_\+spi\+\_\+init}}
\index{mmc\+\_\+spi\+\_\+init@{mmc\+\_\+spi\+\_\+init}!mmc\+\_\+hal.\+h@{mmc\+\_\+hal.\+h}}
\subsubsection{\texorpdfstring{mmc\+\_\+spi\+\_\+init()}{mmc\_spi\_init()}}
{\footnotesize\ttfamily void mmc\+\_\+spi\+\_\+init (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



M\+MC S\+PI setup and chip select. 

\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line 92 of file mmc\+\_\+hal.\+c.



Referenced by mmc\+\_\+init().

\mbox{\Hypertarget{mmc__hal_8h_ac5b4aae5665fe63d3d0a280215f759f8}\label{mmc__hal_8h_ac5b4aae5665fe63d3d0a280215f759f8}} 
\index{mmc\+\_\+hal.\+h@{mmc\+\_\+hal.\+h}!mmc\+\_\+spi\+\_\+\+R\+X\+\_\+buffer@{mmc\+\_\+spi\+\_\+\+R\+X\+\_\+buffer}}
\index{mmc\+\_\+spi\+\_\+\+R\+X\+\_\+buffer@{mmc\+\_\+spi\+\_\+\+R\+X\+\_\+buffer}!mmc\+\_\+hal.\+h@{mmc\+\_\+hal.\+h}}
\subsubsection{\texorpdfstring{mmc\+\_\+spi\+\_\+\+R\+X\+\_\+buffer()}{mmc\_spi\_RX\_buffer()}}
{\footnotesize\ttfamily void mmc\+\_\+spi\+\_\+\+R\+X\+\_\+buffer (\begin{DoxyParamCaption}\item[{const uint8\+\_\+t $\ast$}]{data,  }\item[{int}]{count }\end{DoxyParamCaption})}



S\+PI read buffer. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em $\ast$data} & transmit buffer \\
\hline
\mbox{\tt in}  & {\em count} & number of bytes to write \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line 149 of file mmc\+\_\+hal.\+c.



Referenced by rcvr\+\_\+spi\+\_\+multi().

\mbox{\Hypertarget{mmc__hal_8h_a850895a4f23c495249a3074fd2dafbcb}\label{mmc__hal_8h_a850895a4f23c495249a3074fd2dafbcb}} 
\index{mmc\+\_\+hal.\+h@{mmc\+\_\+hal.\+h}!mmc\+\_\+spi\+\_\+\+T\+X\+\_\+buffer@{mmc\+\_\+spi\+\_\+\+T\+X\+\_\+buffer}}
\index{mmc\+\_\+spi\+\_\+\+T\+X\+\_\+buffer@{mmc\+\_\+spi\+\_\+\+T\+X\+\_\+buffer}!mmc\+\_\+hal.\+h@{mmc\+\_\+hal.\+h}}
\subsubsection{\texorpdfstring{mmc\+\_\+spi\+\_\+\+T\+X\+\_\+buffer()}{mmc\_spi\_TX\_buffer()}}
{\footnotesize\ttfamily void mmc\+\_\+spi\+\_\+\+T\+X\+\_\+buffer (\begin{DoxyParamCaption}\item[{const uint8\+\_\+t $\ast$}]{data,  }\item[{int}]{count }\end{DoxyParamCaption})}



S\+PI write buffer. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em $\ast$data} & transmit buffer \\
\hline
\mbox{\tt in}  & {\em count} & number of bytes to write \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line 139 of file mmc\+\_\+hal.\+c.



Referenced by xmit\+\_\+spi\+\_\+multi().

\mbox{\Hypertarget{mmc__hal_8h_a8f6b7c1f3819cd4bd2aa114c8ebb7f19}\label{mmc__hal_8h_a8f6b7c1f3819cd4bd2aa114c8ebb7f19}} 
\index{mmc\+\_\+hal.\+h@{mmc\+\_\+hal.\+h}!mmc\+\_\+spi\+\_\+\+T\+X\+RX@{mmc\+\_\+spi\+\_\+\+T\+X\+RX}}
\index{mmc\+\_\+spi\+\_\+\+T\+X\+RX@{mmc\+\_\+spi\+\_\+\+T\+X\+RX}!mmc\+\_\+hal.\+h@{mmc\+\_\+hal.\+h}}
\subsubsection{\texorpdfstring{mmc\+\_\+spi\+\_\+\+T\+X\+R\+X()}{mmc\_spi\_TXRX()}}
{\footnotesize\ttfamily uint8\+\_\+t mmc\+\_\+spi\+\_\+\+T\+X\+RX (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{data }\end{DoxyParamCaption})}



S\+PI read and write 1 byte. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em data} & value to transmit \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
uint8\+\_\+t value read 
\end{DoxyReturn}


Definition at line 158 of file mmc\+\_\+hal.\+c.



Referenced by xchg\+\_\+spi().

\mbox{\Hypertarget{mmc__hal_8h_a852a35d5ff10bfbe64bcb06ca9a3aeb8}\label{mmc__hal_8h_a852a35d5ff10bfbe64bcb06ca9a3aeb8}} 
\index{mmc\+\_\+hal.\+h@{mmc\+\_\+hal.\+h}!mmc\+\_\+test\+\_\+timeout@{mmc\+\_\+test\+\_\+timeout}}
\index{mmc\+\_\+test\+\_\+timeout@{mmc\+\_\+test\+\_\+timeout}!mmc\+\_\+hal.\+h@{mmc\+\_\+hal.\+h}}
\subsubsection{\texorpdfstring{mmc\+\_\+test\+\_\+timeout()}{mmc\_test\_timeout()}}
{\footnotesize\ttfamily \hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE} int mmc\+\_\+test\+\_\+timeout (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Wait for timeout. 

\begin{DoxyReturn}{Returns}
1 ready 

0 timeout 
\end{DoxyReturn}


Definition at line 181 of file mmc\+\_\+hal.\+c.



Referenced by mmc\+\_\+disk\+\_\+initialize(), mmc\+\_\+disk\+\_\+read(), mmc\+\_\+ms\+\_\+wait(), rcvr\+\_\+datablock(), and wait\+\_\+ready().

\mbox{\Hypertarget{mmc__hal_8h_a5d4cd1450305a6f9ad8ebd1a19a606c5}\label{mmc__hal_8h_a5d4cd1450305a6f9ad8ebd1a19a606c5}} 
\index{mmc\+\_\+hal.\+h@{mmc\+\_\+hal.\+h}!mmc\+\_\+wp\+\_\+status@{mmc\+\_\+wp\+\_\+status}}
\index{mmc\+\_\+wp\+\_\+status@{mmc\+\_\+wp\+\_\+status}!mmc\+\_\+hal.\+h@{mmc\+\_\+hal.\+h}}
\subsubsection{\texorpdfstring{mmc\+\_\+wp\+\_\+status()}{mmc\_wp\_status()}}
{\footnotesize\ttfamily \hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE} int mmc\+\_\+wp\+\_\+status (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



M\+MC Card Write Protect status. 


\begin{DoxyItemize}
\item We do not detect card write protect status in this project. \begin{DoxyReturn}{Returns}
0 == not write protected 
\end{DoxyReturn}

\end{DoxyItemize}

Definition at line 335 of file mmc\+\_\+hal.\+c.



Referenced by gpib\+\_\+file\+\_\+init(), and S\+S80\+\_\+locate\+\_\+and\+\_\+write().

