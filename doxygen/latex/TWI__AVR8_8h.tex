\hypertarget{TWI__AVR8_8h}{\section{hardware/\-T\-W\-I\-\_\-\-A\-V\-R8.h File Reference}
\label{TWI__AVR8_8h}\index{hardware/\-T\-W\-I\-\_\-\-A\-V\-R8.\-h@{hardware/\-T\-W\-I\-\_\-\-A\-V\-R8.\-h}}
}


T\-W\-I Peripheral Driver (A\-V\-R8)  


{\ttfamily \#include \char`\"{}hardware.\-h\char`\"{}}\\*
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{TWI__AVR8_8h_a08e1eb463ce4ec168f2c1cb9b4039cae}{T\-W\-I\-\_\-\-Init} (const uint8\-\_\-t Prescale, const uint8\-\_\-t Bit\-Length)
\begin{DoxyCompactList}\small\item\em Initialize I2\-C device. \end{DoxyCompactList}\item 
uint8\-\_\-t \hyperlink{TWI__AVR8_8h_a5e9fac0280a2414490f628071c0073c2}{T\-W\-I\-\_\-\-Start\-Transmission} (const uint8\-\_\-t Slave\-Address, const uint8\-\_\-t Timeout\-M\-S)
\begin{DoxyCompactList}\small\item\em Start I2\-C transmission. \end{DoxyCompactList}\item 
\hyperlink{hardware_8h_af6a258d8f3ee5206d682d799316314b1}{bool} \hyperlink{TWI__AVR8_8h_a57d8ffa11749c0ba97d52c2a6e246d65}{T\-W\-I\-\_\-\-Send\-Byte} (const uint8\-\_\-t Byte)
\begin{DoxyCompactList}\small\item\em T\-W\-I send byte. \end{DoxyCompactList}\item 
\hyperlink{hardware_8h_af6a258d8f3ee5206d682d799316314b1}{bool} \hyperlink{TWI__AVR8_8h_a551074dff05c93c7317440b55278aa1b}{T\-W\-I\-\_\-\-Receive\-Byte} (uint8\-\_\-t $\ast$const Byte, const \hyperlink{hardware_8h_af6a258d8f3ee5206d682d799316314b1}{bool} Last\-Byte)
\item 
uint8\-\_\-t \hyperlink{TWI__AVR8_8h_aea02d723a16ed7f11d485c24175d8117}{T\-W\-I\-\_\-\-Read\-Packet} (const uint8\-\_\-t Slave\-Address, const uint8\-\_\-t Timeout\-M\-S, const uint8\-\_\-t $\ast$Internal\-Address, uint8\-\_\-t Internal\-Address\-Len, uint8\-\_\-t $\ast$Buffer, uint8\-\_\-t \hyperlink{ss80_8c_a03f3f3cb1560e9bc3f899ede44d48724}{Length})
\begin{DoxyCompactList}\small\item\em T\-W\-I read packet. \end{DoxyCompactList}\item 
uint8\-\_\-t \hyperlink{TWI__AVR8_8h_a7a9c708e4d9fbe6ed807f582bcbded0e}{T\-W\-I\-\_\-\-Write\-Packet} (const uint8\-\_\-t Slave\-Address, const uint8\-\_\-t Timeout\-M\-S, const uint8\-\_\-t $\ast$Internal\-Address, uint8\-\_\-t Internal\-Address\-Len, const uint8\-\_\-t $\ast$Buffer, uint8\-\_\-t \hyperlink{ss80_8c_a03f3f3cb1560e9bc3f899ede44d48724}{Length})
\begin{DoxyCompactList}\small\item\em T\-W\-I write packet. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
T\-W\-I Peripheral Driver (A\-V\-R8) On-\/chip T\-W\-I driver for the 8-\/bit A\-V\-R microcontrollers.

\begin{DoxyNote}{Note}
This file should not be included directly. It is automatically included as needed by the T\-W\-I driver dispatch header located in L\-U\-F\-A/\-Drivers/\-Peripheral/\-T\-W\-I.\-h. 
\end{DoxyNote}


Definition in file \hyperlink{TWI__AVR8_8h_source}{T\-W\-I\-\_\-\-A\-V\-R8.\-h}.



\subsection{Function Documentation}
\hypertarget{TWI__AVR8_8h_a08e1eb463ce4ec168f2c1cb9b4039cae}{\index{T\-W\-I\-\_\-\-A\-V\-R8.\-h@{T\-W\-I\-\_\-\-A\-V\-R8.\-h}!T\-W\-I\-\_\-\-Init@{T\-W\-I\-\_\-\-Init}}
\index{T\-W\-I\-\_\-\-Init@{T\-W\-I\-\_\-\-Init}!TWI_AVR8.h@{T\-W\-I\-\_\-\-A\-V\-R8.\-h}}
\subsubsection[{T\-W\-I\-\_\-\-Init}]{\setlength{\rightskip}{0pt plus 5cm}void T\-W\-I\-\_\-\-Init (
\begin{DoxyParamCaption}
\item[{const uint8\-\_\-t}]{Prescale, }
\item[{const uint8\-\_\-t}]{Bit\-Length}
\end{DoxyParamCaption}
)}}\label{TWI__AVR8_8h_a08e1eb463ce4ec168f2c1cb9b4039cae}


Initialize I2\-C device. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em Prescale} & prescale value. \\
\hline
\mbox{\tt in}  & {\em Bit\-Length} & Number of bits.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void. 
\end{DoxyReturn}


Definition at line 53 of file T\-W\-I\-\_\-\-A\-V\-R8.\-c.



Referenced by main(), and rtc\-\_\-init().

\hypertarget{TWI__AVR8_8h_aea02d723a16ed7f11d485c24175d8117}{\index{T\-W\-I\-\_\-\-A\-V\-R8.\-h@{T\-W\-I\-\_\-\-A\-V\-R8.\-h}!T\-W\-I\-\_\-\-Read\-Packet@{T\-W\-I\-\_\-\-Read\-Packet}}
\index{T\-W\-I\-\_\-\-Read\-Packet@{T\-W\-I\-\_\-\-Read\-Packet}!TWI_AVR8.h@{T\-W\-I\-\_\-\-A\-V\-R8.\-h}}
\subsubsection[{T\-W\-I\-\_\-\-Read\-Packet}]{\setlength{\rightskip}{0pt plus 5cm}uint8\-\_\-t T\-W\-I\-\_\-\-Read\-Packet (
\begin{DoxyParamCaption}
\item[{const uint8\-\_\-t}]{Slave\-Address, }
\item[{const uint8\-\_\-t}]{Timeout\-M\-S, }
\item[{const uint8\-\_\-t $\ast$}]{Internal\-Address, }
\item[{uint8\-\_\-t}]{Internal\-Address\-Len, }
\item[{uint8\-\_\-t $\ast$}]{Buffer, }
\item[{uint8\-\_\-t}]{Length}
\end{DoxyParamCaption}
)}}\label{TWI__AVR8_8h_aea02d723a16ed7f11d485c24175d8117}


T\-W\-I read packet. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em Slave\-Address} & T\-W\-I sleave address. \\
\hline
\mbox{\tt in}  & {\em Timeout\-M\-S} & Timeout in Milliseconds. \\
\hline
\mbox{\tt in}  & {\em Internal\-Address} & Our Address. \\
\hline
\mbox{\tt in}  & {\em Internal\-Address\-Len} & Our Address Length. \\
\hline
\mbox{\tt out}  & {\em Buffer} & Buffer to Read Data into. \\
\hline
\mbox{\tt in}  & {\em Length} & Length of data to read.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success. 

Error code on fail. 
\end{DoxyReturn}


Definition at line 200 of file T\-W\-I\-\_\-\-A\-V\-R8.\-c.



Referenced by rtc\-\_\-read(), rtc\-\_\-run(), and rtc\-\_\-run\-\_\-test().

\hypertarget{TWI__AVR8_8h_a551074dff05c93c7317440b55278aa1b}{\index{T\-W\-I\-\_\-\-A\-V\-R8.\-h@{T\-W\-I\-\_\-\-A\-V\-R8.\-h}!T\-W\-I\-\_\-\-Receive\-Byte@{T\-W\-I\-\_\-\-Receive\-Byte}}
\index{T\-W\-I\-\_\-\-Receive\-Byte@{T\-W\-I\-\_\-\-Receive\-Byte}!TWI_AVR8.h@{T\-W\-I\-\_\-\-A\-V\-R8.\-h}}
\subsubsection[{T\-W\-I\-\_\-\-Receive\-Byte}]{\setlength{\rightskip}{0pt plus 5cm}{\bf bool} T\-W\-I\-\_\-\-Receive\-Byte (
\begin{DoxyParamCaption}
\item[{uint8\-\_\-t $\ast$const}]{Byte, }
\item[{const {\bf bool}}]{Last\-Byte}
\end{DoxyParamCaption}
)}}\label{TWI__AVR8_8h_a551074dff05c93c7317440b55278aa1b}


Definition at line 168 of file T\-W\-I\-\_\-\-A\-V\-R8.\-c.



Referenced by T\-W\-I\-\_\-\-Read\-Packet().

\hypertarget{TWI__AVR8_8h_a57d8ffa11749c0ba97d52c2a6e246d65}{\index{T\-W\-I\-\_\-\-A\-V\-R8.\-h@{T\-W\-I\-\_\-\-A\-V\-R8.\-h}!T\-W\-I\-\_\-\-Send\-Byte@{T\-W\-I\-\_\-\-Send\-Byte}}
\index{T\-W\-I\-\_\-\-Send\-Byte@{T\-W\-I\-\_\-\-Send\-Byte}!TWI_AVR8.h@{T\-W\-I\-\_\-\-A\-V\-R8.\-h}}
\subsubsection[{T\-W\-I\-\_\-\-Send\-Byte}]{\setlength{\rightskip}{0pt plus 5cm}{\bf bool} T\-W\-I\-\_\-\-Send\-Byte (
\begin{DoxyParamCaption}
\item[{const uint8\-\_\-t}]{Byte}
\end{DoxyParamCaption}
)}}\label{TWI__AVR8_8h_a57d8ffa11749c0ba97d52c2a6e246d65}


T\-W\-I send byte. 

\begin{DoxyReturn}{Returns}
1 if Acknowledge. 

0 on fail. 
\end{DoxyReturn}


Definition at line 158 of file T\-W\-I\-\_\-\-A\-V\-R8.\-c.



Referenced by T\-W\-I\-\_\-\-Read\-Packet(), and T\-W\-I\-\_\-\-Write\-Packet().

\hypertarget{TWI__AVR8_8h_a5e9fac0280a2414490f628071c0073c2}{\index{T\-W\-I\-\_\-\-A\-V\-R8.\-h@{T\-W\-I\-\_\-\-A\-V\-R8.\-h}!T\-W\-I\-\_\-\-Start\-Transmission@{T\-W\-I\-\_\-\-Start\-Transmission}}
\index{T\-W\-I\-\_\-\-Start\-Transmission@{T\-W\-I\-\_\-\-Start\-Transmission}!TWI_AVR8.h@{T\-W\-I\-\_\-\-A\-V\-R8.\-h}}
\subsubsection[{T\-W\-I\-\_\-\-Start\-Transmission}]{\setlength{\rightskip}{0pt plus 5cm}uint8\-\_\-t T\-W\-I\-\_\-\-Start\-Transmission (
\begin{DoxyParamCaption}
\item[{const uint8\-\_\-t}]{Slave\-Address, }
\item[{const uint8\-\_\-t}]{Timeout\-M\-S}
\end{DoxyParamCaption}
)}}\label{TWI__AVR8_8h_a5e9fac0280a2414490f628071c0073c2}


Start I2\-C transmission. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em Slave\-Address} & I2\-C Address. \\
\hline
\mbox{\tt in}  & {\em Timeout\-M\-S} & Timeout in Milliseconds.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
T\-W\-I\-\_\-\-E\-R\-R\-O\-R\-\_\-\-No\-Error on success. 

T\-W\-I error value on fail. 
\end{DoxyReturn}


Definition at line 88 of file T\-W\-I\-\_\-\-A\-V\-R8.\-c.



Referenced by T\-W\-I\-\_\-\-Read\-Packet(), and T\-W\-I\-\_\-\-Write\-Packet().

\hypertarget{TWI__AVR8_8h_a7a9c708e4d9fbe6ed807f582bcbded0e}{\index{T\-W\-I\-\_\-\-A\-V\-R8.\-h@{T\-W\-I\-\_\-\-A\-V\-R8.\-h}!T\-W\-I\-\_\-\-Write\-Packet@{T\-W\-I\-\_\-\-Write\-Packet}}
\index{T\-W\-I\-\_\-\-Write\-Packet@{T\-W\-I\-\_\-\-Write\-Packet}!TWI_AVR8.h@{T\-W\-I\-\_\-\-A\-V\-R8.\-h}}
\subsubsection[{T\-W\-I\-\_\-\-Write\-Packet}]{\setlength{\rightskip}{0pt plus 5cm}uint8\-\_\-t T\-W\-I\-\_\-\-Write\-Packet (
\begin{DoxyParamCaption}
\item[{const uint8\-\_\-t}]{Slave\-Address, }
\item[{const uint8\-\_\-t}]{Timeout\-M\-S, }
\item[{const uint8\-\_\-t $\ast$}]{Internal\-Address, }
\item[{uint8\-\_\-t}]{Internal\-Address\-Len, }
\item[{const uint8\-\_\-t $\ast$}]{Buffer, }
\item[{uint8\-\_\-t}]{Length}
\end{DoxyParamCaption}
)}}\label{TWI__AVR8_8h_a7a9c708e4d9fbe6ed807f582bcbded0e}


T\-W\-I write packet. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em Slave\-Address} & T\-W\-I sleave address. \\
\hline
\mbox{\tt in}  & {\em Timeout\-M\-S} & Timeout in Milliseconds. \\
\hline
\mbox{\tt in}  & {\em Internal\-Address} & Our Address. \\
\hline
\mbox{\tt in}  & {\em Internal\-Address\-Len} & Our Address Length. \\
\hline
\mbox{\tt in}  & {\em Buffer} & Buffer to Write. \\
\hline
\mbox{\tt in}  & {\em Length} & Length of data to write.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success. 

Error code on fail. 
\end{DoxyReturn}


Definition at line 252 of file T\-W\-I\-\_\-\-A\-V\-R8.\-c.



Referenced by rtc\-\_\-init(), rtc\-\_\-run(), and rtc\-\_\-write().

