\hypertarget{main_8c}{}\section{main.\+c File Reference}
\label{main_8c}\index{main.\+c@{main.\+c}}


Main for G\+P\+IB emulator for H\+P85 disk emulator project for A\+VR.  


{\ttfamily \#include $<$user\+\_\+config.\+h$>$}\\*
{\ttfamily \#include \char`\"{}hardware/iom1284p.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}gpib/defines.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}gpib/gpib\+\_\+hal.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}gpib/gpib.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}gpib/gpib\+\_\+task.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}gpib/gpib\+\_\+tests.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}gpib/printer.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}gpib/amigo.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}gpib/ss80.\+h\char`\"{}}\\*
{\ttfamily \#include $<$math.\+h$>$}\\*
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{main_8c_ada2555fd3159dbf04e0738fe9c50e22c}{copyright} ()
\begin{DoxyCompactList}\small\item\em Display Copyright. \end{DoxyCompactList}\item 
void \hyperlink{main_8c_a9926884643efcc16ac36662b381b6bde}{delay\+\_\+tests} ()
\begin{DoxyCompactList}\small\item\em perform tests on delay functions \end{DoxyCompactList}\item 
void \hyperlink{main_8c_a97ee70a8770dc30d06c744b24eb2fcfc}{help} ()
\begin{DoxyCompactList}\small\item\em Display the main help menu -\/ calls all other help menus. \end{DoxyCompactList}\item 
void \hyperlink{main_8c_a66ac220b8fb4c59823fdf116cecda862}{task} (uint8\+\_\+t gpib)
\begin{DoxyCompactList}\small\item\em User command handler -\/ called as main task. \end{DoxyCompactList}\item 
int \hyperlink{main_8c_a840291bc02cba5474a4cb46a9b9566fe}{main} (void)
\begin{DoxyCompactList}\small\item\em \hyperlink{main_8c_a840291bc02cba5474a4cb46a9b9566fe}{main()} for gpib project \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Main for G\+P\+IB emulator for H\+P85 disk emulator project for A\+VR. 

\begin{DoxyParagraph}{Copyright \copyright{} 2014-\/2017 Mike Gore, All rights reserved. G\+PL}

\end{DoxyParagraph}
\begin{DoxySeeAlso}{See also}
\href{http://github.com/magore/hp85disk}{\tt http\+://github.\+com/magore/hp85disk} 

\href{http://github.com/magore/hp85disk/COPYRIGHT.md}{\tt http\+://github.\+com/magore/hp85disk/\+C\+O\+P\+Y\+R\+I\+G\+H\+T.\+md} for Copyright details
\end{DoxySeeAlso}
\begin{DoxyParagraph}{Edit History}

\begin{DoxyItemize}
\item \mbox{[}1.\+0\mbox{]} \mbox{[}Mike Gore\mbox{]} Initial revision of file. 
\end{DoxyItemize}
\end{DoxyParagraph}


\subsection{Function Documentation}
\index{main.\+c@{main.\+c}!copyright@{copyright}}
\index{copyright@{copyright}!main.\+c@{main.\+c}}
\subsubsection[{\texorpdfstring{copyright()}{copyright()}}]{\setlength{\rightskip}{0pt plus 5cm}void copyright (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{main_8c_ada2555fd3159dbf04e0738fe9c50e22c}{}\label{main_8c_ada2555fd3159dbf04e0738fe9c50e22c}


Display Copyright. 

\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line 42 of file main.\+c.



Referenced by lif\+\_\+tests(), and td02lif().

\index{main.\+c@{main.\+c}!delay\+\_\+tests@{delay\+\_\+tests}}
\index{delay\+\_\+tests@{delay\+\_\+tests}!main.\+c@{main.\+c}}
\subsubsection[{\texorpdfstring{delay\+\_\+tests()}{delay_tests()}}]{\setlength{\rightskip}{0pt plus 5cm}void delay\+\_\+tests (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{main_8c_a9926884643efcc16ac36662b381b6bde}{}\label{main_8c_a9926884643efcc16ac36662b381b6bde}


perform tests on delay functions 

This included measurement of avr-\/libc delays \begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line 60 of file main.\+c.



Referenced by task().

\index{main.\+c@{main.\+c}!help@{help}}
\index{help@{help}!main.\+c@{main.\+c}}
\subsubsection[{\texorpdfstring{help()}{help()}}]{\setlength{\rightskip}{0pt plus 5cm}void help (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{main_8c_a97ee70a8770dc30d06c744b24eb2fcfc}{}\label{main_8c_a97ee70a8770dc30d06c744b24eb2fcfc}


Display the main help menu -\/ calls all other help menus. 

\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\hyperlink{gpib__tests_8c_a48d3cb0472f32b3aac3af47bad350db2}{gpib\+\_\+help()} 

\hyperlink{fatfs__tests_8c_afc835e47fa248967d3ebc236e3d850d7}{fatfs\+\_\+help()} 
\end{DoxySeeAlso}


Definition at line 98 of file main.\+c.



Referenced by task().

\index{main.\+c@{main.\+c}!main@{main}}
\index{main@{main}!main.\+c@{main.\+c}}
\subsubsection[{\texorpdfstring{main(void)}{main(void)}}]{\setlength{\rightskip}{0pt plus 5cm}int main (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{main_8c_a840291bc02cba5474a4cb46a9b9566fe}{}\label{main_8c_a840291bc02cba5474a4cb46a9b9566fe}


\hyperlink{main_8c_a840291bc02cba5474a4cb46a9b9566fe}{main()} for gpib project 

\begin{DoxyReturn}{Returns}
should never return! 
\end{DoxyReturn}
Power up delay

Power up delay

@ initialize bus state as soon as practical

process config file

G\+P\+IB talking/listening state variables Must be done A\+F\+T\+ER \hyperlink{gpib__task_8c_a29b89503cfbf214695082b16d6d40f52}{gpib\+\_\+file\+\_\+init()} so we have a valid configuration

Display Config

drives if they do not exist

Address Summary

Display debug level 

Definition at line 222 of file main.\+c.



Referenced by Mat\+Write().

\index{main.\+c@{main.\+c}!task@{task}}
\index{task@{task}!main.\+c@{main.\+c}}
\subsubsection[{\texorpdfstring{task(uint8\+\_\+t gpib)}{task(uint8_t gpib)}}]{\setlength{\rightskip}{0pt plus 5cm}void task (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t}]{gpib}
\end{DoxyParamCaption}
)}\hypertarget{main_8c_a66ac220b8fb4c59823fdf116cecda862}{}\label{main_8c_a66ac220b8fb4c59823fdf116cecda862}


User command handler -\/ called as main task. 

If a keypress is detected read a line from the uart parse the result and call various user functions. ? will return a list of fuctions and paramters permitted 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em gpib} & -\/ if non-\/zero run gpib while there are no user commands \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line 133 of file main.\+c.



Referenced by main().

