\hypertarget{amigo_8h}{\section{gpib/amigo.h File Reference}
\label{amigo_8h}\index{gpib/amigo.\-h@{gpib/amigo.\-h}}
}


A\-M\-I\-G\-O disk emulator for H\-P85 disk emulator project for A\-V\-R8.  


{\ttfamily \#include \char`\"{}user\-\_\-config.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}defines.\-h\char`\"{}}\\*
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{amigo_8h_a2853286c50783f39131810ec2b0e9610}{U\-N\-L}~0x3\-F
\item 
\#define \hyperlink{amigo_8h_aa370bdc64b3b5d37eeb63a4c499f3ef3}{U\-N\-T}~0x5\-F
\item 
\#define \hyperlink{amigo_8h_af75952fda4dcd61b5fd81ecc2f764413}{L\-L\-O}~0x11
\item 
\#define \hyperlink{amigo_8h_a865c763cb20dd8d8d1bbe2df29f6a50d}{D\-C\-L}~0x14
\item 
\#define \hyperlink{amigo_8h_aa9720ef12852cf4e0293b5a0a8b19bdc}{P\-P\-U}~0x15
\item 
\#define \hyperlink{amigo_8h_a4b23fe370a3a09cc47acd1e837a5b125}{S\-P\-E}~0x18
\item 
\#define \hyperlink{amigo_8h_a3fee30674709bf7cf2601f2e499372cf}{S\-P\-D}~0x19
\item 
\#define \hyperlink{amigo_8h_a4a5ce0eaf1fcd7131fba9ec08df9bc1e}{G\-T\-L}~0x01
\item 
\#define \hyperlink{amigo_8h_a26ebbac1e849f9c61421e7279c597f2b}{S\-D\-C}~0x04
\item 
\#define \hyperlink{amigo_8h_aa53c4577418b64bd81732884048fae00}{P\-P\-C}~0x05
\item 
\#define \hyperlink{amigo_8h_a982a66f513611f7f83ebfa4b4ecf1df9}{G\-E\-T}~0x08
\item 
\#define \hyperlink{amigo_8h_a62d9d5d853e9cf2072dd811ce956ec56}{T\-C\-T}~0x09
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{amigo_8h_ab63435382919a7106a374b021861a2e1}{amigo\-\_\-init} (void)
\begin{DoxyCompactList}\small\item\em Initialize Amigo state machine, Disk Position, Error status. \end{DoxyCompactList}\item 
int \hyperlink{amigo_8h_a8cbb86a2e44ef4a770a370dcb65d3fbf}{amigo\-\_\-request\-\_\-logical\-\_\-address} (void)
\begin{DoxyCompactList}\small\item\em Set current address in amigo\-\_\-logical\-\_\-address\mbox{[}\mbox{]}. \end{DoxyCompactList}\item 
int \hyperlink{amigo_8h_afb2f0c0517c5c10c38f8e15b8b281a8c}{amigo\-\_\-request\-\_\-status} (void)
\begin{DoxyCompactList}\small\item\em Set drive status in amigo\-\_\-status\mbox{[}\mbox{]}. \end{DoxyCompactList}\item 
int \hyperlink{amigo_8h_a7c6a930fa7cc03f1e926ae99dbe1881c}{amigo\-\_\-send\-\_\-logical\-\_\-address} (void)
\begin{DoxyCompactList}\small\item\em Send current address in amigo\-\_\-logical\-\_\-address\mbox{[}\mbox{]}. \end{DoxyCompactList}\item 
int \hyperlink{amigo_8h_af4df946daf08c99b2d3b85318c9e9df8}{amigo\-\_\-send\-\_\-status} (void)
\begin{DoxyCompactList}\small\item\em Send drive status in amigo\-\_\-status\mbox{[}\mbox{]}. \end{DoxyCompactList}\item 
int \hyperlink{amigo_8h_ae6c9b56f7f0179eecd6d57c2844bc56c}{amigo\-\_\-increment} (char $\ast$msg)
\begin{DoxyCompactList}\small\item\em Increment sector if it will not overflow. \end{DoxyCompactList}\item 
int \hyperlink{amigo_8h_a737360bbcfd3fa3cf9d504757f202e48}{amigo\-\_\-seek} (\hyperlink{structDiskType}{Disk\-Type} $\ast$p)
\begin{DoxyCompactList}\small\item\em Seek to the position held in the disk structure. \end{DoxyCompactList}\item 
int \hyperlink{amigo_8h_ab08912bf94dc6e8fbe87990ff41f46f0}{amigo\-\_\-verify} (uint16\-\_\-t sectors)
\begin{DoxyCompactList}\small\item\em Verify Disk Sectors at current position. \end{DoxyCompactList}\item 
int \hyperlink{amigo_8h_a85a3d11b8dd534100df603e4c3514c92}{amigo\-\_\-format} (uint8\-\_\-t override, uint8\-\_\-t interleave, uint8\-\_\-t db)
\begin{DoxyCompactList}\small\item\em Format Disk. \end{DoxyCompactList}\item 
int \hyperlink{amigo_8h_a4934ae332e168979dbb865a9948de88b}{amigo\-\_\-buffered\-\_\-read} (void)
\begin{DoxyCompactList}\small\item\em Do a buffered read of the current sector. \end{DoxyCompactList}\item 
int \hyperlink{amigo_8h_ae9c3505761b1afba4f47a6b593527583}{amigo\-\_\-buffered\-\_\-write} (void)
\begin{DoxyCompactList}\small\item\em Do a buffered write of the current sector. \end{DoxyCompactList}\item 
int \hyperlink{amigo_8h_af5cfdd8675fce8b93259c76782501394}{amigo\-\_\-cmd\-\_\-dsj} (void)
\begin{DoxyCompactList}\small\item\em Send D\-S\-J. \end{DoxyCompactList}\item 
int \hyperlink{amigo_8h_a1893674c480c08927066d7e10029d01c}{amigo\-\_\-cmd\-\_\-wakeup} (void)
\begin{DoxyCompactList}\small\item\em Wakeup (undocumented), just enable P\-P\-R response. \end{DoxyCompactList}\item 
int \hyperlink{amigo_8h_ae61925e6fb971862b8b0390c67bc164c}{amigo\-\_\-cmd\-\_\-clear} (void)
\begin{DoxyCompactList}\small\item\em Response to selected device clear or all clear. \end{DoxyCompactList}\item 
int \hyperlink{amigo_8h_a6c99539773ae8be3bd4d3bd7493c16d6}{amigo\-\_\-todo\-\_\-op} (uint8\-\_\-t \hyperlink{gpib_8h_a25538708e408bbc21b380cb6f709f5d8}{secondary}, uint8\-\_\-t opcode, int len)
\begin{DoxyCompactList}\small\item\em Report any Unimplimented commands with Op Codes. \end{DoxyCompactList}\item 
int \hyperlink{amigo_8h_a437bef06e567b3f6728f2519b9065354}{amigo\-\_\-todo} (uint8\-\_\-t \hyperlink{gpib_8h_a25538708e408bbc21b380cb6f709f5d8}{secondary})
\begin{DoxyCompactList}\small\item\em Report any Unimplimented commands. \end{DoxyCompactList}\item 
int \hyperlink{amigo_8h_a2fc6f1413199d33d2b32e675dd45e181}{Amigo\-\_\-\-Command} (int \hyperlink{gpib_8h_a25538708e408bbc21b380cb6f709f5d8}{secondary})
\begin{DoxyCompactList}\small\item\em Amigo Command and O\-P Code Processing functions. \end{DoxyCompactList}\item 
int \hyperlink{amigo_8h_ad7271e45e6b3bb6edef42da4ad5bb25a}{Amigo\-\_\-\-Execute} (int \hyperlink{gpib_8h_a25538708e408bbc21b380cb6f709f5d8}{secondary})
\begin{DoxyCompactList}\small\item\em Amigo Execute command processing. \end{DoxyCompactList}\item 
int \hyperlink{amigo_8h_a77b7d46bd469c79c73696a9ae2a3543d}{A\-M\-I\-G\-O\-\_\-\-C\-O\-M\-M\-A\-N\-D\-S} (uint8\-\_\-t ch)
\begin{DoxyCompactList}\small\item\em A\-M\-I\-G\-O Command state processing. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hyperlink{structVolumeLabelType}{Volume\-Label\-Type} \hyperlink{amigo_8h_a7cde3fe5600434f06d6c872090dc5390}{vl}
\begin{DoxyCompactList}\small\item\em L\-I\-F data structures used by stand alone formatting utility. \end{DoxyCompactList}\item 
\hyperlink{structDirEntryType}{Dir\-Entry\-Type} \hyperlink{amigo_8h_acdc9db327daa9bd83d5df64bf016a4da}{de}
\begin{DoxyCompactList}\small\item\em L\-I\-F D\-Irectory Entry. \end{DoxyCompactList}\item 
uint8\-\_\-t \hyperlink{amigo_8h_aa06fad89376ae2fd6a76e740b065e2a5}{amigo\-\_\-state}
\begin{DoxyCompactList}\small\item\em A\-M\-I\-G\-O emulator state machine index. \end{DoxyCompactList}\item 
int \hyperlink{amigo_8h_a8689fc8752751657671c10ed9744b6a0}{Amigo\-\_\-\-Errors}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
A\-M\-I\-G\-O disk emulator for H\-P85 disk emulator project for A\-V\-R8. \begin{DoxyParagraph}{Edit History -\/ \mbox{[}1.0\mbox{]} \mbox{[}Mike Gore\mbox{]} Initial revision of file.}

\end{DoxyParagraph}
\begin{DoxyParagraph}{Copyright \copyright{} 2014 Mike Gore, Inc. All rights reserved.}

\end{DoxyParagraph}
\begin{DoxyParagraph}{Based on work by Anders Gustafsson.}

\end{DoxyParagraph}
\begin{DoxyParagraph}{Copyright \copyright{} 2014 Anders Gustafsson All rights reserved..}

\end{DoxyParagraph}


Definition in file \hyperlink{amigo_8h_source}{amigo.\-h}.



\subsection{Macro Definition Documentation}
\hypertarget{amigo_8h_a865c763cb20dd8d8d1bbe2df29f6a50d}{\index{amigo.\-h@{amigo.\-h}!D\-C\-L@{D\-C\-L}}
\index{D\-C\-L@{D\-C\-L}!amigo.h@{amigo.\-h}}
\subsubsection[{D\-C\-L}]{\setlength{\rightskip}{0pt plus 5cm}\#define D\-C\-L~0x14}}\label{amigo_8h_a865c763cb20dd8d8d1bbe2df29f6a50d}


Definition at line 26 of file amigo.\-h.



Referenced by G\-P\-I\-B().

\hypertarget{amigo_8h_a982a66f513611f7f83ebfa4b4ecf1df9}{\index{amigo.\-h@{amigo.\-h}!G\-E\-T@{G\-E\-T}}
\index{G\-E\-T@{G\-E\-T}!amigo.h@{amigo.\-h}}
\subsubsection[{G\-E\-T}]{\setlength{\rightskip}{0pt plus 5cm}\#define G\-E\-T~0x08}}\label{amigo_8h_a982a66f513611f7f83ebfa4b4ecf1df9}


Definition at line 33 of file amigo.\-h.

\hypertarget{amigo_8h_a4a5ce0eaf1fcd7131fba9ec08df9bc1e}{\index{amigo.\-h@{amigo.\-h}!G\-T\-L@{G\-T\-L}}
\index{G\-T\-L@{G\-T\-L}!amigo.h@{amigo.\-h}}
\subsubsection[{G\-T\-L}]{\setlength{\rightskip}{0pt plus 5cm}\#define G\-T\-L~0x01}}\label{amigo_8h_a4a5ce0eaf1fcd7131fba9ec08df9bc1e}


Definition at line 30 of file amigo.\-h.

\hypertarget{amigo_8h_af75952fda4dcd61b5fd81ecc2f764413}{\index{amigo.\-h@{amigo.\-h}!L\-L\-O@{L\-L\-O}}
\index{L\-L\-O@{L\-L\-O}!amigo.h@{amigo.\-h}}
\subsubsection[{L\-L\-O}]{\setlength{\rightskip}{0pt plus 5cm}\#define L\-L\-O~0x11}}\label{amigo_8h_af75952fda4dcd61b5fd81ecc2f764413}


Definition at line 25 of file amigo.\-h.

\hypertarget{amigo_8h_aa53c4577418b64bd81732884048fae00}{\index{amigo.\-h@{amigo.\-h}!P\-P\-C@{P\-P\-C}}
\index{P\-P\-C@{P\-P\-C}!amigo.h@{amigo.\-h}}
\subsubsection[{P\-P\-C}]{\setlength{\rightskip}{0pt plus 5cm}\#define P\-P\-C~0x05}}\label{amigo_8h_aa53c4577418b64bd81732884048fae00}


Definition at line 32 of file amigo.\-h.

\hypertarget{amigo_8h_aa9720ef12852cf4e0293b5a0a8b19bdc}{\index{amigo.\-h@{amigo.\-h}!P\-P\-U@{P\-P\-U}}
\index{P\-P\-U@{P\-P\-U}!amigo.h@{amigo.\-h}}
\subsubsection[{P\-P\-U}]{\setlength{\rightskip}{0pt plus 5cm}\#define P\-P\-U~0x15}}\label{amigo_8h_aa9720ef12852cf4e0293b5a0a8b19bdc}


Definition at line 27 of file amigo.\-h.

\hypertarget{amigo_8h_a26ebbac1e849f9c61421e7279c597f2b}{\index{amigo.\-h@{amigo.\-h}!S\-D\-C@{S\-D\-C}}
\index{S\-D\-C@{S\-D\-C}!amigo.h@{amigo.\-h}}
\subsubsection[{S\-D\-C}]{\setlength{\rightskip}{0pt plus 5cm}\#define S\-D\-C~0x04}}\label{amigo_8h_a26ebbac1e849f9c61421e7279c597f2b}


Definition at line 31 of file amigo.\-h.



Referenced by G\-P\-I\-B().

\hypertarget{amigo_8h_a3fee30674709bf7cf2601f2e499372cf}{\index{amigo.\-h@{amigo.\-h}!S\-P\-D@{S\-P\-D}}
\index{S\-P\-D@{S\-P\-D}!amigo.h@{amigo.\-h}}
\subsubsection[{S\-P\-D}]{\setlength{\rightskip}{0pt plus 5cm}\#define S\-P\-D~0x19}}\label{amigo_8h_a3fee30674709bf7cf2601f2e499372cf}


Definition at line 29 of file amigo.\-h.



Referenced by G\-P\-I\-B().

\hypertarget{amigo_8h_a4b23fe370a3a09cc47acd1e837a5b125}{\index{amigo.\-h@{amigo.\-h}!S\-P\-E@{S\-P\-E}}
\index{S\-P\-E@{S\-P\-E}!amigo.h@{amigo.\-h}}
\subsubsection[{S\-P\-E}]{\setlength{\rightskip}{0pt plus 5cm}\#define S\-P\-E~0x18}}\label{amigo_8h_a4b23fe370a3a09cc47acd1e837a5b125}


Definition at line 28 of file amigo.\-h.



Referenced by G\-P\-I\-B(), and S\-P\-I0\-\_\-\-Init().

\hypertarget{amigo_8h_a62d9d5d853e9cf2072dd811ce956ec56}{\index{amigo.\-h@{amigo.\-h}!T\-C\-T@{T\-C\-T}}
\index{T\-C\-T@{T\-C\-T}!amigo.h@{amigo.\-h}}
\subsubsection[{T\-C\-T}]{\setlength{\rightskip}{0pt plus 5cm}\#define T\-C\-T~0x09}}\label{amigo_8h_a62d9d5d853e9cf2072dd811ce956ec56}


Definition at line 34 of file amigo.\-h.

\hypertarget{amigo_8h_a2853286c50783f39131810ec2b0e9610}{\index{amigo.\-h@{amigo.\-h}!U\-N\-L@{U\-N\-L}}
\index{U\-N\-L@{U\-N\-L}!amigo.h@{amigo.\-h}}
\subsubsection[{U\-N\-L}]{\setlength{\rightskip}{0pt plus 5cm}\#define U\-N\-L~0x3\-F}}\label{amigo_8h_a2853286c50783f39131810ec2b0e9610}


Definition at line 23 of file amigo.\-h.



Referenced by G\-P\-I\-B\-\_\-\-C\-O\-M\-M\-A\-N\-D\-S(), and G\-P\-I\-B\-\_\-\-L\-I\-S\-T\-E\-N().

\hypertarget{amigo_8h_aa370bdc64b3b5d37eeb63a4c499f3ef3}{\index{amigo.\-h@{amigo.\-h}!U\-N\-T@{U\-N\-T}}
\index{U\-N\-T@{U\-N\-T}!amigo.h@{amigo.\-h}}
\subsubsection[{U\-N\-T}]{\setlength{\rightskip}{0pt plus 5cm}\#define U\-N\-T~0x5\-F}}\label{amigo_8h_aa370bdc64b3b5d37eeb63a4c499f3ef3}


Definition at line 24 of file amigo.\-h.



Referenced by A\-M\-I\-G\-O\-\_\-\-C\-O\-M\-M\-A\-N\-D\-S(), Amigo\-\_\-\-Execute(), amigo\-\_\-todo(), amigo\-\_\-todo\-\_\-op(), G\-P\-I\-B\-\_\-\-C\-O\-M\-M\-A\-N\-D\-S(), G\-P\-I\-B\-\_\-\-L\-I\-S\-T\-E\-N(), gpib\-\_\-read\-\_\-byte(), G\-P\-I\-B\-\_\-\-T\-A\-L\-K(), and gpib\-\_\-task().



\subsection{Function Documentation}
\hypertarget{amigo_8h_a4934ae332e168979dbb865a9948de88b}{\index{amigo.\-h@{amigo.\-h}!amigo\-\_\-buffered\-\_\-read@{amigo\-\_\-buffered\-\_\-read}}
\index{amigo\-\_\-buffered\-\_\-read@{amigo\-\_\-buffered\-\_\-read}!amigo.h@{amigo.\-h}}
\subsubsection[{amigo\-\_\-buffered\-\_\-read}]{\setlength{\rightskip}{0pt plus 5cm}int amigo\-\_\-buffered\-\_\-read (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{amigo_8h_a4934ae332e168979dbb865a9948de88b}


Do a buffered read of the current sector. 


\begin{DoxyItemize}
\item Reference\-: A33. \begin{DoxyReturn}{Returns}
0 ok 

G\-P\-I\-B Errors status,Sets dsj and Amigo\-\_\-errors 
\end{DoxyReturn}

\end{DoxyItemize}\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000005}{Todo}]Do we fail on overflow ? currently djs is set -\/ do we want to report that now ? \end{DoxyRefDesc}


Definition at line 550 of file amigo.\-c.



Referenced by Amigo\-\_\-\-Execute().

\hypertarget{amigo_8h_ae9c3505761b1afba4f47a6b593527583}{\index{amigo.\-h@{amigo.\-h}!amigo\-\_\-buffered\-\_\-write@{amigo\-\_\-buffered\-\_\-write}}
\index{amigo\-\_\-buffered\-\_\-write@{amigo\-\_\-buffered\-\_\-write}!amigo.h@{amigo.\-h}}
\subsubsection[{amigo\-\_\-buffered\-\_\-write}]{\setlength{\rightskip}{0pt plus 5cm}int amigo\-\_\-buffered\-\_\-write (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{amigo_8h_ae9c3505761b1afba4f47a6b593527583}


Do a buffered write of the current sector. 


\begin{DoxyItemize}
\item Reference\-: A43. \begin{DoxyReturn}{Returns}
0 ok 

G\-P\-I\-B Errors status,Sets dsj and Amigo\-\_\-errors 
\end{DoxyReturn}

\end{DoxyItemize}

Definition at line 616 of file amigo.\-c.



Referenced by Amigo\-\_\-\-Execute().

\hypertarget{amigo_8h_ae61925e6fb971862b8b0390c67bc164c}{\index{amigo.\-h@{amigo.\-h}!amigo\-\_\-cmd\-\_\-clear@{amigo\-\_\-cmd\-\_\-clear}}
\index{amigo\-\_\-cmd\-\_\-clear@{amigo\-\_\-cmd\-\_\-clear}!amigo.h@{amigo.\-h}}
\subsubsection[{amigo\-\_\-cmd\-\_\-clear}]{\setlength{\rightskip}{0pt plus 5cm}int amigo\-\_\-cmd\-\_\-clear (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{amigo_8h_ae61925e6fb971862b8b0390c67bc164c}


Response to selected device clear or all clear. 


\begin{DoxyItemize}
\item Reference\-: A23.
\item Select sector 0. \begin{DoxyReturn}{Returns}
0 
\end{DoxyReturn}

\end{DoxyItemize}\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000008}{Todo}]F\-I\-X\-M\-E\end{DoxyRefDesc}


Clear the D\-S\-J byte that might be 2 after powerup

Definition at line 763 of file amigo.\-c.



Referenced by G\-P\-I\-B().

\hypertarget{amigo_8h_af5cfdd8675fce8b93259c76782501394}{\index{amigo.\-h@{amigo.\-h}!amigo\-\_\-cmd\-\_\-dsj@{amigo\-\_\-cmd\-\_\-dsj}}
\index{amigo\-\_\-cmd\-\_\-dsj@{amigo\-\_\-cmd\-\_\-dsj}!amigo.h@{amigo.\-h}}
\subsubsection[{amigo\-\_\-cmd\-\_\-dsj}]{\setlength{\rightskip}{0pt plus 5cm}int amigo\-\_\-cmd\-\_\-dsj (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{amigo_8h_af5cfdd8675fce8b93259c76782501394}


Send D\-S\-J. 


\begin{DoxyItemize}
\item Reference\-: A11. \begin{DoxyReturn}{Returns}
0 ok 

G\-P\-I\-B send Errors status
\end{DoxyReturn}

\item Sets dsj and Amigo\-\_\-errors 
\end{DoxyItemize}

Definition at line 683 of file amigo.\-c.



Referenced by A\-M\-I\-G\-O\-\_\-\-C\-O\-M\-M\-A\-N\-D\-S().

\hypertarget{amigo_8h_a1893674c480c08927066d7e10029d01c}{\index{amigo.\-h@{amigo.\-h}!amigo\-\_\-cmd\-\_\-wakeup@{amigo\-\_\-cmd\-\_\-wakeup}}
\index{amigo\-\_\-cmd\-\_\-wakeup@{amigo\-\_\-cmd\-\_\-wakeup}!amigo.h@{amigo.\-h}}
\subsubsection[{amigo\-\_\-cmd\-\_\-wakeup}]{\setlength{\rightskip}{0pt plus 5cm}int amigo\-\_\-cmd\-\_\-wakeup (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{amigo_8h_a1893674c480c08927066d7e10029d01c}


Wakeup (undocumented), just enable P\-P\-R response. 

\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000006}{Todo}]
\begin{DoxyItemize}
\item not finished
\item Sets dsj and Amigo\-\_\-errors
\end{DoxyItemize}\end{DoxyRefDesc}


\begin{DoxyReturn}{Returns}
G\-P\-I\-B Errors status -\/ or 0 O\-K 
\end{DoxyReturn}
\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000007}{Todo}]F\-I\-X\-M\-E \end{DoxyRefDesc}


Definition at line 725 of file amigo.\-c.

\hypertarget{amigo_8h_a2fc6f1413199d33d2b32e675dd45e181}{\index{amigo.\-h@{amigo.\-h}!Amigo\-\_\-\-Command@{Amigo\-\_\-\-Command}}
\index{Amigo\-\_\-\-Command@{Amigo\-\_\-\-Command}!amigo.h@{amigo.\-h}}
\subsubsection[{Amigo\-\_\-\-Command}]{\setlength{\rightskip}{0pt plus 5cm}int Amigo\-\_\-\-Command (
\begin{DoxyParamCaption}
\item[{int}]{secondary}
\end{DoxyParamCaption}
)}}\label{amigo_8h_a2fc6f1413199d33d2b32e675dd45e181}


Amigo Command and O\-P Code Processing functions. 


\begin{DoxyItemize}
\item We disbale P\-P\-R as soon as a valide command is decoded.
\item O\-N\-L\-Y process Secondary Commands in listen mode with op codes and optional data
\begin{DoxyItemize}
\item Ignore Talking.
\item Ignore Seconday Addresses.
\item Ignore Execute state \char`\"{}0x60\char`\"{} here.
\item Must have O\-P Codes, or Data, and E\-O\-I.
\end{DoxyItemize}
\item Read all of the Data/\-Opcodes/\-Parameters at once -\/ while A\-T\-N is false.
\item Last byte read should be E\-O\-I or an error.
\item Unknown O\-P Code processing rules.
\begin{DoxyItemize}
\item Skip the remaining codes, Wait for Report Phase.
\end{DoxyItemize}
\item We enable P\-P\-R on exit.
\end{DoxyItemize}


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em secondary} & command\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on sucess 

or G\-P\-I\-B error flags on fail 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See Also}
\hyperlink{gpib_8h}{gpib.\-h} \hyperlink{gpib_8h_a10916ab21f8ba06e447e898790ef6a4b}{E\-R\-R\-O\-R\-\_\-\-M\-A\-S\-K} defines for a full list) 
\end{DoxySeeAlso}
Reference\-: A14

Reference\-: A25

Note\-: the function will \char`\"{}unread\char`\"{} any commands and return All Data M\-U\-S\-T have E\-O\-I

Reference\-: A40

\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000009}{Todo}]F\-I\-X\-M\-E \end{DoxyRefDesc}


\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000010}{Todo}]F\-I\-X\-M\-E \end{DoxyRefDesc}


Reference\-: A27

Seek 1 byte cylinder

Reference\-: A27

Seek 2 byte cylinder

Reference\-: A15

\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000011}{Todo}]is this the unit \$ ? \end{DoxyRefDesc}


Reference\-: A35

\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000012}{Todo}]unit ??? \end{DoxyRefDesc}


Reference\-: A48 .. A50

Reference\-: A23 

Definition at line 856 of file amigo.\-c.



Referenced by A\-M\-I\-G\-O\-\_\-\-C\-O\-M\-M\-A\-N\-D\-S().

\hypertarget{amigo_8h_a77b7d46bd469c79c73696a9ae2a3543d}{\index{amigo.\-h@{amigo.\-h}!A\-M\-I\-G\-O\-\_\-\-C\-O\-M\-M\-A\-N\-D\-S@{A\-M\-I\-G\-O\-\_\-\-C\-O\-M\-M\-A\-N\-D\-S}}
\index{A\-M\-I\-G\-O\-\_\-\-C\-O\-M\-M\-A\-N\-D\-S@{A\-M\-I\-G\-O\-\_\-\-C\-O\-M\-M\-A\-N\-D\-S}!amigo.h@{amigo.\-h}}
\subsubsection[{A\-M\-I\-G\-O\-\_\-\-C\-O\-M\-M\-A\-N\-D\-S}]{\setlength{\rightskip}{0pt plus 5cm}int A\-M\-I\-G\-O\-\_\-\-C\-O\-M\-M\-A\-N\-D\-S (
\begin{DoxyParamCaption}
\item[{uint8\-\_\-t}]{ch}
\end{DoxyParamCaption}
)}}\label{amigo_8h_a77b7d46bd469c79c73696a9ae2a3543d}


A\-M\-I\-G\-O Command state processing. 


\begin{DoxyItemize}
\item Perform Command, Execute or Reporting Phase functions.
\begin{DoxyItemize}
\item \hyperlink{amigo_8c_a2fc6f1413199d33d2b32e675dd45e181}{Amigo\-\_\-\-Command()}.
\item \hyperlink{amigo_8c_ad7271e45e6b3bb6edef42da4ad5bb25a}{Amigo\-\_\-\-Execute()}.
\item \hyperlink{amigo_8c_a3ab896c5b3810e84072107a6bcf896c9}{amigo\-\_\-cmd\-\_\-dsj()}.
\end{DoxyItemize}
\end{DoxyItemize}


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em ch} & command.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on sucess 

or G\-P\-I\-B error flags on fail 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See Also}
\hyperlink{gpib_8h}{gpib.\-h} \hyperlink{gpib_8h_a10916ab21f8ba06e447e898790ef6a4b}{E\-R\-R\-O\-R\-\_\-\-M\-A\-S\-K} defines for a full list. 
\end{DoxySeeAlso}


Definition at line 1278 of file amigo.\-c.



Referenced by G\-P\-I\-B\-\_\-\-C\-O\-M\-M\-A\-N\-D\-S().

\hypertarget{amigo_8h_ad7271e45e6b3bb6edef42da4ad5bb25a}{\index{amigo.\-h@{amigo.\-h}!Amigo\-\_\-\-Execute@{Amigo\-\_\-\-Execute}}
\index{Amigo\-\_\-\-Execute@{Amigo\-\_\-\-Execute}!amigo.h@{amigo.\-h}}
\subsubsection[{Amigo\-\_\-\-Execute}]{\setlength{\rightskip}{0pt plus 5cm}int Amigo\-\_\-\-Execute (
\begin{DoxyParamCaption}
\item[{int}]{secondary}
\end{DoxyParamCaption}
)}}\label{amigo_8h_ad7271e45e6b3bb6edef42da4ad5bb25a}


Amigo Execute command processing. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em secondary} & command\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on sucess 

or G\-P\-I\-B error flags on fail 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See Also}
\hyperlink{gpib_8h}{gpib.\-h} \hyperlink{gpib_8h_a10916ab21f8ba06e447e898790ef6a4b}{E\-R\-R\-O\-R\-\_\-\-M\-A\-S\-K} defines for a full list) 
\end{DoxySeeAlso}


Definition at line 1166 of file amigo.\-c.



Referenced by A\-M\-I\-G\-O\-\_\-\-C\-O\-M\-M\-A\-N\-D\-S().

\hypertarget{amigo_8h_a85a3d11b8dd534100df603e4c3514c92}{\index{amigo.\-h@{amigo.\-h}!amigo\-\_\-format@{amigo\-\_\-format}}
\index{amigo\-\_\-format@{amigo\-\_\-format}!amigo.h@{amigo.\-h}}
\subsubsection[{amigo\-\_\-format}]{\setlength{\rightskip}{0pt plus 5cm}int amigo\-\_\-format (
\begin{DoxyParamCaption}
\item[{uint8\-\_\-t}]{override, }
\item[{uint8\-\_\-t}]{interleave, }
\item[{uint8\-\_\-t}]{db}
\end{DoxyParamCaption}
)}}\label{amigo_8h_a85a3d11b8dd534100df603e4c3514c92}


Format Disk. 


\begin{DoxyItemize}
\item Refernce\-: A50.
\end{DoxyItemize}


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em override} & not used \\
\hline
\mbox{\tt in}  & {\em interleave} & not used \\
\hline
\mbox{\tt in}  & {\em db} & byte to fill sector buffer with)\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 ok 

1 on Error,Sets dsj and Amigo\-\_\-errors 
\end{DoxyReturn}


Definition at line 494 of file amigo.\-c.



Referenced by Amigo\-\_\-\-Command().

\hypertarget{amigo_8h_ae6c9b56f7f0179eecd6d57c2844bc56c}{\index{amigo.\-h@{amigo.\-h}!amigo\-\_\-increment@{amigo\-\_\-increment}}
\index{amigo\-\_\-increment@{amigo\-\_\-increment}!amigo.h@{amigo.\-h}}
\subsubsection[{amigo\-\_\-increment}]{\setlength{\rightskip}{0pt plus 5cm}int amigo\-\_\-increment (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{msg}
\end{DoxyParamCaption}
)}}\label{amigo_8h_ae6c9b56f7f0179eecd6d57c2844bc56c}


Increment sector if it will not overflow. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em msg} & user message on overflow.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 ok. 

1 error. 
\end{DoxyReturn}


Definition at line 383 of file amigo.\-c.



Referenced by amigo\-\_\-buffered\-\_\-read(), amigo\-\_\-buffered\-\_\-write(), amigo\-\_\-format(), and amigo\-\_\-verify().

\hypertarget{amigo_8h_ab63435382919a7106a374b021861a2e1}{\index{amigo.\-h@{amigo.\-h}!amigo\-\_\-init@{amigo\-\_\-init}}
\index{amigo\-\_\-init@{amigo\-\_\-init}!amigo.h@{amigo.\-h}}
\subsubsection[{amigo\-\_\-init}]{\setlength{\rightskip}{0pt plus 5cm}void amigo\-\_\-init (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{amigo_8h_ab63435382919a7106a374b021861a2e1}


Initialize Amigo state machine, Disk Position, Error status. 

\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000003}{Todo}]verify that we always want P\-P\-R disabled Enable\-P\-P\-R(\-A\-M\-I\-G\-O\-\_\-\-P\-P\-R); \end{DoxyRefDesc}


Definition at line 157 of file amigo.\-c.



Referenced by gpib\-\_\-init\-\_\-devices().

\hypertarget{amigo_8h_a8cbb86a2e44ef4a770a370dcb65d3fbf}{\index{amigo.\-h@{amigo.\-h}!amigo\-\_\-request\-\_\-logical\-\_\-address@{amigo\-\_\-request\-\_\-logical\-\_\-address}}
\index{amigo\-\_\-request\-\_\-logical\-\_\-address@{amigo\-\_\-request\-\_\-logical\-\_\-address}!amigo.h@{amigo.\-h}}
\subsubsection[{amigo\-\_\-request\-\_\-logical\-\_\-address}]{\setlength{\rightskip}{0pt plus 5cm}int amigo\-\_\-request\-\_\-logical\-\_\-address (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{amigo_8h_a8cbb86a2e44ef4a770a370dcb65d3fbf}


Set current address in amigo\-\_\-logical\-\_\-address\mbox{[}\mbox{]}. 


\begin{DoxyItemize}
\item Reference\-: A15-\/\-A19
\item State\-: Command \begin{DoxyReturn}{Returns}
0 
\end{DoxyReturn}

\end{DoxyItemize}

Definition at line 185 of file amigo.\-c.



Referenced by Amigo\-\_\-\-Command().

\hypertarget{amigo_8h_afb2f0c0517c5c10c38f8e15b8b281a8c}{\index{amigo.\-h@{amigo.\-h}!amigo\-\_\-request\-\_\-status@{amigo\-\_\-request\-\_\-status}}
\index{amigo\-\_\-request\-\_\-status@{amigo\-\_\-request\-\_\-status}!amigo.h@{amigo.\-h}}
\subsubsection[{amigo\-\_\-request\-\_\-status}]{\setlength{\rightskip}{0pt plus 5cm}int amigo\-\_\-request\-\_\-status (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{amigo_8h_afb2f0c0517c5c10c38f8e15b8b281a8c}


Set drive status in amigo\-\_\-status\mbox{[}\mbox{]}. 


\begin{DoxyItemize}
\item Reference\-: A15-\/\-A19.
\item State\-: Command. \begin{DoxyReturn}{Returns}
0 
\end{DoxyReturn}

\end{DoxyItemize}\begin{DoxyRefDesc}{Todo}
\item[\hyperlink{todo__todo000004}{Todo}]dsj \end{DoxyRefDesc}


Definition at line 202 of file amigo.\-c.



Referenced by Amigo\-\_\-\-Command().

\hypertarget{amigo_8h_a737360bbcfd3fa3cf9d504757f202e48}{\index{amigo.\-h@{amigo.\-h}!amigo\-\_\-seek@{amigo\-\_\-seek}}
\index{amigo\-\_\-seek@{amigo\-\_\-seek}!amigo.h@{amigo.\-h}}
\subsubsection[{amigo\-\_\-seek}]{\setlength{\rightskip}{0pt plus 5cm}int amigo\-\_\-seek (
\begin{DoxyParamCaption}
\item[{{\bf Disk\-Type} $\ast$}]{p}
\end{DoxyParamCaption}
)}}\label{amigo_8h_a737360bbcfd3fa3cf9d504757f202e48}


Seek to the position held in the disk structure. 


\begin{DoxyItemize}
\item Reference\-: A27.
\item We should not commit bad head/sector/cylinder values until tested!..
\end{DoxyItemize}


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em p} & \hyperlink{structDiskType}{Disk\-Type} (Current Disk Position) pointer.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 ok 

1 error 
\end{DoxyReturn}


Definition at line 409 of file amigo.\-c.



Referenced by Amigo\-\_\-\-Command().

\hypertarget{amigo_8h_a7c6a930fa7cc03f1e926ae99dbe1881c}{\index{amigo.\-h@{amigo.\-h}!amigo\-\_\-send\-\_\-logical\-\_\-address@{amigo\-\_\-send\-\_\-logical\-\_\-address}}
\index{amigo\-\_\-send\-\_\-logical\-\_\-address@{amigo\-\_\-send\-\_\-logical\-\_\-address}!amigo.h@{amigo.\-h}}
\subsubsection[{amigo\-\_\-send\-\_\-logical\-\_\-address}]{\setlength{\rightskip}{0pt plus 5cm}int amigo\-\_\-send\-\_\-logical\-\_\-address (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{amigo_8h_a7c6a930fa7cc03f1e926ae99dbe1881c}


Send current address in amigo\-\_\-logical\-\_\-address\mbox{[}\mbox{]}. 


\begin{DoxyItemize}
\item Reference\-: A15-\/\-A19.
\item State\-: Execute \begin{DoxyReturn}{Returns}
0 on sucess 

status G\-P\-I\-B error flags on fail 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See Also}
\hyperlink{gpib_8h}{gpib.\-h} \hyperlink{gpib_8h_a10916ab21f8ba06e447e898790ef6a4b}{E\-R\-R\-O\-R\-\_\-\-M\-A\-S\-K} defines for a full list. 
\end{DoxySeeAlso}

\end{DoxyItemize}

Definition at line 253 of file amigo.\-c.



Referenced by Amigo\-\_\-\-Execute().

\hypertarget{amigo_8h_af4df946daf08c99b2d3b85318c9e9df8}{\index{amigo.\-h@{amigo.\-h}!amigo\-\_\-send\-\_\-status@{amigo\-\_\-send\-\_\-status}}
\index{amigo\-\_\-send\-\_\-status@{amigo\-\_\-send\-\_\-status}!amigo.h@{amigo.\-h}}
\subsubsection[{amigo\-\_\-send\-\_\-status}]{\setlength{\rightskip}{0pt plus 5cm}int amigo\-\_\-send\-\_\-status (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{amigo_8h_af4df946daf08c99b2d3b85318c9e9df8}


Send drive status in amigo\-\_\-status\mbox{[}\mbox{]}. 


\begin{DoxyItemize}
\item Reference\-: A15-\/\-A19.
\item State\-: Execute$>$ \begin{DoxyReturn}{Returns}
0 

status G\-P\-I\-B error flags on fail 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See Also}
\hyperlink{gpib_8h}{gpib.\-h} \hyperlink{gpib_8h_a10916ab21f8ba06e447e898790ef6a4b}{E\-R\-R\-O\-R\-\_\-\-M\-A\-S\-K} defines for a full list. 
\end{DoxySeeAlso}

\end{DoxyItemize}

Definition at line 290 of file amigo.\-c.



Referenced by Amigo\-\_\-\-Execute().

\hypertarget{amigo_8h_a437bef06e567b3f6728f2519b9065354}{\index{amigo.\-h@{amigo.\-h}!amigo\-\_\-todo@{amigo\-\_\-todo}}
\index{amigo\-\_\-todo@{amigo\-\_\-todo}!amigo.h@{amigo.\-h}}
\subsubsection[{amigo\-\_\-todo}]{\setlength{\rightskip}{0pt plus 5cm}int amigo\-\_\-todo (
\begin{DoxyParamCaption}
\item[{uint8\-\_\-t}]{secondary}
\end{DoxyParamCaption}
)}}\label{amigo_8h_a437bef06e567b3f6728f2519b9065354}


Report any Unimplimented commands. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em secondary} & G\-P\-I\-B seconday command\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 
\end{DoxyReturn}


Definition at line 816 of file amigo.\-c.



Referenced by Amigo\-\_\-\-Execute().

\hypertarget{amigo_8h_a6c99539773ae8be3bd4d3bd7493c16d6}{\index{amigo.\-h@{amigo.\-h}!amigo\-\_\-todo\-\_\-op@{amigo\-\_\-todo\-\_\-op}}
\index{amigo\-\_\-todo\-\_\-op@{amigo\-\_\-todo\-\_\-op}!amigo.h@{amigo.\-h}}
\subsubsection[{amigo\-\_\-todo\-\_\-op}]{\setlength{\rightskip}{0pt plus 5cm}int amigo\-\_\-todo\-\_\-op (
\begin{DoxyParamCaption}
\item[{uint8\-\_\-t}]{secondary, }
\item[{uint8\-\_\-t}]{opcode, }
\item[{int}]{len}
\end{DoxyParamCaption}
)}}\label{amigo_8h_a6c99539773ae8be3bd4d3bd7493c16d6}


Report any Unimplimented commands with Op Codes. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em secondary} & G\-P\-I\-B secondary command \\
\hline
\mbox{\tt in}  & {\em opcode} & G\-P\-I\-B data byte O\-P Code \\
\hline
\mbox{\tt in}  & {\em len} & Length of G\-O\-I\-B data returned \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 
\end{DoxyReturn}


Definition at line 791 of file amigo.\-c.



Referenced by Amigo\-\_\-\-Command().

\hypertarget{amigo_8h_ab08912bf94dc6e8fbe87990ff41f46f0}{\index{amigo.\-h@{amigo.\-h}!amigo\-\_\-verify@{amigo\-\_\-verify}}
\index{amigo\-\_\-verify@{amigo\-\_\-verify}!amigo.h@{amigo.\-h}}
\subsubsection[{amigo\-\_\-verify}]{\setlength{\rightskip}{0pt plus 5cm}int amigo\-\_\-verify (
\begin{DoxyParamCaption}
\item[{uint16\-\_\-t}]{sectors}
\end{DoxyParamCaption}
)}}\label{amigo_8h_ab08912bf94dc6e8fbe87990ff41f46f0}


Verify Disk Sectors at current position. 


\begin{DoxyItemize}
\item Refernce\-: A36 \begin{DoxyReturn}{Returns}
0 ok 

1 Error, Sets dsj and Amigo\-\_\-errors 
\end{DoxyReturn}

\end{DoxyItemize}

Definition at line 437 of file amigo.\-c.



Referenced by Amigo\-\_\-\-Command().



\subsection{Variable Documentation}
\hypertarget{amigo_8h_a8689fc8752751657671c10ed9744b6a0}{\index{amigo.\-h@{amigo.\-h}!Amigo\-\_\-\-Errors@{Amigo\-\_\-\-Errors}}
\index{Amigo\-\_\-\-Errors@{Amigo\-\_\-\-Errors}!amigo.h@{amigo.\-h}}
\subsubsection[{Amigo\-\_\-\-Errors}]{\setlength{\rightskip}{0pt plus 5cm}int Amigo\-\_\-\-Errors}}\label{amigo_8h_a8689fc8752751657671c10ed9744b6a0}
\hypertarget{amigo_8h_aa06fad89376ae2fd6a76e740b065e2a5}{\index{amigo.\-h@{amigo.\-h}!amigo\-\_\-state@{amigo\-\_\-state}}
\index{amigo\-\_\-state@{amigo\-\_\-state}!amigo.h@{amigo.\-h}}
\subsubsection[{amigo\-\_\-state}]{\setlength{\rightskip}{0pt plus 5cm}uint8\-\_\-t amigo\-\_\-state}}\label{amigo_8h_aa06fad89376ae2fd6a76e740b065e2a5}


A\-M\-I\-G\-O emulator state machine index. 



Definition at line 101 of file amigo.\-c.



Referenced by Amigo\-\_\-\-Command(), Amigo\-\_\-\-Execute(), amigo\-\_\-init(), amigo\-\_\-todo(), and amigo\-\_\-todo\-\_\-op().

\hypertarget{amigo_8h_acdc9db327daa9bd83d5df64bf016a4da}{\index{amigo.\-h@{amigo.\-h}!de@{de}}
\index{de@{de}!amigo.h@{amigo.\-h}}
\subsubsection[{de}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Dir\-Entry\-Type} de}}\label{amigo_8h_acdc9db327daa9bd83d5df64bf016a4da}


L\-I\-F D\-Irectory Entry. 


\begin{DoxyItemize}
\item Reference\-: hpdisk (c) 2014 Anders Gustafsson \href{mailto:anders.gustafsson@pedago.fi}{\tt anders.\-gustafsson@pedago.\-fi}
\item L\-I\-F filesystem \href{http://www.hp9845.net/9845/projects/hpdir/#lif_filesystem}{\tt http\-://www.\-hp9845.\-net/9845/projects/hpdir/\#lif\-\_\-filesystem}
\item L\-I\-F data is B\-I\-G endian 
\end{DoxyItemize}

Definition at line 89 of file amigo.\-c.



Referenced by gpib\-\_\-format\-\_\-disk().

\hypertarget{amigo_8h_a7cde3fe5600434f06d6c872090dc5390}{\index{amigo.\-h@{amigo.\-h}!vl@{vl}}
\index{vl@{vl}!amigo.h@{amigo.\-h}}
\subsubsection[{vl}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Volume\-Label\-Type} vl}}\label{amigo_8h_a7cde3fe5600434f06d6c872090dc5390}


L\-I\-F data structures used by stand alone formatting utility. 

\begin{DoxyVerb}///  Reference: Amigo Command Set Reference used in this document
///  Short Form         Title
///  SS80       "Subset 80 from Fixed and flexible disc drives" 5958-4129
///  HP9123         9123 disc drive manual addendum 5957-6584
///  A          Appendix A "HP 9895A Disc Memory Commends Set"
///             See Receive Status A16
///  L    Buffered Read             0x05    2       A33     Y
///  L    Request Physical Address  0x14    2       A21     Y 0x68
///             See Send Address A20
/// 
///  0x6B Command Op Codes          OP      bytes
///  L    Buffered Read Verify      0x05    2       A37     Y
///  L    ID Triggered Read         0x06    2       A41     Y
/// 
///  0x6C Command Op Codes          OP      bytes
///  L    Unbuffered Read Verify    0x05    2       A38     Y
///  L    Request Physical Address  0x14    2       A21     Y 0x68
///  L    Format Request            0x18    2       A50     N
///  L    Door Lock                 0x19    2       A30     N
///  L    Door Unlock               0x1A    2       A31     N
/// 
///  0x6F Command Op Codes          OP      bytes
///  L    Download Controller       ---     1..256  A26     N
/// 
///  0x70 Command Op Codes          OP      bytes
///  L    HP-300 Clear              ---     1       A23     N
///  T    DSJ                       ---     1       A11     N
/// 
///  0x77 Command Op Codes          OP      bytes
///  T/L  HP-IB CRC                 ---     ---     A30     N
/// 
///  0x7E Command Op Codes          OP      bytes
///  L    Write Loopback Record     ---     1..256  A25     N
///  T    Read Loopback Record      ---     1..256  A14     N
/// 
///  0x7F Command Op Codes          OP      bytes
///  T    Read Self Test Results    ---     2       A13     N
///  L    Initiat Self Test         ---     2       A24     N
/// \end{DoxyVerb}
L\-I\-F Volume label structure
\begin{DoxyItemize}
\item Reference\-: hpdisk (c) 2014 Anders Gustafsson \href{mailto:anders.gustafsson@pedago.fi}{\tt anders.\-gustafsson@pedago.\-fi}
\item L\-I\-F filesystem \href{http://www.hp9845.net/9845/projects/hpdir/#lif_filesystem}{\tt http\-://www.\-hp9845.\-net/9845/projects/hpdir/\#lif\-\_\-filesystem}
\item L\-I\-F data is B\-I\-G endian 
\end{DoxyItemize}

Definition at line 74 of file amigo.\-c.



Referenced by gpib\-\_\-format\-\_\-disk().

