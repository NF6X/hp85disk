\hypertarget{timer_8h}{}\doxysection{lib/timer.h File Reference}
\label{timer_8h}\index{lib/timer.h@{lib/timer.h}}


timer functions  


\doxysubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structTIMERS}{T\+I\+M\+E\+RS}}
\begin{DoxyCompactList}\small\item\em user timer struct \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{timer_8h_a492a379b00d0ec04be9cd0994e0b42ae}{M\+A\+X\+\_\+\+T\+I\+M\+E\+R\+\_\+\+C\+NT}}~8
\begin{DoxyCompactList}\small\item\em Number of user timer tasks. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{timer_8h_ac0ca52f7bb0e2b7993bbcb75495d7904}{S\+Y\+S\+T\+E\+M\+\_\+\+T\+A\+S\+K\+\_\+\+T\+I\+C\+\_\+\+NS}}~( 1000000000L / \mbox{\hyperlink{hardware_2user__config_8h_ab29f444706056b13bca09e97c909bbc5}{S\+Y\+S\+T\+E\+M\+\_\+\+T\+A\+S\+K\+\_\+\+HZ}} )
\begin{DoxyCompactList}\small\item\em System task in HZ. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{timer_8h_a7e0b78d1697fa3781598373f4e161ea3}{S\+Y\+S\+T\+E\+M\+\_\+\+T\+A\+S\+K\+\_\+\+T\+I\+C\+\_\+\+US}}~( 1000000L / \mbox{\hyperlink{hardware_2user__config_8h_ab29f444706056b13bca09e97c909bbc5}{S\+Y\+S\+T\+E\+M\+\_\+\+T\+A\+S\+K\+\_\+\+HZ}} )
\begin{DoxyCompactList}\small\item\em System task in Microseconds. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{timer_8h_a4068229bfd30e574c7a9f1a8c6687582}{C\+L\+O\+C\+K\+\_\+\+HZ}}~\mbox{\hyperlink{hardware_2user__config_8h_ab29f444706056b13bca09e97c909bbc5}{S\+Y\+S\+T\+E\+M\+\_\+\+T\+A\+S\+K\+\_\+\+HZ}}
\begin{DoxyCompactList}\small\item\em Clock task in HZ defined as System task. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{timer_8h_a6aacf2441874a27f25ae927bbddf1235}{C\+L\+O\+C\+K\+\_\+\+T\+I\+C\+\_\+\+NS}}~\mbox{\hyperlink{timer_8h_ac0ca52f7bb0e2b7993bbcb75495d7904}{S\+Y\+S\+T\+E\+M\+\_\+\+T\+A\+S\+K\+\_\+\+T\+I\+C\+\_\+\+NS}}
\begin{DoxyCompactList}\small\item\em Clock task in Nanoseconds defined as System Task. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{timer_8h_a1aa52cddadb40365ae68d2c45600d684}{C\+L\+O\+C\+K\+\_\+\+T\+I\+C\+\_\+\+US}}~\mbox{\hyperlink{timer_8h_a7e0b78d1697fa3781598373f4e161ea3}{S\+Y\+S\+T\+E\+M\+\_\+\+T\+A\+S\+K\+\_\+\+T\+I\+C\+\_\+\+US}}
\begin{DoxyCompactList}\small\item\em C\+Lock task in Microseconds defined as System Task. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef uint16\+\_\+t \mbox{\hyperlink{timer_8h_afeece078c6706f33383bf11bbf584518}{clockid\+\_\+t}}
\begin{DoxyCompactList}\small\item\em type of clockid\+\_\+t. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE}} int \mbox{\hyperlink{timer_8h_a35f94fb84f1b626d8d1ace062b26c932}{set\+\_\+timers}} (void($\ast$handler)(void), int timer)
\item 
\mbox{\hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE}} int \mbox{\hyperlink{timer_8h_a71c3fe0e245c7b08e03a2fe0fbd88844}{kill\+\_\+timer}} (int timer)
\begin{DoxyCompactList}\small\item\em Delete \char`\"{}\+Kill\char`\"{} one user timer task. \end{DoxyCompactList}\item 
\mbox{\hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE}} void \mbox{\hyperlink{timer_8h_a4b27b84577f0a45741aa4b1de370df66}{delete\+\_\+all\+\_\+timers}} (void)
\begin{DoxyCompactList}\small\item\em Clear A\+LL user timer tasks. \end{DoxyCompactList}\item 
\mbox{\hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE}} void \mbox{\hyperlink{timer_8h_ab92d687bae984bd62c3d741f2ba614ed}{subtract\+\_\+timespec}} (\mbox{\hyperlink{time_8h_a062a82a85c72b4a3020130efc37a00cf}{ts\+\_\+t}} $\ast$a, \mbox{\hyperlink{time_8h_a062a82a85c72b4a3020130efc37a00cf}{ts\+\_\+t}} $\ast$b)
\begin{DoxyCompactList}\small\item\em subtract a-\/= b timespec $\ast$ structures. \end{DoxyCompactList}\item 
\mbox{\hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE}} char $\ast$ \mbox{\hyperlink{timer_8h_a41fb2edea84c2f17c7c6ad6ff87baeff}{ts\+\_\+to\+\_\+str}} (\mbox{\hyperlink{time_8h_a062a82a85c72b4a3020130efc37a00cf}{ts\+\_\+t}} $\ast$val)
\item 
\mbox{\hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE}} void \mbox{\hyperlink{timer_8h_a6802af23bc1fe764b975683a0b37fc91}{display\+\_\+ts}} (\mbox{\hyperlink{time_8h_a062a82a85c72b4a3020130efc37a00cf}{ts\+\_\+t}} $\ast$val)
\begin{DoxyCompactList}\small\item\em timespec structure in seconds.\+nanoseconds. \end{DoxyCompactList}\item 
\mbox{\hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE}} void \mbox{\hyperlink{timer_8h_a6beae313733d5f16cb62417d41eaca95}{clock\+\_\+elapsed\+\_\+begin}} (void)
\begin{DoxyCompactList}\small\item\em Store current struct timespec in \+\_\+\+\_\+clock\+\_\+elapsed. \end{DoxyCompactList}\item 
\mbox{\hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE}} void \mbox{\hyperlink{timer_8h_a9f3dff4c1cc1701dc99d7e1d30ffcc06}{clock\+\_\+elapsed\+\_\+end}} (char $\ast$msg)
\begin{DoxyCompactList}\small\item\em Subtract and display time difference from clock\+\_\+elapesed\+\_\+begin(). \end{DoxyCompactList}\item 
\mbox{\hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE}} void \mbox{\hyperlink{timer_8h_a23ba64ca0da1fe41d4c870ada3e8a04e}{clock\+\_\+clear}} (void)
\begin{DoxyCompactList}\small\item\em clear time and timezone to 0. \end{DoxyCompactList}\item 
\mbox{\hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE}} void \mbox{\hyperlink{timer_8h_abe2823a39b30ff55fe9326f2b5f0741e}{disable\+\_\+timers}} (void)
\begin{DoxyCompactList}\small\item\em Disable all timer tasks. \end{DoxyCompactList}\item 
\mbox{\hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE}} void \mbox{\hyperlink{timer_8h_a0e736ce66a2bc05cc14b7a282fa52b73}{enable\+\_\+timers}} (void)
\begin{DoxyCompactList}\small\item\em Enable timer tasks. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{timer_8h_a7de37276c1b697f865594c7e5f28e961}{execute\+\_\+timers}} (void)
\begin{DoxyCompactList}\small\item\em Execute all user timers at S\+Y\+S\+T\+E\+M\+\_\+\+HZ rate. Called by system task. \end{DoxyCompactList}\item 
\mbox{\hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE}} void \mbox{\hyperlink{timer_8h_aa97274e3b8fdcd900c265d3808d5313c}{clock\+\_\+init}} (void)
\item 
void \mbox{\hyperlink{timer_8h_a182d70e09e9436c9c8a2e81b7597f206}{clock\+\_\+task}} (void)
\begin{DoxyCompactList}\small\item\em 1000HZ timer task \end{DoxyCompactList}\item 
\mbox{\hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE}} void \mbox{\hyperlink{timer_8h_a4a06b0b10204f441d18c79601b4ee13f}{init\+\_\+timers}} (void)
\begin{DoxyCompactList}\small\item\em Setup all timers tasksi and enable interrupts. \end{DoxyCompactList}\item 
\mbox{\hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE}} int \mbox{\hyperlink{timer_8h_ab507661341c93c415b27ed9d40839539}{clock\+\_\+getres}} (\mbox{\hyperlink{time_8h_afeece078c6706f33383bf11bbf584518}{clockid\+\_\+t}} clk\+\_\+id, struct \mbox{\hyperlink{structtimespec}{timespec}} $\ast$res)
\item 
\mbox{\hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE}} int \mbox{\hyperlink{timer_8h_a4ebca9883466f2cc6fea0547e0e64e79}{clock\+\_\+settime}} (\mbox{\hyperlink{time_8h_afeece078c6706f33383bf11bbf584518}{clockid\+\_\+t}} clk\+\_\+id, const struct \mbox{\hyperlink{structtimespec}{timespec}} $\ast$ts)
\item 
\mbox{\hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE}} int \mbox{\hyperlink{timer_8h_aa6e5b6a9c1fb8bc6e2093fca40600bf5}{clock\+\_\+gettime}} (\mbox{\hyperlink{time_8h_afeece078c6706f33383bf11bbf584518}{clockid\+\_\+t}} clk\+\_\+id, struct \mbox{\hyperlink{structtimespec}{timespec}} $\ast$ts)
\item 
\mbox{\hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE}} void \mbox{\hyperlink{timer_8h_a45ccd72c3ad32c4f7a5a8ef74d2653b3}{disable\+\_\+system\+\_\+task}} (void)
\item 
\mbox{\hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE}} void \mbox{\hyperlink{timer_8h_a9827e02881cff25ff30c35c7d8ed3ac4}{enable\+\_\+system\+\_\+task}} (void)
\item 
\mbox{\hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE}} void \mbox{\hyperlink{timer_8h_a49353e09a3623d95083574b87e9aadc5}{install\+\_\+timers\+\_\+isr}} (void)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
timer functions 

\begin{DoxyParagraph}{Copyright \copyright{} 2015 Mike Gore, G\+PL License}

\end{DoxyParagraph}
\begin{DoxyParagraph}{You are free to use this code under the terms of G\+PL}
please retain a copy of this notice in any code you use it in.
\end{DoxyParagraph}
This is free software\+: you can redistribute it and/or modify it under the terms of the G\+NU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.

This software is distributed in the hope that it will be useful, but W\+I\+T\+H\+O\+UT A\+NY W\+A\+R\+R\+A\+N\+TY; without even the implied warranty of M\+E\+R\+C\+H\+A\+N\+T\+A\+B\+I\+L\+I\+TY or F\+I\+T\+N\+E\+SS F\+OR A P\+A\+R\+T\+I\+C\+U\+L\+AR P\+U\+R\+P\+O\+SE. See the G\+NU General Public License for more details.

You should have received a copy of the G\+NU General Public License along with this program. If not, see \href{http://www.gnu.org/licenses/}{\texttt{ http\+://www.\+gnu.\+org/licenses/}}. 

\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{timer_8h_a4068229bfd30e574c7a9f1a8c6687582}\label{timer_8h_a4068229bfd30e574c7a9f1a8c6687582}} 
\index{timer.h@{timer.h}!CLOCK\_HZ@{CLOCK\_HZ}}
\index{CLOCK\_HZ@{CLOCK\_HZ}!timer.h@{timer.h}}
\doxysubsubsection{\texorpdfstring{CLOCK\_HZ}{CLOCK\_HZ}}
{\footnotesize\ttfamily \#define C\+L\+O\+C\+K\+\_\+\+HZ~\mbox{\hyperlink{hardware_2user__config_8h_ab29f444706056b13bca09e97c909bbc5}{S\+Y\+S\+T\+E\+M\+\_\+\+T\+A\+S\+K\+\_\+\+HZ}}}



Clock task in HZ defined as System task. 



Definition at line 52 of file timer.\+h.

\mbox{\Hypertarget{timer_8h_a6aacf2441874a27f25ae927bbddf1235}\label{timer_8h_a6aacf2441874a27f25ae927bbddf1235}} 
\index{timer.h@{timer.h}!CLOCK\_TIC\_NS@{CLOCK\_TIC\_NS}}
\index{CLOCK\_TIC\_NS@{CLOCK\_TIC\_NS}!timer.h@{timer.h}}
\doxysubsubsection{\texorpdfstring{CLOCK\_TIC\_NS}{CLOCK\_TIC\_NS}}
{\footnotesize\ttfamily \#define C\+L\+O\+C\+K\+\_\+\+T\+I\+C\+\_\+\+NS~\mbox{\hyperlink{timer_8h_ac0ca52f7bb0e2b7993bbcb75495d7904}{S\+Y\+S\+T\+E\+M\+\_\+\+T\+A\+S\+K\+\_\+\+T\+I\+C\+\_\+\+NS}}}



Clock task in Nanoseconds defined as System Task. 



Definition at line 54 of file timer.\+h.

\mbox{\Hypertarget{timer_8h_a1aa52cddadb40365ae68d2c45600d684}\label{timer_8h_a1aa52cddadb40365ae68d2c45600d684}} 
\index{timer.h@{timer.h}!CLOCK\_TIC\_US@{CLOCK\_TIC\_US}}
\index{CLOCK\_TIC\_US@{CLOCK\_TIC\_US}!timer.h@{timer.h}}
\doxysubsubsection{\texorpdfstring{CLOCK\_TIC\_US}{CLOCK\_TIC\_US}}
{\footnotesize\ttfamily \#define C\+L\+O\+C\+K\+\_\+\+T\+I\+C\+\_\+\+US~\mbox{\hyperlink{timer_8h_a7e0b78d1697fa3781598373f4e161ea3}{S\+Y\+S\+T\+E\+M\+\_\+\+T\+A\+S\+K\+\_\+\+T\+I\+C\+\_\+\+US}}}



C\+Lock task in Microseconds defined as System Task. 



Definition at line 56 of file timer.\+h.

\mbox{\Hypertarget{timer_8h_a492a379b00d0ec04be9cd0994e0b42ae}\label{timer_8h_a492a379b00d0ec04be9cd0994e0b42ae}} 
\index{timer.h@{timer.h}!MAX\_TIMER\_CNT@{MAX\_TIMER\_CNT}}
\index{MAX\_TIMER\_CNT@{MAX\_TIMER\_CNT}!timer.h@{timer.h}}
\doxysubsubsection{\texorpdfstring{MAX\_TIMER\_CNT}{MAX\_TIMER\_CNT}}
{\footnotesize\ttfamily \#define M\+A\+X\+\_\+\+T\+I\+M\+E\+R\+\_\+\+C\+NT~8}



Number of user timer tasks. 



Definition at line 29 of file timer.\+h.

\mbox{\Hypertarget{timer_8h_ac0ca52f7bb0e2b7993bbcb75495d7904}\label{timer_8h_ac0ca52f7bb0e2b7993bbcb75495d7904}} 
\index{timer.h@{timer.h}!SYSTEM\_TASK\_TIC\_NS@{SYSTEM\_TASK\_TIC\_NS}}
\index{SYSTEM\_TASK\_TIC\_NS@{SYSTEM\_TASK\_TIC\_NS}!timer.h@{timer.h}}
\doxysubsubsection{\texorpdfstring{SYSTEM\_TASK\_TIC\_NS}{SYSTEM\_TASK\_TIC\_NS}}
{\footnotesize\ttfamily \#define S\+Y\+S\+T\+E\+M\+\_\+\+T\+A\+S\+K\+\_\+\+T\+I\+C\+\_\+\+NS~( 1000000000L / \mbox{\hyperlink{hardware_2user__config_8h_ab29f444706056b13bca09e97c909bbc5}{S\+Y\+S\+T\+E\+M\+\_\+\+T\+A\+S\+K\+\_\+\+HZ}} )}



System task in HZ. 

System task in Nanoseconds. 

Definition at line 47 of file timer.\+h.

\mbox{\Hypertarget{timer_8h_a7e0b78d1697fa3781598373f4e161ea3}\label{timer_8h_a7e0b78d1697fa3781598373f4e161ea3}} 
\index{timer.h@{timer.h}!SYSTEM\_TASK\_TIC\_US@{SYSTEM\_TASK\_TIC\_US}}
\index{SYSTEM\_TASK\_TIC\_US@{SYSTEM\_TASK\_TIC\_US}!timer.h@{timer.h}}
\doxysubsubsection{\texorpdfstring{SYSTEM\_TASK\_TIC\_US}{SYSTEM\_TASK\_TIC\_US}}
{\footnotesize\ttfamily \#define S\+Y\+S\+T\+E\+M\+\_\+\+T\+A\+S\+K\+\_\+\+T\+I\+C\+\_\+\+US~( 1000000L / \mbox{\hyperlink{hardware_2user__config_8h_ab29f444706056b13bca09e97c909bbc5}{S\+Y\+S\+T\+E\+M\+\_\+\+T\+A\+S\+K\+\_\+\+HZ}} )}



System task in Microseconds. 



Definition at line 49 of file timer.\+h.



\doxysubsection{Typedef Documentation}
\mbox{\Hypertarget{timer_8h_afeece078c6706f33383bf11bbf584518}\label{timer_8h_afeece078c6706f33383bf11bbf584518}} 
\index{timer.h@{timer.h}!clockid\_t@{clockid\_t}}
\index{clockid\_t@{clockid\_t}!timer.h@{timer.h}}
\doxysubsubsection{\texorpdfstring{clockid\_t}{clockid\_t}}
{\footnotesize\ttfamily typedef uint16\+\_\+t \mbox{\hyperlink{time_8h_afeece078c6706f33383bf11bbf584518}{clockid\+\_\+t}}}



type of clockid\+\_\+t. 



Definition at line 32 of file timer.\+h.



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{timer_8h_a23ba64ca0da1fe41d4c870ada3e8a04e}\label{timer_8h_a23ba64ca0da1fe41d4c870ada3e8a04e}} 
\index{timer.h@{timer.h}!clock\_clear@{clock\_clear}}
\index{clock\_clear@{clock\_clear}!timer.h@{timer.h}}
\doxysubsubsection{\texorpdfstring{clock\_clear()}{clock\_clear()}}
{\footnotesize\ttfamily \mbox{\hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE}} void clock\+\_\+clear (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



clear time and timezone to 0. 

\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{timer_8c_ab98bf5c6b3b1e1841f2c3e5c082d43b3}{clock\+\_\+settime()}}. 

\mbox{\hyperlink{time_8c_aba9a1e17f18817099c795d0559d747a8}{settimezone()}}.
\end{DoxySeeAlso}
\begin{DoxyReturn}{Returns}
void. 
\end{DoxyReturn}


Definition at line 222 of file timer.\+c.



Referenced by init\+\_\+timers(), and main().

\mbox{\Hypertarget{timer_8h_a6beae313733d5f16cb62417d41eaca95}\label{timer_8h_a6beae313733d5f16cb62417d41eaca95}} 
\index{timer.h@{timer.h}!clock\_elapsed\_begin@{clock\_elapsed\_begin}}
\index{clock\_elapsed\_begin@{clock\_elapsed\_begin}!timer.h@{timer.h}}
\doxysubsubsection{\texorpdfstring{clock\_elapsed\_begin()}{clock\_elapsed\_begin()}}
{\footnotesize\ttfamily \mbox{\hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE}} void clock\+\_\+elapsed\+\_\+begin (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Store current struct timespec in \+\_\+\+\_\+clock\+\_\+elapsed. 

\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{timer_8c_af6cb17d901fc12700b0f35b6ac9c6d66}{clock\+\_\+gettime()}} \mbox{\hyperlink{posix_8h_a1c3d85ae80df5590fa314acffd8bf840}{P\+O\+S\+IX}} function.
\end{DoxySeeAlso}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line 184 of file timer.\+c.



Referenced by gpib\+\_\+timer\+\_\+elapsed\+\_\+begin().

\mbox{\Hypertarget{timer_8h_a9f3dff4c1cc1701dc99d7e1d30ffcc06}\label{timer_8h_a9f3dff4c1cc1701dc99d7e1d30ffcc06}} 
\index{timer.h@{timer.h}!clock\_elapsed\_end@{clock\_elapsed\_end}}
\index{clock\_elapsed\_end@{clock\_elapsed\_end}!timer.h@{timer.h}}
\doxysubsubsection{\texorpdfstring{clock\_elapsed\_end()}{clock\_elapsed\_end()}}
{\footnotesize\ttfamily \mbox{\hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE}} void clock\+\_\+elapsed\+\_\+end (\begin{DoxyParamCaption}\item[{char $\ast$}]{msg }\end{DoxyParamCaption})}



Subtract and display time difference from clock\+\_\+elapesed\+\_\+begin(). 


\begin{DoxyItemize}
\item Notes\+: Accuracy is a function of timer resolution, C\+PU overhead and background tasks.
\end{DoxyItemize}


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em msg} & User message to proceed Time display.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{timer_8c_af6cb17d901fc12700b0f35b6ac9c6d66}{clock\+\_\+gettime()}}. 

clock\+\_\+elapesed\+\_\+begin(). 
\end{DoxySeeAlso}


Definition at line 200 of file timer.\+c.



Referenced by gpib\+\_\+timer\+\_\+elapsed\+\_\+end().

\mbox{\Hypertarget{timer_8h_ab507661341c93c415b27ed9d40839539}\label{timer_8h_ab507661341c93c415b27ed9d40839539}} 
\index{timer.h@{timer.h}!clock\_getres@{clock\_getres}}
\index{clock\_getres@{clock\_getres}!timer.h@{timer.h}}
\doxysubsubsection{\texorpdfstring{clock\_getres()}{clock\_getres()}}
{\footnotesize\ttfamily \mbox{\hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE}} int clock\+\_\+getres (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{time_8h_afeece078c6706f33383bf11bbf584518}{clockid\+\_\+t}}}]{clk\+\_\+id,  }\item[{struct \mbox{\hyperlink{structtimespec}{timespec}} $\ast$}]{res }\end{DoxyParamCaption})}

\mbox{\Hypertarget{timer_8h_aa6e5b6a9c1fb8bc6e2093fca40600bf5}\label{timer_8h_aa6e5b6a9c1fb8bc6e2093fca40600bf5}} 
\index{timer.h@{timer.h}!clock\_gettime@{clock\_gettime}}
\index{clock\_gettime@{clock\_gettime}!timer.h@{timer.h}}
\doxysubsubsection{\texorpdfstring{clock\_gettime()}{clock\_gettime()}}
{\footnotesize\ttfamily \mbox{\hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE}} int clock\+\_\+gettime (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{time_8h_afeece078c6706f33383bf11bbf584518}{clockid\+\_\+t}}}]{clk\+\_\+id,  }\item[{struct \mbox{\hyperlink{structtimespec}{timespec}} $\ast$}]{ts }\end{DoxyParamCaption})}

\mbox{\Hypertarget{timer_8h_aa97274e3b8fdcd900c265d3808d5313c}\label{timer_8h_aa97274e3b8fdcd900c265d3808d5313c}} 
\index{timer.h@{timer.h}!clock\_init@{clock\_init}}
\index{clock\_init@{clock\_init}!timer.h@{timer.h}}
\doxysubsubsection{\texorpdfstring{clock\_init()}{clock\_init()}}
{\footnotesize\ttfamily \mbox{\hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE}} void clock\+\_\+init (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{timer_8h_a4ebca9883466f2cc6fea0547e0e64e79}\label{timer_8h_a4ebca9883466f2cc6fea0547e0e64e79}} 
\index{timer.h@{timer.h}!clock\_settime@{clock\_settime}}
\index{clock\_settime@{clock\_settime}!timer.h@{timer.h}}
\doxysubsubsection{\texorpdfstring{clock\_settime()}{clock\_settime()}}
{\footnotesize\ttfamily \mbox{\hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE}} int clock\+\_\+settime (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{time_8h_afeece078c6706f33383bf11bbf584518}{clockid\+\_\+t}}}]{clk\+\_\+id,  }\item[{const struct \mbox{\hyperlink{structtimespec}{timespec}} $\ast$}]{ts }\end{DoxyParamCaption})}

\mbox{\Hypertarget{timer_8h_a182d70e09e9436c9c8a2e81b7597f206}\label{timer_8h_a182d70e09e9436c9c8a2e81b7597f206}} 
\index{timer.h@{timer.h}!clock\_task@{clock\_task}}
\index{clock\_task@{clock\_task}!timer.h@{timer.h}}
\doxysubsubsection{\texorpdfstring{clock\_task()}{clock\_task()}}
{\footnotesize\ttfamily void clock\+\_\+task (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



1000HZ timer task 

\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line 281 of file timer.\+c.



Referenced by init\+\_\+timers().

\mbox{\Hypertarget{timer_8h_a4b27b84577f0a45741aa4b1de370df66}\label{timer_8h_a4b27b84577f0a45741aa4b1de370df66}} 
\index{timer.h@{timer.h}!delete\_all\_timers@{delete\_all\_timers}}
\index{delete\_all\_timers@{delete\_all\_timers}!timer.h@{timer.h}}
\doxysubsubsection{\texorpdfstring{delete\_all\_timers()}{delete\_all\_timers()}}
{\footnotesize\ttfamily \mbox{\hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE}} void delete\+\_\+all\+\_\+timers (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Clear A\+LL user timer tasks. 

\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line 116 of file timer.\+c.



Referenced by init\+\_\+timers().

\mbox{\Hypertarget{timer_8h_a45ccd72c3ad32c4f7a5a8ef74d2653b3}\label{timer_8h_a45ccd72c3ad32c4f7a5a8ef74d2653b3}} 
\index{timer.h@{timer.h}!disable\_system\_task@{disable\_system\_task}}
\index{disable\_system\_task@{disable\_system\_task}!timer.h@{timer.h}}
\doxysubsubsection{\texorpdfstring{disable\_system\_task()}{disable\_system\_task()}}
{\footnotesize\ttfamily \mbox{\hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE}} void disable\+\_\+system\+\_\+task (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Referenced by disable\+\_\+timers().

\mbox{\Hypertarget{timer_8h_abe2823a39b30ff55fe9326f2b5f0741e}\label{timer_8h_abe2823a39b30ff55fe9326f2b5f0741e}} 
\index{timer.h@{timer.h}!disable\_timers@{disable\_timers}}
\index{disable\_timers@{disable\_timers}!timer.h@{timer.h}}
\doxysubsubsection{\texorpdfstring{disable\_timers()}{disable\_timers()}}
{\footnotesize\ttfamily \mbox{\hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE}} void disable\+\_\+timers (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Disable all timer tasks. 

\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line 237 of file timer.\+c.

\mbox{\Hypertarget{timer_8h_a6802af23bc1fe764b975683a0b37fc91}\label{timer_8h_a6802af23bc1fe764b975683a0b37fc91}} 
\index{timer.h@{timer.h}!display\_ts@{display\_ts}}
\index{display\_ts@{display\_ts}!timer.h@{timer.h}}
\doxysubsubsection{\texorpdfstring{display\_ts()}{display\_ts()}}
{\footnotesize\ttfamily \mbox{\hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE}} void display\+\_\+ts (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{time_8h_a062a82a85c72b4a3020130efc37a00cf}{ts\+\_\+t}} $\ast$}]{val }\end{DoxyParamCaption})}



timespec structure in seconds.\+nanoseconds. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em val} & timespec struct we want to display.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void. 
\end{DoxyReturn}


Definition at line 167 of file timer.\+c.

\mbox{\Hypertarget{timer_8h_a9827e02881cff25ff30c35c7d8ed3ac4}\label{timer_8h_a9827e02881cff25ff30c35c7d8ed3ac4}} 
\index{timer.h@{timer.h}!enable\_system\_task@{enable\_system\_task}}
\index{enable\_system\_task@{enable\_system\_task}!timer.h@{timer.h}}
\doxysubsubsection{\texorpdfstring{enable\_system\_task()}{enable\_system\_task()}}
{\footnotesize\ttfamily \mbox{\hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE}} void enable\+\_\+system\+\_\+task (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Referenced by enable\+\_\+timers().

\mbox{\Hypertarget{timer_8h_a0e736ce66a2bc05cc14b7a282fa52b73}\label{timer_8h_a0e736ce66a2bc05cc14b7a282fa52b73}} 
\index{timer.h@{timer.h}!enable\_timers@{enable\_timers}}
\index{enable\_timers@{enable\_timers}!timer.h@{timer.h}}
\doxysubsubsection{\texorpdfstring{enable\_timers()}{enable\_timers()}}
{\footnotesize\ttfamily \mbox{\hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE}} void enable\+\_\+timers (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Enable timer tasks. 

\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line 251 of file timer.\+c.



Referenced by init\+\_\+timers().

\mbox{\Hypertarget{timer_8h_a7de37276c1b697f865594c7e5f28e961}\label{timer_8h_a7de37276c1b697f865594c7e5f28e961}} 
\index{timer.h@{timer.h}!execute\_timers@{execute\_timers}}
\index{execute\_timers@{execute\_timers}!timer.h@{timer.h}}
\doxysubsubsection{\texorpdfstring{execute\_timers()}{execute\_timers()}}
{\footnotesize\ttfamily void execute\+\_\+timers (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Execute all user timers at S\+Y\+S\+T\+E\+M\+\_\+\+HZ rate. Called by system task. 

\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line 265 of file timer.\+c.

\mbox{\Hypertarget{timer_8h_a4a06b0b10204f441d18c79601b4ee13f}\label{timer_8h_a4a06b0b10204f441d18c79601b4ee13f}} 
\index{timer.h@{timer.h}!init\_timers@{init\_timers}}
\index{init\_timers@{init\_timers}!timer.h@{timer.h}}
\doxysubsubsection{\texorpdfstring{init\_timers()}{init\_timers()}}
{\footnotesize\ttfamily \mbox{\hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE}} void init\+\_\+timers (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Setup all timers tasksi and enable interrupts. 

\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{timer_8c_a182d70e09e9436c9c8a2e81b7597f206}{clock\+\_\+task()}} 

\+: \mbox{\hyperlink{timer__hal_8c}{timer\+\_\+hal.\+c}} for hardware dependent interface 
\end{DoxySeeAlso}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
See \mbox{\hyperlink{time_8c}{time.\+c}}

Definition at line 299 of file timer.\+c.



Referenced by main().

\mbox{\Hypertarget{timer_8h_a49353e09a3623d95083574b87e9aadc5}\label{timer_8h_a49353e09a3623d95083574b87e9aadc5}} 
\index{timer.h@{timer.h}!install\_timers\_isr@{install\_timers\_isr}}
\index{install\_timers\_isr@{install\_timers\_isr}!timer.h@{timer.h}}
\doxysubsubsection{\texorpdfstring{install\_timers\_isr()}{install\_timers\_isr()}}
{\footnotesize\ttfamily \mbox{\hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE}} void install\+\_\+timers\+\_\+isr (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Referenced by init\+\_\+timers().

\mbox{\Hypertarget{timer_8h_a71c3fe0e245c7b08e03a2fe0fbd88844}\label{timer_8h_a71c3fe0e245c7b08e03a2fe0fbd88844}} 
\index{timer.h@{timer.h}!kill\_timer@{kill\_timer}}
\index{kill\_timer@{kill\_timer}!timer.h@{timer.h}}
\doxysubsubsection{\texorpdfstring{kill\_timer()}{kill\_timer()}}
{\footnotesize\ttfamily \mbox{\hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE}} int kill\+\_\+timer (\begin{DoxyParamCaption}\item[{int}]{timer }\end{DoxyParamCaption})}



Delete \char`\"{}\+Kill\char`\"{} one user timer task. 


\begin{DoxyItemize}
\item \char`\"{}kill\char`\"{} is a common Linux term for ending a process.
\end{DoxyItemize}


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em timer} & user timer task index.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
timer on success. 

-\/1 on error. 
\end{DoxyReturn}


Definition at line 99 of file timer.\+c.

\mbox{\Hypertarget{timer_8h_a35f94fb84f1b626d8d1ace062b26c932}\label{timer_8h_a35f94fb84f1b626d8d1ace062b26c932}} 
\index{timer.h@{timer.h}!set\_timers@{set\_timers}}
\index{set\_timers@{set\_timers}!timer.h@{timer.h}}
\doxysubsubsection{\texorpdfstring{set\_timers()}{set\_timers()}}
{\footnotesize\ttfamily \mbox{\hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE}} int set\+\_\+timers (\begin{DoxyParamCaption}\item[{void($\ast$)(void)}]{handler,  }\item[{int}]{timer }\end{DoxyParamCaption})}

\mbox{\Hypertarget{timer_8h_ab92d687bae984bd62c3d741f2ba614ed}\label{timer_8h_ab92d687bae984bd62c3d741f2ba614ed}} 
\index{timer.h@{timer.h}!subtract\_timespec@{subtract\_timespec}}
\index{subtract\_timespec@{subtract\_timespec}!timer.h@{timer.h}}
\doxysubsubsection{\texorpdfstring{subtract\_timespec()}{subtract\_timespec()}}
{\footnotesize\ttfamily \mbox{\hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE}} void subtract\+\_\+timespec (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{time_8h_a062a82a85c72b4a3020130efc37a00cf}{ts\+\_\+t}} $\ast$}]{a,  }\item[{\mbox{\hyperlink{time_8h_a062a82a85c72b4a3020130efc37a00cf}{ts\+\_\+t}} $\ast$}]{b }\end{DoxyParamCaption})}



subtract a-\/= b timespec $\ast$ structures. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em a} & timespec struct. \\
\hline
\mbox{\texttt{ in}}  & {\em b} & timespec struct.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void. 
\end{DoxyReturn}


Definition at line 134 of file timer.\+c.



Referenced by clock\+\_\+elapsed\+\_\+end().

\mbox{\Hypertarget{timer_8h_a41fb2edea84c2f17c7c6ad6ff87baeff}\label{timer_8h_a41fb2edea84c2f17c7c6ad6ff87baeff}} 
\index{timer.h@{timer.h}!ts\_to\_str@{ts\_to\_str}}
\index{ts\_to\_str@{ts\_to\_str}!timer.h@{timer.h}}
\doxysubsubsection{\texorpdfstring{ts\_to\_str()}{ts\_to\_str()}}
{\footnotesize\ttfamily \mbox{\hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE}} char$\ast$ ts\+\_\+to\+\_\+str (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{time_8h_a062a82a85c72b4a3020130efc37a00cf}{ts\+\_\+t}} $\ast$}]{val }\end{DoxyParamCaption})}



Definition at line 154 of file timer.\+c.



Referenced by clock\+\_\+elapsed\+\_\+end(), and display\+\_\+ts().

