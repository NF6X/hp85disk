\hypertarget{md_README_README}{}\section{R\+E\+A\+D\+ME}\label{md_README_README}
\section*{Documentation}

\subsection*{H\+P85 Disk Emulator Copyright (C) 2014-\/2020 Mike Gore}


\begin{DoxyItemize}
\item This Project Emulates A\+M\+I\+GO and S\+S80 disk drives used by the H\+P85 series computers.
\item The images are stored in L\+IF format used by the H\+P85 series computers
\item See \hyperlink{COPYRIGHT_8md}{C\+O\+P\+Y\+R\+I\+G\+HT} for a full copyright notice for the project
\item Documentation created using Doxygen available at
\begin{DoxyItemize}
\item \href{https://rawgit.com/magore/hp85disk/V2/doxygen/html/index.html}{\tt https\+://rawgit.\+com/magore/hp85disk/\+V2/doxygen/html/index.\+html}
\item All emulated disk images are just regular files stored on a standard F\+A\+T32 formatted SD Card
\end{DoxyItemize}
\end{DoxyItemize}

\subsection*{Other resources for disk image manipulation}


\begin{DoxyItemize}
\item \href{http://www.hp9845.net/9845/projects/hpdrive}{\tt H\+P\+Drive project has very useful references an tools for creating HP disk L\+IF images compatible with this project}
\begin{DoxyItemize}
\item Copyright © 2010 A. Kückes
\end{DoxyItemize}
\item \href{http://www.hp9845.net/9845/projects/hpdrive}{\tt H\+P\+Dir project has very useful references and tools for manipulating HP disk L\+IF images compatible with this project}
\begin{DoxyItemize}
\item Copyright © 2010 A. Kückes
\end{DoxyItemize}
\item \href{http://www.hp9845.net/9845/projects/hpdir/#lif_filesystem}{\tt See L\+IF Documentation -\/ part of the H\+P\+Dir project for details}
\begin{DoxyItemize}
\item Copyright © 2010 A. Kückes
\end{DoxyItemize}
\end{DoxyItemize}

\subsection*{Features for the H\+P85 in brief}


\begin{DoxyItemize}
\item N\+O\+TE\+: Later sections go into more detail
\item This project emulates G\+P\+IB drives and H\+P\+GL printer
\begin{DoxyItemize}
\item Each emulated disk image is a L\+IF encoded file on a F\+A\+T32 formatted S\+D\+C\+A\+RD.
\end{DoxyItemize}
\end{DoxyItemize}

\href{sdcard/hpdisk.cfg}{\tt hpdisk.\+cfg} fully defines each disk image on SD Card
\begin{DoxyItemize}
\item Disk images are L\+IF encoded files that are compatible with H\+P85\+A/B and many other computers
\item Missing disk image files are created automatically if
\end{DoxyItemize}

The emulator will automatically create missing L\+IF images defined in hpdisk.\+cfg on the S\+D\+C\+A\+RD
\begin{DoxyItemize}
\item There are disk images for A\+M\+I\+GO and S\+S80 disks
\begin{DoxyItemize}
\item A\+M\+I\+GO drives work with H\+P85A
\item S\+S80 drives work with H\+P85B (or H\+P85A with P\+R\+M-\/85 with modified E\+MS and Electronic disk R\+OM add on board see links)
\begin{DoxyItemize}
\item You may have up to 4 disks with V1 hardware and 8 with V2 hardware
\end{DoxyItemize}
\end{DoxyItemize}
\item There is a Printer emulator that can capture and save printer data to a time stamped file.
\item Built in command processor with lots of useful features
\begin{DoxyItemize}
\item Want to translate between plain text B\+A\+S\+IC files and H\+P85 B\+A\+S\+IC programs? You Can!
\begin{DoxyItemize}
\item See full details later in this document
\end{DoxyItemize}
\item Access the hp85disk command processor via its U\+SB interface and your computer with a serial terminal program
\begin{DoxyItemize}
\item See full details later in this document for serial terminal configuration and finding the device port name
\end{DoxyItemize}
\item Any key press halts the emulator and waits for a user command
\begin{DoxyItemize}
\item After finishing any user commend and options press the Enter/\+Return key to return to disk emulation
\end{DoxyItemize}
\item Type \char`\"{}help\char`\"{} for a list of top level commands
\begin{DoxyItemize}
\item Each help item has its own help
\item Example\+: lif help
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}

L\+IF manipulation tools are built in see later sections for details
\begin{DoxyItemize}
\item Convert Tele\+Disk images into L\+IF
\item The emulator R\+TC can be used for time stamping plot files and files added into lif images
\end{DoxyItemize}





\subsection*{H\+P85 disk emulator V2 circuit board layout design by (C) 2018-\/2020 Jay Hamlin}

\subsection*{V2 board design -\/ github V2 branch targets the new board by Jay Hamlin}

\subsection*{V2 code is now working}


\begin{DoxyItemize}
\item \href{board/V2/releases}{\tt Jay Hamlin designed this board}
\item V2 hardware adds
\begin{DoxyItemize}
\item G\+P\+IB B\+US drivers
\begin{DoxyItemize}
\item 48\+Mma drive required by the G\+P\+IB spec
\end{DoxyItemize}
\item I2C level converters and standard Qwiic Bus interface -\/ 3.\+3V
\begin{DoxyItemize}
\item optional R\+TC chips like the D\+S3231
\item L\+CD displays -\/ work in progress
\end{DoxyItemize}
\item Advanced Hardware Reset circuit
\item Full size SD card interface with Card detect
\end{DoxyItemize}
\end{DoxyItemize}

\subsection*{H\+P85 disk emulator V1 board design (C) 2014-\/2020 Mike Gore}

\subsection*{board/\+V1/\+R\+E\+A\+D\+M\+E.\+md \char`\"{}\+V1 board readme\char`\"{}}


\begin{DoxyItemize}
\item Limited control and B\+US drive power
\begin{DoxyItemize}
\item About half of the 48\+Mma drive required by the G\+P\+IB spec
\item However we can read any pin any time -\/ useful for tracing/debugging
\end{DoxyItemize}
\item R\+TC D\+S1307 for time stamping
\item My original board design without G\+P\+IB buffers
\end{DoxyItemize}









\subsection*{Detailed information about tools and features}

\subsection*{Built in command processor with many tools}

\subsection*{Accessing the hp85disk command interface with a serial terminal}


\begin{DoxyItemize}
\item Used to access the hp85disk command interface
\item Access it via the U\+SB cable attached to your computer using a serial terminal program
\item See section called Configuring the serial communication program
\end{DoxyItemize}





\subsection*{L\+IF tools are built into emulator firmware}


\begin{DoxyItemize}
\item Built in help
\begin{DoxyItemize}
\item lif help
\begin{DoxyItemize}
\item Gives lif commands
\end{DoxyItemize}
\end{DoxyItemize}
\item N\+O\+TE\+: Each disk image is a single file, encoded in L\+IF format,saved on the SD Card
\begin{DoxyItemize}
\item L\+IF format is a common the filesystem on series 80 computers.
\item L\+IF format is also a vary common file interchange format for series 80 computers
\begin{DoxyItemize}
\item L\+IF format includes file date,size permissions and other important meta data
\end{DoxyItemize}
\end{DoxyItemize}
\item You can work with L\+IF images
\begin{DoxyItemize}
\item Directory listing of L\+IF images and S\+SD Card files
\begin{DoxyItemize}
\item If you have an R\+TC the listing can display file and L\+IF volume date and time
\begin{DoxyItemize}
\item Display time stamps if they were set
\begin{DoxyItemize}
\item But only if they were created or added with the built in tools
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}
\item add an ascii file to L\+IF image
\begin{DoxyItemize}
\item This function permits renaming of the translated file
\item They get translated between H\+P85 D\+T\+A8x (type E010) format and plain text files!!!
\end{DoxyItemize}
\item extract A\+S\+C\+II files from L\+IF image
\begin{DoxyItemize}
\item This function permits renaming of the translated file
\item They get translated between H\+P85 D\+T\+A8x (type E010) format and plain text files!!!
\end{DoxyItemize}
\item add binary programs from one L\+IF image to another L\+IF image
\begin{DoxyItemize}
\item This function permits renaming of the translated file
\end{DoxyItemize}
\item extract a single binary file or program into a new L\+IF image
\begin{DoxyItemize}
\item This function permits renaming of the translated file
\item Extracted L\+IF images contain a single file a 256 byte volume header, 256 byte directory followed by a file.
\end{DoxyItemize}
\item delete file in L\+IF image
\item rename file in L\+IF image
\item Create, import, export copy, rename, delete, etc
\begin{DoxyItemize}
\item You can add a plain text file, and translate it, into a L\+IF image with file format D\+T\+A8x (type E010)
\item You can extract and translate D\+T\+A8x (type E010) into a plain text files
\end{DoxyItemize}
\item \hyperlink{md_lif_README}{For more L\+IF documentation}
\item Also see the Other Resources section above
\end{DoxyItemize}
\end{DoxyItemize}

\subsection*{Tele\+Disk to L\+IF conversion tool (updated) -\/ see  \hyperlink{lif_2README_8md}{lif/\+R\+E\+A\+D\+M\+E.\+md} \char`\"{}\+L\+I\+F R\+E\+A\+D\+M\+E.\+md\char`\"{}}


\begin{DoxyItemize}
\item \href{lif/t202lif}{\tt td02lif} \href{lif/85-SS80.TD0}{\tt 85-\/\+S\+S80.\+T\+D0} \href{lif/85-SS80.LIF}{\tt 85-\/\+S\+S80.\+L\+IF}
\item N\+O\+TE\+: There are a stand alone version of the tool that run on Linux -\/ making it work on Windows should be easy
\begin{DoxyItemize}
\item You can extract a D\+T\+A8x (type E010) file from a L\+IF image and translate it into plain text
\end{DoxyItemize}
\item Tele\+Disk to L\+IF image conversion -\/ a very common disk interchange format
\begin{DoxyItemize}
\item See the top of \href{lif/lifutils.c}{\tt lifutils.\+c} for full documentation and examples.
\item create L\+IF image with options
\item N\+O\+TE\+: the emulator automatically creates missing images if defined in hpdisk.\+cfg
\begin{DoxyItemize}
\item Type \char`\"{}lif help\char`\"{} in the emulator for a full list of commands
\item See the top of \href{lif/lifutils.c}{\tt lifutils.\+c} for full documentation and examples.
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}

\subsection*{Disk images and default configuration file for the hp85disk project}


\begin{DoxyItemize}
\item \mbox{[}sdcard folder has premade L\+IF disk images\mbox{]}(sdcard)
\begin{DoxyItemize}
\item \href{sdcard/create_images}{\tt sdcard/create\+\_\+images.\+sh creates the default L\+IF images and creates a matching default configuration files}
\end{DoxyItemize}
\item \href{sdcard/hpdisk.cfg}{\tt sdcard/hpdisk.\+cfg contains the default disk definitions that correspond to the L\+IF images -\/ disk hardware definition}
\begin{DoxyItemize}
\item \href{sdcard/create_images}{\tt sdcard/create\+\_\+images.\+sh creates the default configuration and L\+IF images}
\end{DoxyItemize}
\end{DoxyItemize}

\subsection*{Note about L\+IF images and hpdisk.\+cfg disk definitions}


\begin{DoxyItemize}
\item To create/modify or update L\+IF images see the section on the lif utilities supplied with teh emulator
\item It is important that the L\+IF image size match the disk definitions
\begin{DoxyItemize}
\item The emulator gets the hard limits for disk using \href{sdcard/hpdisk.cfg}{\tt sdcard/hpdisk.\+cfg}
\begin{DoxyItemize}
\item The attached computer requests these disk details from the emulator
\end{DoxyItemize}
\item Then the attached computer reads the disk L\+IF headers for the L\+IF layout information.
\begin{DoxyItemize}
\item So as long as the L\+IF headers and hardware information match things should work fine.
\begin{DoxyItemize}
\item IF the do not match you may get errors when
\begin{DoxyItemize}
\item The L\+IF image is B\+I\+G\+G\+ER then specified disk A\+ND if the computer attempts to read outside the defined limits.
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}
\item The emulator does not look at the L\+IF data when serving and image -\/ that is up to the attached computer.
\begin{DoxyItemize}
\item The computer also gets the disk description from the emulator when it scans for disks
\end{DoxyItemize}
\end{DoxyItemize}





\subsection*{Specific details for Translating between plain text and H\+P85 B\+A\+S\+IC programs using hp85disk}


\begin{DoxyItemize}
\item Requirements
\begin{DoxyItemize}
\item hp85disk emulator
\begin{DoxyItemize}
\item There is a solution documented below in you do not have the hp85emulator
\end{DoxyItemize}
\item A HP utility commonly called \char`\"{}\+G\+E\+T\+S\+A\+V\char`\"{} translates between H\+P85 B\+A\+S\+IC and D\+T\+A8x (type E010 ) files
\begin{DoxyItemize}
\item The utility adds functions \char`\"{}\+G\+E\+T\char`\"{} and \char`\"{}\+S\+A\+V\+E\char`\"{} to your H\+P85 computer
\begin{DoxyItemize}
\item This HP utility was part of a larger software package from HP for the H\+P85
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}

\subsection*{G\+E\+T\+S\+AV is called G\+E\+T\+S\+A\+VE inside my L\+IF disk images}


\begin{DoxyItemize}
\item \href{sdcard/LIF-files/GETSAVE.LIF}{\tt Here is a direct link to G\+E\+T\+S\+A\+V\+E.\+L\+IF encoded as a L\+IF file -\/ sdcard/\+L\+I\+F-\/files/\+G\+E\+T\+S\+A\+V\+E.\+L\+IF}
\item My hp85disk tools built in the firmware can tools translate between D\+T8x (type E010 ) and plain text A\+S\+C\+II files
\begin{DoxyItemize}
\item I provide stand alone L\+IF tools in the lif subfolder of the github project that do the same thing
\end{DoxyItemize}
\item Used together with the H\+P85 these tools can translate between A\+S\+C\+II plain text and H\+P85 B\+A\+S\+IC programs!!!
\begin{DoxyItemize}
\item Specific details steps are documented later in the R\+E\+A\+D\+ME
\end{DoxyItemize}
\end{DoxyItemize}

\subsection*{Translating between plain text and H\+P85 B\+A\+S\+IC programs W\+I\+T\+H\+O\+UT hp85disk}


\begin{DoxyItemize}
\item You must compile and install the stand alone lif tools found under the project \mbox{[}lif\mbox{]}(lif) folder
\item You will also need a way of transfer binary files to/from your H\+P85
\begin{DoxyItemize}
\item You need to copy the G\+E\+T\+S\+A\+VE program to your H\+P85 some how
\end{DoxyItemize}
\item Specific details steps are documented later in the R\+E\+A\+D\+ME
\end{DoxyItemize}

\subsection*{Initial setup of the hp85disk A\+S\+S\+U\+M\+P\+T\+I\+O\+NS and Requirements}


\begin{DoxyItemize}
\item You have the hp85disk emulator attached to your H\+P85 with a G\+P\+IB cable
\begin{DoxyItemize}
\item Strongly advise having no other devices attached just durring setup/testing
\begin{DoxyItemize}
\item This is to avoid other G\+P\+IB bus address conflicts initially -\/ you can update addresses later
\end{DoxyItemize}
\end{DoxyItemize}
\item You have an Ubuntu Linux desktop -\/ used for all my examples
\item All Text and configuration files used with the emulator M\+U\+ST plain text format only (8 bit A\+S\+C\+II)
\begin{DoxyItemize}
\item Please NO Unicode -\/ both file names and file formats!
\end{DoxyItemize}
\item You have a serial terminal program installed -\/ for example minicom
\item You need a F\+A\+T32 format blank SD Card
\begin{DoxyItemize}
\item Copy of the hp85disk, github V2 branch, sdcard folder contents onto the SD Card
\begin{DoxyItemize}
\item Make sure you only copy the contents and N\+OT folder A\+ND contents
\begin{DoxyItemize}
\item The emulator assumes the SD card home directory contains the images and configuration files
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}





\subsection*{F\+U\+LL example step by step translating bewteen plain text files and H\+P86 B\+A\+S\+IC programs}


\begin{DoxyItemize}
\item You can do these examples without out my emulator but requires an extra tools and steps
\end{DoxyItemize}

\subsection*{Importing A\+S\+C\+II and plain text as H\+P85 B\+A\+S\+IC programs}


\begin{DoxyItemize}
\item Lets import a text file with B\+A\+S\+IC statements into one of the emulator images amigo1.\+lif
\item Turn off both the H\+P85 and emulator -\/ if it is attached
\begin{DoxyItemize}
\item Remove the SD Card
\end{DoxyItemize}
\item Create a plain text file with B\+A\+S\+IC statements in it on your desktop -\/ N\+OT on H\+P85
\begin{DoxyItemize}
\item 10 D\+I\+SP \+:H\+E\+L\+LO W\+O\+R\+LD"
\item 20 E\+ND
\end{DoxyItemize}
\end{DoxyItemize}

Save this file as T\+E\+S\+T.\+txt onto the SD Card and exit your editor
\begin{DoxyItemize}
\item Unmount the SD Card \char`\"{}eject it\char`\"{} in windows jargon
\item Reinstall the SD Card in the emulator
\end{DoxyItemize}

Turn on the hp85disk emulator F\+I\+R\+ST -\/ T\+H\+EN turn on the H\+P85
\begin{DoxyItemize}
\item Trivia -\/ the H\+P85 only detects disk at power on or after a R\+E\+S\+ET -\/ therefore the emulator M\+U\+ST be running first
\begin{DoxyItemize}
\item Open your serial program with the documented settings
\end{DoxyItemize}
\end{DoxyItemize}

Lets add T\+E\+S\+T.\+txt from the SD Card into the amigo1.\+lif emulator disk image
\begin{DoxyItemize}
\item Type\+:
\begin{DoxyItemize}
\item lif add amigo1.\+lif T\+E\+ST T\+E\+S\+T.\+txt
\begin{DoxyItemize}
\item T\+E\+ST is the internal L\+IF name, T\+E\+S\+T.\+txt is you source file
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}

On your H\+P85 we will load a binary program called G\+E\+T\+S\+A\+VE
\begin{DoxyItemize}
\item L\+O\+A\+D\+B\+IN \char`\"{}\+G\+E\+T\+S\+A\+V\+E\char`\"{}
\begin{DoxyItemize}
\item Note\+: quotes are always required on H\+P85 B\+A\+S\+IC file names
\item This installs G\+E\+T\+S\+A\+VE into program memory on your H\+P85 until reset or power cycle
\begin{DoxyItemize}
\item G\+E\+T\+S\+A\+VE adds new functions \char`\"{}\+G\+E\+T\char`\"{} and \char`\"{}\+S\+A\+V\+E\char`\"{} to your H\+P85 computer
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}

On the H\+P85 type
\begin{DoxyItemize}
\item G\+ET \char`\"{}\+T\+E\+S\+T\char`\"{}
\begin{DoxyItemize}
\item Wait until you see D\+O\+NE
\begin{DoxyItemize}
\item On B\+IG programs G\+ET can take a very long time
\begin{DoxyItemize}
\item The slow speed is a G\+E\+T\+S\+A\+VE limitation and not due to my emulator speed
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}
\item Lets save it as a normal H\+P85 basic program
\begin{DoxyItemize}
\item S\+T\+O\+RE \char`\"{}\+T\+E\+S\+T\+B\char`\"{}
\begin{DoxyItemize}
\item Saving in this format makes a totally H\+U\+GE difference in speed for B\+IG programs
\item In the future you can use L\+O\+AD \char`\"{}\+T\+E\+S\+T\+B\char`\"{}
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}

\subsection*{Exporting H\+P85 B\+A\+S\+IC programs to A\+S\+C\+II plain text}


\begin{DoxyItemize}
\item You must have the hp85disk emulator power ON and atteched to you H\+P85
\begin{DoxyItemize}
\item Turn on the H\+P85
\end{DoxyItemize}
\item On your H\+P85 we will load a binary program called G\+E\+T\+S\+A\+VE
\begin{DoxyItemize}
\item L\+O\+A\+D\+B\+IN \char`\"{}\+G\+E\+T\+S\+A\+V\+E\char`\"{}
\begin{DoxyItemize}
\item Note\+: quotes are always required on H\+P85 B\+A\+S\+IC file names
\item This installs G\+E\+T\+S\+A\+VE into program memory on your H\+P85 until reset or power cycle
\begin{DoxyItemize}
\item G\+E\+T\+S\+A\+VE adds new functions \char`\"{}\+G\+E\+T\char`\"{} and \char`\"{}\+S\+A\+V\+E\char`\"{} to your H\+P85 computer
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}
\item Lets load a normal H\+P85 B\+A\+S\+IC program
\begin{DoxyItemize}
\item L\+O\+AD \char`\"{}\+R\+W\+T\+E\+S\+T\+B\char`\"{}
\end{DoxyItemize}
\item First stage conversions
\begin{DoxyItemize}
\item S\+A\+VE \char`\"{}\+R\+W\+T\+E\+S\+T\+A\char`\"{}
\begin{DoxyItemize}
\item Wait until you see D\+O\+NE
\begin{DoxyItemize}
\item On B\+IG programs S\+A\+VE can take a very long time
\begin{DoxyItemize}
\item The slow speed is a G\+E\+T\+S\+A\+VE limitation and not due to my emulator speed
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}
\item Lets export and convert \char`\"{}\+R\+W\+T\+E\+S\+T\+A\char`\"{} to plain text using the emulator command prompts
\begin{DoxyItemize}
\item Type\+:
\begin{DoxyItemize}
\item lif extract amigo1.\+lif R\+W\+T\+E\+S\+TA R\+W\+T\+E\+S\+T.\+txt
\begin{DoxyItemize}
\item T\+E\+ST is the internal L\+IF name, T\+E\+S\+T.\+txt is you source file
\end{DoxyItemize}
\item This saves the file R\+W\+T\+E\+S\+T.\+txt to the SD Card and plain text A\+S\+C\+II
\end{DoxyItemize}
\item Later you can copy the R\+W\+T\+E\+S\+T.\+txt file to your desktop
\begin{DoxyItemize}
\item Turn off the H\+P85 and the emulator
\item Remove the SD Card
\item Attache to your desktop and copy it off
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}





\subsection*{Important notes about SD Card requirments for the emulator}


\begin{DoxyItemize}
\item Must be formatted F\+A\+T32
\item The H\+P85 is sensitive to long read/write delays that some cards can cause problems with
\begin{DoxyItemize}
\item You want SD Cards with fast random writes
\item I have found that the San\+Disk Extreme and San\+Disk Extreme Pro cards work best.
\begin{DoxyItemize}
\item There is a huge difference in various cards on the market.
\item Look for the cards with the best 4K random write times
\item A good source of benchmark information is looking for recent Raspberry Pi SD card benchmarks because they use SD Cards
\begin{DoxyItemize}
\item Specifically look at best 4k random write -\/ faster is better.
\end{DoxyItemize}
\end{DoxyItemize}
\item Why slow SD Cards are a problem?
\begin{DoxyItemize}
\item Summary\+: When the hp85disk emulator writes to the SD Card the Card internally must modify much much larger internal flash page -\/ this can take too long
\item Details\+:
\begin{DoxyItemize}
\item First step\+: hp85disk emulator writes to the SD Card
\item Internally the SD card finds an internal page where our data will go
\item Next the SD Card reads the page into internal R\+AM (recall it can be much over a megabyte)
\item Next the SD Card modifies the internal R\+AM with our data
\item Next the SD Card erases the page
\item Lastly the page is written to the SD Card and this takes time
\begin{DoxyItemize}
\item Trivia -\/ SD cards must to erase a page before updating because of the flash memory cell design
\end{DoxyItemize}
\end{DoxyItemize}
\item Why is this delay critical to the hp85disk emulator?
\begin{DoxyItemize}
\item Too long of a delay can cause a timeout when writing to disk
\item SD cards internal hardware is mostly optimized for sequential writing
\begin{DoxyItemize}
\item Their buffers and timing are designed primarily for writing consecutive blocks one after another
\begin{DoxyItemize}
\item When writing in consecutive order they can queue up many requests and combine them into one operation -\/ a huge savings in time -\/ done all in hardware
\item Writing to blocks in random locations break this optimization very badly
\begin{DoxyItemize}
\item Therefore some SD Cards can take so long the H\+P85 can timeout
\end{DoxyItemize}
\end{DoxyItemize}
\item The hp85disk emulator does not have enough memory to work around this issue
\begin{DoxyItemize}
\item If we could load the entire disk image into ram A\+ND we had more for many write buffers
\begin{DoxyItemize}
\item Then we could optimize the SD Card writing process to avoid the problems
\end{DoxyItemize}
\item The A\+VR we use has only 20K of ram for everything
\begin{DoxyItemize}
\item Perhaps some day we will port this project to a Raspberry PI with add on hardware
\begin{DoxyItemize}
\item The protocol is already solved for the emulator so this would not be that hard -\/ only a battle with the time I have free
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}





\subsection*{Requirements for building the hp85 disk project}


\begin{DoxyItemize}
\item P\+L\+E\+A\+SE R\+E\+A\+D! All steps below are intended O\+N\+LY R\+E\+Q\+U\+I\+R\+ED IF Y\+OU P\+L\+AN TO M\+A\+KE C\+O\+DE C\+H\+A\+N\+G\+ES
\item \mbox{[}I have provided compiled files under the folder release\mbox{]}(release)
\begin{DoxyItemize}
\item You just need to flash the files
\end{DoxyItemize}
\end{DoxyItemize}

\subsection*{Building Doxygen documentation for the project -\/ optional}


\begin{DoxyItemize}
\item {\itshape aptitude install --with-\/recommends doxygen doxygen-\/doc doxygen-\/gui doxygen-\/latex}
\item {\itshape If you omit this you will have to update the \mbox{[}Makefile\mbox{]}(Makefile) to omit the steps}
\end{DoxyItemize}





\subsection*{Tested Operating systems}

\subsubsection*{Linux}


\begin{DoxyItemize}
\item I used Ubuntu 18.\+04,16.\+04\+L\+TS and 14.\+04\+L\+TS when developing the code
\begin{DoxyItemize}
\item N\+O\+TE\+: It should be possible to setup the same build with Windows
\begin{DoxyItemize}
\item There are a number of build environments for Windows that will work
\begin{DoxyItemize}
\item I hope to provide instructions soon
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}
\item I have instructions for flashing the firmware below \subsubsection*{Windows}
\end{DoxyItemize}


\begin{DoxyItemize}
\item I have instructions for flashing the firmware below
\end{DoxyItemize}





\subsection*{Clone hp85disk github project to your computer with a Web Browser}


\begin{DoxyItemize}
\item Open a web browser to \href{https://github.com/magore/hp85disk}{\tt https\+://github.\+com/magore/hp85disk}
\begin{DoxyItemize}
\item Click on Branch and pick V2 in the drop down
\begin{DoxyItemize}
\item C\+Lick on the Download Button
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}

\subsection*{Clone hp85disk my github project to your computer using git}

\subsubsection*{Linux install git}


\begin{DoxyItemize}
\item Open a terminal window
\item Install git
\begin{DoxyItemize}
\item {\itshape apt-\/get install git} \subsubsection*{Windows install git}
\end{DoxyItemize}
\item Install git
\begin{DoxyItemize}
\item \href{https://git-scm.com/download/win}{\tt https\+://git-\/scm.\+com/download/win}
\end{DoxyItemize}
\item Open a Power\+Shell Window \subsubsection*{Clone git}
\end{DoxyItemize}


\begin{DoxyItemize}
\item {\itshape git clone --branch V2 \href{https://github.com/magore/hp85disk}{\tt https\+://github.\+com/magore/hp85disk}}
\item {\itshape cd hp85disk}
\end{DoxyItemize}

\subsection*{Updating hp85disk github project at any time using git}

\subsubsection*{Linux}


\begin{DoxyItemize}
\item Open a terminal window
\item cd hp85disk
\item git pull \subsubsection*{Windows}
\end{DoxyItemize}


\begin{DoxyItemize}
\item Open a Power\+Shell window
\item cd hp85disk
\item git pull
\end{DoxyItemize}





\subsection*{Connecting a computer to the hp85disk emulator -\/ finding the emulator serial port}


\begin{DoxyItemize}
\item Follow the instructions of firmware updating dependencies for installing Python and libraries
\item Make sure you have a miniusb cable handy
\item Make sure the emulator is not connected to your P\+C/\+Mac \subsubsection*{Linux}
\end{DoxyItemize}


\begin{DoxyItemize}
\item Open a terminal window
\begin{DoxyItemize}
\item Run the following command
\begin{DoxyItemize}
\item {\itshape python3 uploader/listports.\+py} \subsubsection*{Windows}
\end{DoxyItemize}
\end{DoxyItemize}
\item Open a Power\+Shell window
\begin{DoxyItemize}
\item Run the following command $\ast$python3 uploader\textbackslash{}listports.\+py$\ast$ \subsubsection*{Connect the emulator}
\end{DoxyItemize}
\item Attach the miniusb cable to your computer and rerun the listports.\+py
\item The new port that appears is the port you will connect with for interacting with the emulator and updating the firmware
\end{DoxyItemize}





\subsection*{Firmware updating dependencies}

\subsubsection*{Linux}


\begin{DoxyItemize}
\item {\itshape apt-\/get install python3}
\begin{DoxyItemize}
\item Most modern Linux systems have Python3
\end{DoxyItemize}
\item {\itshape pip3 install py\+Serial} \subsubsection*{Windows}
\end{DoxyItemize}


\begin{DoxyItemize}
\item Windows -\/ Install Python 3.\+7 from Windows App Store
\begin{DoxyItemize}
\item Open Power\+Sehll window -\/ always use Power\+Shell under Windows for running Python3
\end{DoxyItemize}
\item pip3 install py\+Serial
\end{DoxyItemize}





\subsubsection*{Flashing the firmware with built in bootloader}


\begin{DoxyItemize}
\item The github hp85disk V2 branch project includes disk images and precompiled firmeare
\begin{DoxyItemize}
\item Compiled Firmware \href{release/build}{\tt release/build}
\item Disk Images \href{release/sdcard}{\tt release/sdcard} \paragraph*{Linux Example}
\end{DoxyItemize}
\item python3 uploader/flasher.\+py 1152000 /dev/tty\+U\+S\+B0 release/build/gpib.\+hex \paragraph*{Windows Example}
\end{DoxyItemize}


\begin{DoxyItemize}
\item python3 uploader/flasher.\+py 1152000 C\+O\+M3 release/build/gpib.\+hex
\begin{DoxyItemize}
\item This is the port you discovered in the Connecting step above
\item This program flashes the release version of the firmware \paragraph*{Mac Example}
\end{DoxyItemize}


\begin{DoxyItemize}
\item python3 flasher.\+py /dev/tty.usbserial-\/\+A\+B0\+K\+M\+Q\+CH gpib.\+hex
\end{DoxyItemize}
\end{DoxyItemize}

\subsubsection*{Flash failure during flashing}


\begin{DoxyItemize}
\item Type in the flashing command -\/ see last section, {\itshape without} pressing Enter
\begin{DoxyItemize}
\item Hold down R\+E\+S\+ET on the hp85disk board -\/ release R\+E\+S\+ET and press Enter quickly
\begin{DoxyItemize}
\item You have a short Window after releasing R\+E\+S\+ET to Press Enter
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}





\subsection*{Configuring the serial communication program}


\begin{DoxyItemize}
\item Follow the instructions of firmware updating dependencies for installing Python and libraries
\item Follow the section on Connecting a computer to the hp85disk emulator to discover the serila port to use
\item With the hp85disk attached via U\+SB cable to your desktop -\/ replace the port name with the correct one
\begin{DoxyItemize}
\item python3 -\/m serial.\+tools.\+miniterm --parity N --rts 0 --dtr 0 /dev/tty\+U\+S\+B0 1152000
\begin{DoxyItemize}
\item Note\+: serial.\+tools.\+miniterm does N\+OT work on Windows W\+SL Ubuntu -\/ yet so use the term script
\begin{DoxyItemize}
\item ./term 115200 /dev/tty\+U\+S\+B0
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}
\item Open you favorite serial terminal emulator
\begin{DoxyItemize}
\item Set B\+A\+UD rate to 115200
\item Set 8 Data bits NO parity
\item Set flow control to N\+O\+NE
\item Set the P\+O\+RT to the device name of the emulator U\+SB port
\end{DoxyItemize}
\end{DoxyItemize}





\subsection*{Compiling}

\subsubsection*{Installation Ubuntu and Windows software for building hp85disk and building related applications}

Note\+: If you only plan on updating firmware and would rather not compile skip to Firmware updating below

\paragraph*{Windows 10 install Ubuntu Subsystem for Linux and Ubuntu App}

Note\+: I recommend this as the easiest way to compile and build hp85disk under Windows
\begin{DoxyItemize}
\item Following these steps take less then 10 minutes incuding the software and hp85disk download
\item Install W\+SL -\/ Windows S\+Ubsystem for Linux
\begin{DoxyItemize}
\item See\+: \href{https://docs.microsoft.com/en-us/windows/wsl/install-win10}{\tt https\+://docs.\+microsoft.\+com/en-\/us/windows/wsl/install-\/win10}
\item See\+: \href{https://wiki.ubuntu.com/WSL}{\tt https\+://wiki.\+ubuntu.\+com/\+W\+SL}
\item Using the G\+UI for enabling Windows features
\begin{DoxyItemize}
\item Open the Start Menu and search Turn Windows features on or off
\item Select Windows Subsystem for Linux
\item Click OK
\item Restart your computer when prompted
\end{DoxyItemize}
\item Open Windows Store
\begin{DoxyItemize}
\item Install Ubuntu App
\end{DoxyItemize}
\item Search Ubuntu
\begin{DoxyItemize}
\item Launch Ubuntu App
\begin{DoxyItemize}
\item This will take a few minutes the first time depending on your network speed
\item It will ask for a userid and password for a new user
\end{DoxyItemize}
\item Right Click on the very top of the Ubuntu App window
\begin{DoxyItemize}
\item Click on Properties -\/$>$ Open the Options Tab
\begin{DoxyItemize}
\item Enable Ctrl+\+Shift+\+C/V Copy Paste
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}

\paragraph*{Ubuntu 18.\+04 L\+TS or later}

Note\+: For Windows install the W\+SL and Ubuntu App -\/ see previous section
\begin{DoxyItemize}
\item If you are installing Ubuntu on a new machine
\begin{DoxyItemize}
\item See \href{https://ubuntu.com/download/desktop}{\tt https\+://ubuntu.\+com/download/desktop}
\end{DoxyItemize}
\end{DoxyItemize}

\subsubsection*{Software install and download for Ubuntu and Windows}

Note\+: For Windows install the W\+SL and Ubuntu App -\/ see previous section
\begin{DoxyItemize}
\item Open a terminal Window
\begin{DoxyItemize}
\item Ubuntu App under Windows
\item {\itshape sudo bash}
\end{DoxyItemize}
\item You can download a script to do this
\begin{DoxyItemize}
\item \href{https://raw.githubusercontent.com/magore/hp85disk/V2/install_hp85disk.sh}{\tt https\+://raw.\+githubusercontent.\+com/magore/hp85disk/\+V2/install\+\_\+hp85disk.\+sh}
\end{DoxyItemize}
\item {\itshape sudo bash}
\item {\itshape bash ./install\+\_\+hp85disk.sh}
\end{DoxyItemize}

\subsubsection*{Find the serial port device name for the hp85disk emulator}

Note\+: You need to find the serial port name when hp85disk emulator is attached to your computer.
\begin{DoxyItemize}
\item Make sure the emulator is not connected to your P\+C/\+Mac
\begin{DoxyItemize}
\item Open a terminal window on Ubuntu
\begin{DoxyItemize}
\item Ubuntu App under Windows
\end{DoxyItemize}
\item Run
\begin{DoxyItemize}
\item {\itshape python3 uploader/listports.\+py}
\end{DoxyItemize}
\end{DoxyItemize}
\item Connect the hp85disk emulator with the miniusb to your computer
\begin{DoxyItemize}
\item Run
\begin{DoxyItemize}
\item {\itshape python3 uploader/listports.\+py}
\end{DoxyItemize}
\end{DoxyItemize}
\item The new port that appears in the last step is the Emulator Port name
\item Edit the hp85disk/\+Makefile and change the P\+O\+RT name near the start of the file to this name
\end{DoxyItemize}

\subsubsection*{Compile}

Note\+: Change into the hp85disk folder created by the install.\+sh script
\begin{DoxyItemize}
\item {\itshape make clean}
\item {\itshape make}
\item {\itshape make install}
\begin{DoxyItemize}
\item Installs lif and mkcfg tools
\end{DoxyItemize}
\end{DoxyItemize}

\subsection*{Compile and Flashing -\/ assumes you have compiletools installed}


\begin{DoxyItemize}
\item Attached the emulator miniusb port to your computer
\begin{DoxyItemize}
\item Make sure you have installed the software in the previous steps
\end{DoxyItemize}
\end{DoxyItemize}

\subsubsection*{Flash with Internal optiboot}


\begin{DoxyItemize}
\item {\itshape make clean}
\item {\itshape make}
\item {\itshape make install}
\item {\itshape make flash}
\begin{DoxyItemize}
\item This will use a python program called flasher.\+py to upload the firmware
\end{DoxyItemize}
\item Note\+: If You want to install the release firmware that I verified and uploaded to github
\begin{DoxyItemize}
\item {\itshape make flash-\/release}
\end{DoxyItemize}
\end{DoxyItemize}

\subsubsection*{Flash with external programmer}

\subsection*{Flashing the firmware using an extrenal programmer}


\begin{DoxyItemize}
\item You will need and A\+VR programmer supported by avrdude (part of avrtools)
\begin{DoxyItemize}
\item See Makefile\mbox{]}(Makefile) keywords A\+V\+R\+D\+U\+D\+E\+\_\+\+I\+SP and A\+V\+R\+D\+U\+D\+E\+\_\+\+P\+O\+RT in next Makefile section
\end{DoxyItemize}
\item {\itshape make clean}
\item {\itshape make}
\item {\itshape make install}
\item {\itshape make flash-\/isp-\/release} \# do not press Enter yet!
\begin{DoxyItemize}
\item OR
\end{DoxyItemize}
\item {\itshape make flash-\/isp} \# do not press Enter yet!
\begin{DoxyItemize}
\item This will use {\itshape avrdude} and your I\+SP (In System Programmer) to flash the firmware
\end{DoxyItemize}
\item N\+O\+TE\+: When finished {\itshape make} will call a shell script to launch a terminal program for debugging
\begin{DoxyItemize}
\item Ctrl+\mbox{]} will exit the terminal program
\end{DoxyItemize}
\end{DoxyItemize}





\subsection*{Makefile configuration for hp85disk emulator -\/ options for original V1 and new V2 boards}

\subsection*{Makefile Configuration options for building}


\begin{DoxyItemize}
\item Update B\+A\+UD, P\+O\+RT, B\+O\+A\+RD, P\+P\+R\+\_\+\+R\+E\+V\+E\+R\+S\+E\+\_\+\+B\+I\+TS and R\+T\+C\+\_\+\+S\+U\+P\+P\+O\+RT for your platform
\begin{DoxyItemize}
\item A\+V\+R\+D\+U\+D\+E\+\_\+\+D\+E\+V\+I\+CE is the name of A\+VR as it is known by avrdude
\begin{DoxyItemize}
\item m1284
\end{DoxyItemize}
\item A\+V\+R\+D\+U\+D\+E\+\_\+\+S\+P\+E\+ED is the programming clock speed used by avrdude
\begin{DoxyItemize}
\item 5
\begin{DoxyItemize}
\item My device works with 0.\+25 but 5 is safe
\end{DoxyItemize}
\end{DoxyItemize}
\item A\+V\+R\+D\+U\+D\+E\+\_\+\+I\+SP
\begin{DoxyItemize}
\item You will need and A\+VR programmer supported by avrdude (part of avrtools)
\begin{DoxyItemize}
\item You can list all of the supported programmers using the command {\itshape avrdude -\/c list}
\begin{DoxyItemize}
\item Note\+: I\+SP = In System Programmer
\item avrdude device programmer name as known by avrdude
\begin{DoxyItemize}
\item avrdude -\/c list \# for a list of devices
\end{DoxyItemize}
\item See Makefile\mbox{]}(Makefile) keywords A\+V\+R\+D\+U\+D\+E\+\_\+\+I\+SP and A\+V\+R\+D\+U\+D\+E\+\_\+\+P\+O\+RT
\begin{DoxyItemize}
\item This is the I\+SP programmer and port names
\item F\+YI\+: I am using atmelice\+\_\+isp \mbox{[}Makefile\mbox{]}(Makefile) as the default
\end{DoxyItemize}
\item The cheapest I\+SP is the Arduino as I\+SP
\begin{DoxyItemize}
\item A\+V\+R\+D\+U\+D\+E\+\_\+\+I\+SP = {\itshape avrisp}
\begin{DoxyItemize}
\item There are many sources that sell this low cost programmer -\/ Amazon has them for about \$10
\item F\+YI\+: Arduino includes the source in the Example Programs if you want to make one
\end{DoxyItemize}
\end{DoxyItemize}
\item Note\+: J\+T\+AG is disabled for this project so you can not use a J\+T\+AG programmer
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}
\item A\+V\+R\+D\+U\+DE I\+SP P\+O\+RT
\begin{DoxyItemize}
\item Same as P\+O\+RT name, below, for avrisp and arduino
\item usb for atmelice\+\_\+isp
\end{DoxyItemize}
\item P\+O\+RT is the emulator serial P\+O\+RT name as detected by your operating system
\begin{DoxyItemize}
\item /dev/tty\+U\+S\+B0 on my system
\end{DoxyItemize}
\item B\+A\+UD is the emulator serial baud rate
\begin{DoxyItemize}
\item 115200 = a safe default that most systems can manage
\begin{DoxyItemize}
\item N\+O\+TE\+: My development environment works with 500000 baud but I use 115200 for distribution and this project
\item N\+O\+TE\+: Faster is better when enabling more debug messages
\begin{DoxyItemize}
\item Too many messages can cause the H\+P85 to timeout waiting for IO
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}
\item D\+E\+V\+I\+CE
\begin{DoxyItemize}
\item Target A\+VR device used by G\+CC for this project
\item atmega1284p
\begin{DoxyItemize}
\item DO N\+OT C\+H\+A\+N\+GE T\+H\+IS -\/ there are too main dependencies
\end{DoxyItemize}
\end{DoxyItemize}
\item B\+O\+A\+RD is the version of the hardware
\begin{DoxyItemize}
\item 1 = V1 hardware without G\+P\+IB B\+US transceivers
\item 2 = V2 hardware with G\+P\+IB B\+US transceivers
\end{DoxyItemize}
\item P\+P\+R\+\_\+\+R\+E\+V\+E\+R\+S\+E\+\_\+\+B\+I\+TS
\begin{DoxyItemize}
\item Note\+: This is now automatically set by board revision so this is not normally needed
\item 0 = V1 hardware without the G\+P\+IB buffers
\item 1 = V2 hardware with G\+P\+IB buffers
\end{DoxyItemize}
\item R\+T\+C\+\_\+\+S\+U\+P\+P\+O\+RT for Real Time Clock
\begin{DoxyItemize}
\item 1 = R\+TC support for a D\+S1307 command compatible R\+TC chip -\/ the D\+S3231 is the 3.\+3V version
\begin{DoxyItemize}
\item This will time stamp plot files and add time stamps inside lif images
\end{DoxyItemize}
\end{DoxyItemize}
\item F\+\_\+\+C\+PU
\begin{DoxyItemize}
\item C\+PU frequency -\/ the firmware and V1/\+V2 boards use this so do not change it
\begin{DoxyItemize}
\item 20000000 


\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}

\subsection*{make help documentation}


\begin{DoxyItemize}
\item make help
\begin{DoxyItemize}
\item List the common commands to compile/install/flash the code $<$verbatim$>$ Building Commands make install -\/ builds and installs all command line utilities make sdcard -\/ builds all sdcard images and creates default hpdisk.\+cfg and amigo.\+cfg files make release -\/ builds all code and copies files to the release folder make clean -\/ cleans all generated files make -\/ builds all code

Programming using an 6 wire I\+SP -\/ installs optiboot make install\+\_\+optiboot -\/ install optiboot boot loaded using an I\+SP make flash-\/isp -\/ build and flash the code using an I\+SP make flash-\/isp-\/release -\/ flash the release code using an I\+SP make verify-\/isp -\/ verify code using an I\+SP make verify-\/isp-\/release-\/ verify release code using an I\+SP

Programming using the built in optiboot programmer make flash -\/ build and flash the code using built in optiboot programmer make flash-\/release -\/ flash the release code using built in optiboot programmer

Programming using an 6 wire I\+SP -\/ W\+I\+T\+H\+O\+UT installing optiboot I\+M\+P\+O\+R\+T\+A\+NT -\/ you will not be able to use non isp flashing modes later on Makes booting and flashing process slightly faster make flash-\/isp-\/noboot -\/ build and flash the code using an I\+SP make flash-\/isp-\/noboot-\/release -\/ flash the release code using an I\+SP $<$/verbatim$>$
\end{DoxyItemize}
\end{DoxyItemize}

\subsection*{Example building with Makefile overrides}


\begin{DoxyItemize}
\item make flash-\/isp A\+V\+R\+D\+U\+D\+E\+\_\+\+I\+SP=avrisp A\+V\+R\+D\+U\+D\+E\+\_\+\+P\+O\+RT=/dev/tty\+U\+S\+B0 P\+O\+RT=/dev/tty\+U\+S\+B0
\item make flash-\/isp A\+V\+R\+D\+U\+D\+E\+\_\+\+I\+SP=avrisp A\+V\+R\+D\+U\+D\+E\+\_\+\+P\+O\+RT=/dev/tty\+S3 P\+O\+RT=/dev/tty\+S3
\end{DoxyItemize}





\subsection*{Notes concerning using the H\+P85 with the hp85disk emulator}


\begin{DoxyItemize}
\item Here we focus just on H\+P85 B\+A\+S\+IC command
\item See \href{hpdisk/hpdisk.cfg}{\tt hpdisk.\+cfg} for configuration settings and setting and documentation.
\begin{DoxyItemize}
\item Printer capture is configured currently for my H\+P54645D scope
\begin{DoxyItemize}
\item The following example works for an H\+P85 attached to the emulator via G\+P\+IB bus.
\begin{DoxyItemize}
\item P\+R\+I\+N\+T\+ER IS 705
\item P\+L\+I\+ST
\end{DoxyItemize}
\end{DoxyItemize}
\item Disk images in \mbox{[}sdcard\mbox{]}(sdcard) folder drive and configuration settings
\begin{DoxyItemize}
\item First Amigo 9121D disk at 710 for my H\+P85A (with 85A R\+OM\textquotesingle{}s)
\item Second Amigo 9121D disk at 710 for my H\+P85A (with 85A R\+OM\textquotesingle{}s)
\item First S\+S80 H\+P9134L disk at 720 for my H\+P85B (with 85B R\+OM\textquotesingle{}s)
\item Second S\+S80 H\+P9134L disk at 730 for my H\+P85B (with 85B R\+OM\textquotesingle{}s)
\end{DoxyItemize}
\item How to use the examples with your H\+P85
\begin{DoxyItemize}
\item Copy the files inside the project \mbox{[}sdcard\mbox{]}(sdcard) folder to the home folder of a fat32 formatted drive
\begin{DoxyItemize}
\item All image files and configuration must be in the home folder only -\/ not in a subdirectory.
\item You may store other user files in sub folders of your choosing.
\end{DoxyItemize}
\item Verify \href{sdcard/hpdisk.cfg}{\tt hpdisk.\+cfg} configuration settings for your computer
\item Insert card into emulator
\item Attract G\+P\+IB cables
\item Power on emulator
\item Power on your computer last!
\begin{DoxyItemize}
\item The emulator M\+U\+ST be running and attached to your computer first!
\item The H\+P85 O\+N\+LY checks for drives at P\+O\+W\+ER UP or R\+E\+S\+ET
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}

\subsection*{Testing examples on your H\+P85}


\begin{DoxyItemize}
\item Testing was done with an H\+P85A (with extended E\+MS R\+OM)
\begin{DoxyItemize}
\item Using the Hewlett-\/\+Packard Series 80 -\/ P\+R\+M-\/85 by Bill Kotaska
\item This makes my H\+P85A look like and H\+P85B
\begin{DoxyItemize}
\item I can also use the normal mass storage R\+OM if I limit to A\+M\+I\+GO drives.
\item \href{http://vintagecomputers.sdfeu.org/hp85/prm85.htm}{\tt http\+://vintagecomputers.\+sdfeu.\+org/hp85/prm85.\+htm}
\begin{DoxyItemize}
\item old site \href{http://vintagecomputers.site90.net/hp85/prm85.htm}{\tt http\+://vintagecomputers.\+site90.\+net/hp85/prm85.\+htm}
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}

\subsection*{Initializing a disk images}

\subsection*{H\+P85B only feature or H\+P84A with P\+R\+M-\/85 board}


\begin{DoxyItemize}
\item The H\+P85B and E\+MS R\+OM has extended I\+N\+I\+T\+I\+A\+L\+I\+ZE attributes
\item I\+M\+P\+O\+R\+T\+A\+NT N\+O\+TE\+: this is already done for you with the hp85disk emulator
\begin{DoxyItemize}
\item If you do it it this erases everything on the emulated image
\item You can however backup up copy existing L\+IF images to another folder on the SD Card for safe keeping
\begin{DoxyItemize}
\item There is a built in copy command for this 
\begin{DoxyPre}
  INITIALIZE "AMIGO1",":D700",14,1
  INITIALIZE "AMIGO2",":D710",14,1
  INITIALIZE "SS80-1",":D720",128,1
  INITIALIZE "SS80-2",":D730",128,1
\end{DoxyPre}

\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}

\subsection*{H\+P85A and H\+P85B feature}


\begin{DoxyItemize}
\item Note lines with a "\#\textquotesingle{} as the first non blank character are just my comments
\begin{DoxyItemize}
\item A bad habit from writing too many bash scripts
\end{DoxyItemize}
\end{DoxyItemize}


\begin{DoxyPre}
  \# Listing files:
  \# first AMIGO
  CAT ":D700"
  \# second AMIGO
  CAT ":D710"
  \# first SS80
  CAT ":D720"
  \# second SS80
  CAT ":D730"\end{DoxyPre}



\begin{DoxyPre}  \# Loading file from first SS80:
  LOAD "HELLO:D720"
  \# Copying file between devices: fist AMIGO to second AMIGO
  COPY "HELLO:D700" TO "HELLO:D710"
  \# Copying ALL files between devices: FIRST SS80 to Second SS80
  COPY ":D720" TO ":D730"
  \# LOAD the GETSAVE binary program very short example
  LOADBIN "GETSAVE"
  \# This program stays in memory until the HP85 is reset
  \# See all of the detailed notes earlier in the README 
\end{DoxyPre}

\begin{DoxyItemize}
\item Now on the emulator itself type
\item lif add amigo1.\+lif M\+Y\+T\+E\+ST test.\+txt
\begin{DoxyItemize}
\item See all of the detailed notes earlier in the R\+E\+A\+D\+ME
\end{DoxyItemize}
\item We just added the T\+E\+S\+T.\+txt file to the image file called amigo1.\+lif and named it M\+Y\+T\+E\+ST 
\begin{DoxyPre}
  \# Lets assume amigo1.lif is defined as device :D700 in the hpdisk.cfg file
  GET "HELLO:D700"
  \# Save as a HP85 BASIC file in DTA8x (type E010) file
  PUT "HELLOA:D700"
  \# Store it as as HP85 BASIC BAS8x (type E020) file
  STORE "HELLO2B:D700"
  \# Now in the future we can LOAD it 
  LOAD "HELLO2B:D700"
  \# How to Delete the file 
  PURGE "HELLO2B:D700"
  \# List the BASIC file
  LIST
  \# Clear memory
  SCRATCH
\end{DoxyPre}

\end{DoxyItemize}





\subsection*{Understanding Drive G\+P\+IB B\+US addressing and Parallel Poll Response (P\+PR) -\/ H\+P85A vs. H\+P85B}


\begin{DoxyItemize}
\item While G\+P\+IB devices can have address between 0 and 31 you can have no more than 8 disk drives.
\item A\+LL disk drives are required to respond to a P\+PR query by the (H\+P85) controller.
\begin{DoxyItemize}
\item P\+PR query is done when the controller in charge (H\+P85) pulls A\+TN and E\+OI low.
\item P\+PR response occurs when a disk drive pulls one G\+P\+IB bus data line low in response.
\begin{DoxyItemize}
\item You can only have 8 of these because there are only 8 G\+P\+IB data bus lines.
\begin{DoxyItemize}
\item G\+P\+IB data bus bits are numbered from 1 to 8
\item P\+PR response bits are {\itshape assigned in reverse order} starting from 8, bit 8 for device 0
\begin{DoxyItemize}
\item This is a G\+P\+IB specification -\/ not my idea.
\end{DoxyItemize}
\item The H\+P85 uses these assumptions
\begin{DoxyItemize}
\item P\+PR bits are assigned in reverse order from device numbers.
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}
\item I\+M\+P\+O\+R\+T\+A\+N\+T! On power up the H\+P85 issues a P\+PR query for disk drives
\begin{DoxyItemize}
\item The emulator must be running B\+E\+F\+O\+RE this happens.
\item P\+PR query = both A\+TN and E\+OI being pulled low by the computer.
\item P\+PR response is when each drive pulls a single G\+P\+IB data bus bit L\+OW -\/ while A\+TN and E\+OI are low.
\begin{DoxyItemize}
\item {\itshape O\+N\+LY} those that are detected in this way are then next scanned
\end{DoxyItemize}
\item Next for all detected drives the H\+P85 issues \char`\"{}\+Request Identify\char`\"{} to each in turn.
\begin{DoxyItemize}
\item This is done one drive at a time in order
\item The P\+PR keyword in the \href{sdcard/hpdisk.cfg}{\tt hpdisk.\+cfg} is the P\+PR bit the drive uses
\begin{DoxyItemize}
\item P\+PR of 0 = P\+PR response on G\+P\+IB data bus bit number 8 -\/ as per G\+P\+IB B\+US specifications.
\end{DoxyItemize}
\item The ID keyword in \href{sdcard/hpdisk.cfg}{\tt hpdisk.\+cfg} is the 16 bit reply to \char`\"{}\+Request Identify Reply\char`\"{}
\begin{DoxyItemize}
\item I\+M\+P\+O\+R\+T\+A\+N\+T! A\+M\+I\+GO drives cannot be queried for detailed drive layout information
\begin{DoxyItemize}
\item The H\+P85A can only use its {\itshape hard-\/coded firmware tables} to map ID to disk layout parameters
\item This implies that the H\+P85A can only use A\+M\+I\+GO disks it has defined in firmware.
\end{DoxyItemize}
\item The H\+P85B can query newer S\+S80 drives for detailed drive layout information instead.
\item The H\+P85A cannot use S\+S80 drives unless it uses copies of the H\+P85B E\+MS and E\+D\+I\+SK R\+O\+MS.
\begin{DoxyItemize}
\item One way this can be done with the P\+R\+M-\/85 expansion board offered by Bill Kotaska
\begin{DoxyItemize}
\item (The P\+R\+M-\/85 is great product giving you access to all of the useful R\+O\+MS) 


\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}

\subsection*{Technical Limitations}


\begin{DoxyItemize}
\item Multiple drive support is implements but U\+N\+IT support is N\+OT
\item While most A\+M\+I\+GO and S\+S80 feature have been implemented my primary focus was on the H\+P85A and H\+P85B.
\begin{DoxyItemize}
\item (I do not have access to other computers to test for full compatibility)
\item This means that a few A\+M\+I\+GO and S\+S80 G\+P\+IB commands are not yet implemented!
\begin{DoxyItemize}
\item Some of these are extended reporting modes -\/ many of which are optional.
\end{DoxyItemize}
\item Note\+: The H\+P85A can only use A\+M\+I\+GO drives -\/ unless you have the H\+P85B E\+MS R\+OM installed in your H\+P\+H9A
\begin{DoxyItemize}
\item This can be done with the P\+R\+M-\/85 expansion board offered by Bill Kotaska (a great product!)
\end{DoxyItemize}
\end{DoxyItemize}
\item To attach a drive to our computer, real or otherwise, you must know\+:
\begin{DoxyItemize}
\item The correct G\+P\+IB B\+US address and parallel pool response (P\+PR) bit number your computer expects.
\begin{DoxyItemize}
\item See A\+D\+D\+R\+E\+SS, P\+PR and ID values in \href{hpdisk.cfg}{\tt hpdisk.\+cfg}
\end{DoxyItemize}
\item Older computers may only support A\+M\+I\+GO drives.
\begin{DoxyItemize}
\item Such computers will have a hard coded in firmware list of drive its supports.
\begin{DoxyItemize}
\item These computers will issue a G\+P\+IB B\+US \char`\"{}request identify\char`\"{} command and only detect those it knows about.
\item {\itshape If these assumptions do N\+OT match the layout defined in the \href{sdcard/hpdisk.cfg}{\tt hpdisk.\+cfg} no drives will be detected.}
\end{DoxyItemize}
\end{DoxyItemize}
\item Newer computers with S\+S80 support can request fully detailed disk layout instead of the \char`\"{}request identify\char`\"{}
\item My emulator supports both reporting methods -\/ but your computer may not use them both!
\begin{DoxyItemize}
\item For supported values consult your computer manuals or corresponding drive manual for your computer.
\begin{DoxyItemize}
\item See gpib/drives\+\_\+parameters.\+txt for a list on some known value (C\+R\+E\+D\+I\+TS; these are from the H\+P\+Dir project)
\end{DoxyItemize}
\item In all cases the \href{sdcard/hpdisk.cfg}{\tt hpdisk.\+cfg} parameters M\+U\+ST match these expectations.
\end{DoxyItemize}
\item The \href{sdcard/hpdisk.cfg}{\tt hpdisk.\+cfg} file tells the emulator how the emulated disk is defined.
\begin{DoxyItemize}
\item G\+P\+IB B\+US address, Parallel Poll Response bit number and A\+M\+I\+GO Request Identify response values.
\item Additional detail for S\+S80 drives that newer computers can use.
\item In A\+LL cases the file informs the code what parameters to emulate and report.
\begin{DoxyItemize}
\item A\+LL of these values M\+U\+ST match your computers expectations for drives it knows about.
\end{DoxyItemize}
\end{DoxyItemize}
\item Debugging
\begin{DoxyItemize}
\item You can enable reporting of all unimplemented G\+P\+IB commands (see {\itshape T\+O\+DO} debug option in \href{sdcard/hpdisk.cfg}{\tt hpdisk.\+cfg} )
\begin{DoxyItemize}
\item Useful if you are trying this on a non H\+P85 device
\item See the \href{sdcard/hpdisk.cfg}{\tt hpdisk.\+cfg} for documentation on the full list of debugging options
\end{DoxyItemize}
\item The emulator can passively log all transactions between real hardware on the G\+P\+IB bus
\begin{DoxyItemize}
\item Use the \char`\"{}gpib trace $\ast$logfile$\ast$\char`\"{} command -\/ pressing any key exits -\/ no emulation is done in this mode.
\item You can use this to help understand what is sent to and from your real disks.
\item I use this feature to help prioritize which commands I first implemented. 


\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}

\subsection*{Credits}

\subsection*{HP Disk Emulator by Anders Gustafsson}

{\bfseries Anders Gustafsson was extremely helpful in getting my project started.} {\bfseries In fact I really owe the very existence of this project to his original project}
\begin{DoxyItemize}
\item You can visit his project at this site\+:
\begin{DoxyItemize}
\item \href{http://www.dalton.ax/hpdisk}{\tt http\+://www.\+dalton.\+ax/hpdisk}
\item \href{http://www.elektor-labs.com/project/hpdisk-an-sd-based-disk-emulator-for-gpib-instruments-and-computers.13693.html}{\tt http\+://www.\+elektor-\/labs.\+com/project/hpdisk-\/an-\/sd-\/based-\/disk-\/emulator-\/for-\/gpib-\/instruments-\/and-\/computers.\+13693.\+html}
\end{DoxyItemize}
\end{DoxyItemize}

He provided me his current source code code and mainy details of his project {\bfseries which I am very thankful for.} N\+O\+TE\+: As mainly a personal exercise in fully understanding the code I ended up rewriting much of the hpdisk project. I did this one part at a time as I learned the protocols and specifications. N\+OT because of any problems with his original work. Although mostly rewritten I have maintained the basic concept of using state machines for G\+P\+IB ,A\+M\+I\+GO and S\+S80 state tracking.

\subsection*{The H\+P\+Dir project was a vital documentation source for this project}


\begin{DoxyItemize}
\item \href{http://www.hp9845.net/9845/projects/hpdir}{\tt http\+://www.\+hp9845.\+net/9845/projects/hpdir}
\end{DoxyItemize}

\subsection*{My Tele\+Disk to L\+IF conversion utility}


\begin{DoxyItemize}
\item I used the lzss libraries and documentation by Dave Dunfield
\begin{DoxyItemize}
\item Copyright 2007-\/2008 Dave Dunfield All rights reserved.
\end{DoxyItemize}
\item Documentation from Jean-\/\+Franois D\+EL N\+E\+RO
\begin{DoxyItemize}
\item Copyright (C) 2006-\/2014 Jean-\/\+Franois D\+EL N\+E\+RO \href{lif/teledisk}{\tt lif/teledisk}
\end{DoxyItemize}
\item \href{lif/teledisk}{\tt lif/teledisk}
\begin{DoxyItemize}
\item My T\+E\+L\+E\+D\+I\+SK L\+IF extractor
\item Important Contributions (My converted would not have been possible without these)
\begin{DoxyItemize}
\item Dave Dunfield, L\+Z\+SS Code and Tele\+Disk documentation
\begin{DoxyItemize}
\item Copyright 2007-\/2008 Dave Dunfield All rights reserved.
\item \href{lif/teledisk/td0_lzss.h}{\tt td0\+\_\+lzss.\+h}
\item \href{lif/teledisk/td0_lzss.c}{\tt td0\+\_\+lzss.\+c}
\begin{DoxyItemize}
\item L\+Z\+SS decoder
\end{DoxyItemize}
\item \href{lif/teledisk/td0notes.txt}{\tt td0notes.\+txt}
\begin{DoxyItemize}
\item Teledisk Documentation
\end{DoxyItemize}
\end{DoxyItemize}
\item Jean-\/\+Franois D\+EL N\+E\+RO, Tele\+Disk Documentation
\begin{DoxyItemize}
\item Copyright (C) 2006-\/2014 Jean-\/\+Franois D\+EL N\+E\+RO
\begin{DoxyItemize}
\item \href{lif/teledisk/wteledsk.htm}{\tt wteledsk.\+htm}
\begin{DoxyItemize}
\item Tele\+Disk documentation
\end{DoxyItemize}
\item See his github project
\begin{DoxyItemize}
\item \href{https://github.com/jfdelnero/libhxcfe}{\tt https\+://github.\+com/jfdelnero/libhxcfe}
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}

\subsection*{Fat\+FS}


\begin{DoxyItemize}
\item \mbox{[}fatfs\mbox{]}(fatfs)
\begin{DoxyItemize}
\item R0.\+12b Fat\+FS code from (C) ChaN, 2016 -\/ With very minimal changes
\end{DoxyItemize}
\end{DoxyItemize}

\subsection*{Optiboot}


\begin{DoxyItemize}
\item \mbox{[}optiboot\mbox{]}(optiboot)
\begin{DoxyItemize}
\item Optiboot Bootloader for Arduino and Atmel A\+VR
\item See\+: \href{https://github.com/Optiboot/optiboot}{\tt https\+://github.\+com/\+Optiboot/optiboot}
\begin{DoxyItemize}
\item \href{https://github.com/Optiboot/optiboot/blob/master/LICENSE}{\tt G\+P\+Lv2 W\+RT}
\item https\+://github.com/\+Optiboot/optiboot/blob/master/\+R\+E\+A\+D\+M\+E.\+md \char`\"{}\+R\+E\+A\+D\+M\+E\char`\"{}
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}

\subsection*{S\+T\+K500v1 uploader for Optiboot}


\begin{DoxyItemize}
\item \href{uploader/flasher.py}{\tt uploader/flasher.\+py}
\begin{DoxyItemize}
\item Optiboot uploader by Mathieu Virbel \href{mailto:mat@meltingrocks.com}{\tt mat@meltingrocks.\+com}
\begin{DoxyItemize}
\item Original repository \href{https://github.com/tito/stk500}{\tt https\+://github.\+com/tito/stk500}
\begin{DoxyItemize}
\item Authors main github page \href{https://github.com/tito/stk500}{\tt https\+://github.\+com/tito/stk500}
\begin{DoxyItemize}
\item \href{https://meltingrocks.com/}{\tt https\+://meltingrocks.\+com/}
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}

See\+: \href{https://github.com/magore/hp85disk}{\tt https\+://github.\+com/magore/hp85disk} branch V2
\begin{DoxyItemize}
\item Changed to atmega1284p
\item Jay converted code to Python 3
\item Added Baudrate argument
\item Added code to send \char`\"{}reset\char`\"{} command to hp85disk firmware to drop into optiboot
\item Fixed Intel 02 segment record calculation
\end{DoxyItemize}





\section*{Abbreviations}

Within this project I have attempted to provide detailed references to manuals, listed below. I have included short quotes and section and page\# reference to these works.
\begin{DoxyItemize}
\item {\bfseries S\+S80}
\item {\bfseries C\+S80}
\item {\bfseries A or Amigo}
\item {\bfseries H\+P-\/\+IP}
\item {\bfseries H\+P-\/\+IP Tutorial}
\end{DoxyItemize}



 \subsection*{Documentation References and related sources of information}


\begin{DoxyItemize}
\item Web Resources
\begin{DoxyItemize}
\item \href{http://www.hp9845.net}{\tt http\+://www.\+hp9845.\+net}
\item \href{http://www.hpmuseum.net}{\tt http\+://www.\+hpmuseum.\+net}
\item \href{http://www.hpmusuem.org}{\tt http\+://www.\+hpmusuem.\+org}
\item \href{http://bitsavers.trailing-edge.com}{\tt http\+://bitsavers.\+trailing-\/edge.\+com}
\item \href{http://en.wikipedia.org/wiki/IEEE-488}{\tt http\+://en.\+wikipedia.\+org/wiki/\+I\+E\+E\+E-\/488}
\item See \mbox{[}Documents folder\mbox{]}(documents)
\end{DoxyItemize}
\end{DoxyItemize}



 \subsection*{Enhanced version of Tony Duell\textquotesingle{}s lif\+\_\+utils by Joachim}


\begin{DoxyItemize}
\item \href{https://github.com/bug400/lifutils}{\tt https\+://github.\+com/bug400/lifutils}
\item Create/\+Modify L\+IF images
\end{DoxyItemize}



 \subsection*{C\+S80 References\+: (\char`\"{}\+C\+S80\char`\"{} is the short form used in the project)}


\begin{DoxyItemize}
\item \char`\"{}\+C\+S/80 Instruction Set Programming Manual\char`\"{}
\item Printed\+: A\+PR 1983
\item HP Part\# 5955-\/3442
\item See \mbox{[}Documents folder\mbox{]}(documents)
\end{DoxyItemize}



 \subsection*{Amigo References\+: (\char`\"{}\+A\char`\"{} or \char`\"{}\+Amigo\char`\"{} is the short form used in the project)}


\begin{DoxyItemize}
\item \char`\"{}\+Appendix A of 9895\+A Flexible Disc Memory Service Manual\char`\"{}
\item HP Part\# 09895-\/90030
\item See \mbox{[}Documents folder\mbox{]}(documents)
\end{DoxyItemize}



 \subsection*{H\+P-\/\+IB}


\begin{DoxyItemize}
\item (\char`\"{}\+H\+P-\/\+I\+B\char`\"{} is the short form used in the project)
\item \char`\"{}\+Condensed Description of the Hewlett Packard Interface Bus\char`\"{}
\item Printed March 1975
\item HP Part\# 59401-\/90030
\item See \mbox{[}Documents folder\mbox{]}(documents)
\end{DoxyItemize}



 \subsection*{Tutorial Description of the Hewlett Packard Interface Bus}


\begin{DoxyItemize}
\item (\char`\"{}\+H\+P-\/\+I\+B Tutorial\char`\"{} is the short form used in the project)
\item \href{http://www.hpmemory.org/an/pdf/hp-ib_tutorial_1980.pdf}{\tt http\+://www.\+hpmemory.\+org/an/pdf/hp-\/ib\+\_\+tutorial\+\_\+1980.\+pdf}
\item Printed January 1983
\item \href{http://www.ko4bb.com/Manuals/HP_Agilent/HPIB_tutorial_HP.pdf}{\tt http\+://www.\+ko4bb.\+com/\+Manuals/\+H\+P\+\_\+\+Agilent/\+H\+P\+I\+B\+\_\+tutorial\+\_\+\+H\+P.\+pdf}
\item Printed 1987
\item See \mbox{[}Documents folder\mbox{]}(documents)
\end{DoxyItemize}



 \subsection*{G\+P\+IB / I\+E\+EE 488 Tutorial by Ian Poole}


\begin{DoxyItemize}
\item \href{http://www.radio-electronics.com/info/t_and_m/gpib/ieee488-basics-tutorial.php}{\tt http\+://www.\+radio-\/electronics.\+com/info/t\+\_\+and\+\_\+m/gpib/ieee488-\/basics-\/tutorial.\+php}
\end{DoxyItemize}

See \mbox{[}Documents folder\mbox{]}(documents)



 \subsection*{HP 9133/9134 D/\+H/L References}


\begin{DoxyItemize}
\item \char`\"{}\+H\+P 9133/9134 D/\+H/\+L Service Manual\char`\"{}
\item HP Part\# 5957-\/6560
\item Printed\+: A\+P\+R\+IL 1985, Edition 2
\item See \mbox{[}Documents folder\mbox{]}(documents) 


\end{DoxyItemize}

\subsection*{L\+IF File system Format}


\begin{DoxyItemize}
\item \href{http://www.hp9845.net/9845/projects/hpdir/#lif_filesystem}{\tt http\+://www.\+hp9845.\+net/9845/projects/hpdir/\#lif\+\_\+filesystem}
\item See \mbox{[}Documents folder\mbox{]}(documents) 


\end{DoxyItemize}

\subsection*{Useful Utilities}


\begin{DoxyItemize}
\item \href{http://www.hp9845.net/9845/projects/hpdir}{\tt H\+P\+Dir HP Drive -\/ Disk Image Manipulation}
\begin{DoxyItemize}
\item Copyright © 2010 A. Kückes
\end{DoxyItemize}
\item \href{http://www.hp9845.net/9845/projects/hpdrive}{\tt H\+P\+Drive Drive Emulators for Windows Platform}
\begin{DoxyItemize}
\item Copyright © 2010 A. Kückes
\end{DoxyItemize}
\end{DoxyItemize}

\subsection*{G\+P\+IB Connector pinout by Anders Gustafsson in his hpdisk project}


\begin{DoxyItemize}
\item \href{http://www.dalton.ax/hpdisk/}{\tt http\+://www.\+dalton.\+ax/hpdisk/}
\end{DoxyItemize}


\begin{DoxyPre}
    Pin Name   Signal Description       Pin Name   Signal Description 
    1   DIO1   Data Input/Output Bit 1  13  DIO5   Data Input/Output Bit 5 
    2   DIO2   Data Input/Output Bit 2  14  DIO6   Data Input/Output Bit 6 
    3   DIO3   Data Input/Output Bit 3  15  DIO7   Data Input/Output Bit 7 
    4   DIO4   Data Input/Output Bit 4  16  DIO8   Data Input/Output Bit 8 
    5   EIO    End-Or-Identify          17  REN    Remote Enable 
    6   DAV    Data Valid               18  Shield Ground (DAV) 
    7   NRFD   Not Ready For Data       19  Shield Ground (NRFD) 
    8   NDAC   Not Data Accepted        20  Shield Ground (NDAC) 
    9   IFC    Interface Clear          21  Shield Ground (IFC) 
    10  SRQ    Service Request          22  Shield Ground (SRQ) 
    11  ATN    Attention                23  Shield Ground (ATN) 
    12  Shield Chassis Ground           24  Single GND Single Ground
\end{DoxyPre}


\subsection*{A\+VR Terminal Commands}


\begin{DoxyItemize}
\item Pressing any key will break out of the gpib task loop until a command is entered
\begin{DoxyItemize}
\item help
\begin{DoxyItemize}
\item Will list all available commands and options
\item Each main option has help. Example lif help
\end{DoxyItemize}
\item For detail using L\+IF commands to add/extract L\+IF files from SD card see the top of \href{lif/lifutil.c}{\tt lif/lifutil.\+c}
\end{DoxyItemize}
\end{DoxyItemize}





\subsection*{Main project files for hp85disk Project}


\begin{DoxyItemize}
\item Project Main Home Directory
\begin{DoxyItemize}
\item \href{main.c}{\tt main.\+c}
\item \href{main.h}{\tt main.\+h}
\begin{DoxyItemize}
\item Main start-\/up code
\end{DoxyItemize}
\item \mbox{[}Makefile\mbox{]}(Makefile)
\begin{DoxyItemize}
\item Main Project Makefile
\end{DoxyItemize}
\end{DoxyItemize}
\item Terminal scripts
\begin{DoxyItemize}
\item \href{miniterm.sh}{\tt miniterm.\+sh}
\begin{DoxyItemize}
\item wrapper for miniterm.\+py part of the python package py\+Serial
\end{DoxyItemize}
\item \mbox{[}term\mbox{]}(term)
\begin{DoxyItemize}
\item Wrapper for minicom terminal emulator
\end{DoxyItemize}
\end{DoxyItemize}
\item Doxygen files
\begin{DoxyItemize}
\item \mbox{[}Doxyfile\mbox{]}(Doxyfile)
\begin{DoxyItemize}
\item Doxygen Configuration files for project
\end{DoxyItemize}
\item \mbox{[}doxyinc\mbox{]}(doxyinc)
\begin{DoxyItemize}
\item Determines which files are included in the project Doxygen documents
\end{DoxyItemize}
\item \href{DoxygenLayout.xml}{\tt Doxygen\+Layout.\+xml}
\begin{DoxyItemize}
\item Doxygen Layout file
\end{DoxyItemize}
\end{DoxyItemize}
\item Project Readme
\begin{DoxyItemize}
\item \hyperlink{md_README}{R\+E\+A\+D\+ME.md}
\begin{DoxyItemize}
\item Project R\+E\+A\+D\+ME
\end{DoxyItemize}
\end{DoxyItemize}
\item Project Copyright
\begin{DoxyItemize}
\item \hyperlink{COPYRIGHT_8md}{C\+O\+P\+Y\+R\+I\+G\+HT.md}
\begin{DoxyItemize}
\item Project Copyrights
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}

\subsection*{Compiled firmware release files}


\begin{DoxyItemize}
\item \mbox{[}release\mbox{]}(release)
\end{DoxyItemize}

\subsection*{Board design file for version 1 and 2 hardware information}


\begin{DoxyItemize}
\item \mbox{[}board\mbox{]}(board)
\begin{DoxyItemize}
\item \href{board/V1}{\tt V1}
\begin{DoxyItemize}
\item V1 Board documentation and Release files
\item \href{board/V1/HP85Disk.pdf}{\tt board design and pinouts of this project and a schematic P\+DF}
\item \href{board/V1//HP85Disk.doc}{\tt board design and pinouts of this project and a schematic D\+OC}
\item \href{board/V1/HP85Disk.doc}{\tt board R\+E\+A\+D\+M\+E.\+md}
\end{DoxyItemize}
\item \href{V2/releases}{\tt V2/releases}
\begin{DoxyItemize}
\item Jay Hamlin version 2 circuit board design using G\+P\+IB buffers
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}

\subsection*{Documents}


\begin{DoxyItemize}
\item \mbox{[}Documents\mbox{]}(Documents)
\item G\+P\+IB B\+US, HP device, L\+IF and chips documentation for this project
\begin{DoxyItemize}
\item Documents/\+R\+E\+A\+D\+ME.md
\end{DoxyItemize}
\end{DoxyItemize}

\subsection*{hp85disk software files}


\begin{DoxyItemize}
\item Most of the software in the project was written by me except where notes
\end{DoxyItemize}

\subsection*{Fat\+Fs}


\begin{DoxyItemize}
\item \mbox{[}fatfs\mbox{]}(fatfs)
\begin{DoxyItemize}
\item R0.\+12b Fat\+FS code from (C) ChaN, 2016 -\/ With very minimal changes
\item \href{fatfs/00history.txt}{\tt 00history.\+txt}
\item \href{fatfs/00readme.txt}{\tt 00readme.\+txt}
\item \href{fatfs/ff.c}{\tt ff.\+c}
\item \href{fatfs/ffconf.h}{\tt ffconf.\+h}
\item \href{fatfs/ff.h}{\tt ff.\+h}
\item \href{fatfs/integer.h}{\tt integer.\+h}
\end{DoxyItemize}
\item \href{fatfs.hal/fatfs.hal}{\tt fatfs.\+hal}
\begin{DoxyItemize}
\item R0.\+12b Fat\+FS code from (C) ChaN, 2016 with changes
\begin{DoxyItemize}
\item Hardware abstraction layer based on example A\+VR project
\end{DoxyItemize}
\item \href{fatfs.hal/diskio.c}{\tt diskio.\+c}
\begin{DoxyItemize}
\item Low level disk I/O module glue functions (fatfs.\+hal/C)ChaN, 2016
\end{DoxyItemize}
\item \href{fatfs.hal/diskio.h}{\tt diskio.\+h}
\begin{DoxyItemize}
\item Low level disk I/O module glue functions (fatfs.\+hal/C)ChaN, 2016
\end{DoxyItemize}
\item \href{fatfs.hal/mmc.c}{\tt mmc.\+c}
\begin{DoxyItemize}
\item Low level M\+MC I/O by (fatfs.\+hal/C)ChaN, 2016 with modifications
\end{DoxyItemize}
\item \href{fatfs.hal/mmc.h}{\tt mmc.\+h}
\begin{DoxyItemize}
\item Low level M\+MC I/O by (fatfs.\+hal/C)ChaN, 2016 with modifications
\end{DoxyItemize}
\item \href{fatfs.hal/mmc_hal.c}{\tt mmc\+\_\+hal.\+c}
\begin{DoxyItemize}
\item My Hardware abstraction layer code
\end{DoxyItemize}
\item \href{fatfs.hal/mmc_hal.h}{\tt mmc\+\_\+hal.\+h}
\begin{DoxyItemize}
\item My Hardware abstraction layer code
\end{DoxyItemize}
\end{DoxyItemize}
\item \href{fatfs.sup/fatfs.sup}{\tt fatfs.\+sup}
\begin{DoxyItemize}
\item My fatfs support utility and P\+O\+S\+IX wrapper test functions
\item \href{fatfs.sup/fatfs.h}{\tt fatfs.\+h}
\begin{DoxyItemize}
\item Fat\+FS header files
\end{DoxyItemize}
\item \href{fatfs.sup/fatfs_sup.c}{\tt fatfs\+\_\+sup.\+c}
\item \href{fatfs.sup/fatfs_sup.h}{\tt fatfs\+\_\+sup.\+h}
\begin{DoxyItemize}
\item Fat\+FS file listing and display functions
\end{DoxyItemize}
\item \href{fatfs.sup/fatfs_tests.c}{\tt fatfs\+\_\+tests.\+c}
\item \href{fatfs.sup/fatfs_tests.h}{\tt fatfs\+\_\+tests.\+h}
\begin{DoxyItemize}
\item Fat\+FS user test functions
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}

\subsection*{G\+P\+IB related}


\begin{DoxyItemize}
\item \href{gpib/gpib}{\tt gpib}
\begin{DoxyItemize}
\item My G\+P\+IB code for A\+M\+I\+GO S\+S80 and P\+R\+I\+N\+T\+ER support
\item \href{gpib/amigo.c}{\tt amigo.\+c}
\begin{DoxyItemize}
\item A\+M\+I\+GO parser
\end{DoxyItemize}
\item \href{gpib/amigo.h}{\tt amigo.\+h}
\begin{DoxyItemize}
\item A\+M\+I\+GO parser
\end{DoxyItemize}
\item \href{gpib/defines.h}{\tt defines.\+h}
\begin{DoxyItemize}
\item Main G\+P\+IB header and configuration options
\end{DoxyItemize}
\item \href{debug.txt}{\tt debug.\+txt}
\begin{DoxyItemize}
\item List of debug flags
\end{DoxyItemize}
\item \href{gpib/drives.c}{\tt drives.\+c}
\begin{DoxyItemize}
\item Supported Drive Parameters
\end{DoxyItemize}
\item \href{gpib/drive_references.txt}{\tt drive\+\_\+references.\+txt}
\begin{DoxyItemize}
\item General Drive Parameters Documentation for all known drive types
\end{DoxyItemize}
\item \href{gpib/format.c}{\tt format.\+c}
\begin{DoxyItemize}
\item L\+IF format and file utilities
\end{DoxyItemize}
\item \href{gpib/gpib.c}{\tt gpib.\+c}
\begin{DoxyItemize}
\item All low level G\+P\+IB bus code
\end{DoxyItemize}
\item \href{gpib/gpib.h}{\tt gpib.\+h}
\begin{DoxyItemize}
\item G\+P\+IB I/O code
\end{DoxyItemize}
\item \href{gpib/gpib_hal.c}{\tt gpib\+\_\+hal.\+c}
\begin{DoxyItemize}
\item G\+P\+IB hardware abstraction code
\end{DoxyItemize}
\item \href{gpib/gpib_hal.h}{\tt gpib\+\_\+hal.\+h}
\begin{DoxyItemize}
\item G\+P\+IB hardware abstraction code
\end{DoxyItemize}
\item \href{gpib/gpib_task.c}{\tt gpib\+\_\+task.\+c}
\begin{DoxyItemize}
\item G\+P\+IB command handler , initialization and tracing code
\end{DoxyItemize}
\item \href{gpib/gpib_task.h}{\tt gpib\+\_\+task.\+h}
\begin{DoxyItemize}
\item G\+P\+IB command handler , initialization and tracing code
\end{DoxyItemize}
\item \href{gpib/gpib_tests.c}{\tt gpib\+\_\+tests.\+c}
\begin{DoxyItemize}
\item G\+P\+IB user tests
\end{DoxyItemize}
\item \href{gpib/gpib_tests.h}{\tt gpib\+\_\+tests.\+h}
\begin{DoxyItemize}
\item G\+P\+IB user tests
\end{DoxyItemize}
\item \href{gpib/printer.c}{\tt printer.\+c}
\begin{DoxyItemize}
\item G\+P\+IB printer capture code
\end{DoxyItemize}
\item \href{gpib/printer.h}{\tt printer.\+h}
\begin{DoxyItemize}
\item G\+P\+IB printer capture code
\end{DoxyItemize}
\item \href{gpib/references.txt}{\tt references.\+txt}
\begin{DoxyItemize}
\item Main S80 S\+S80 A\+M\+I\+GO and G\+P\+IB references part numbers and web links
\end{DoxyItemize}
\item \href{gpib/ss80.c}{\tt ss80.\+c}
\begin{DoxyItemize}
\item S\+S80 parser
\end{DoxyItemize}
\item \href{gpib/ss80.h}{\tt ss80.\+h}
\begin{DoxyItemize}
\item S\+S80 parser
\end{DoxyItemize}
\item \href{gpib/notes.txt}{\tt notes.\+txt}
\begin{DoxyItemize}
\item My notes on G\+P\+IB bus states as it relates to the project
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}

\subsection*{Hardware C\+PU specific}


\begin{DoxyItemize}
\item \mbox{[}hardware\mbox{]}(hardware)
\begin{DoxyItemize}
\item My C\+PU hardware specific code
\item \href{hardware/baudrate.c}{\tt baudrate.\+c}
\begin{DoxyItemize}
\item Baud rate calculation tool. Given C\+PU clock and desired baud rate, will list the actual baud rate and registers
\end{DoxyItemize}
\item \href{hardware/bits.h}{\tt bits.\+h}
\begin{DoxyItemize}
\item B\+IT set and clear functions
\end{DoxyItemize}
\item \href{hardware/cpu.h}{\tt cpu.\+h}
\begin{DoxyItemize}
\item C\+PU specific include files
\end{DoxyItemize}
\item \href{hardware/delay.c}{\tt delay.\+c}
\item \href{hardware/delay.h}{\tt delay.\+h}
\begin{DoxyItemize}
\item Delay code
\end{DoxyItemize}
\item \href{hardware/hal.c}{\tt hal.\+c}
\item \href{hardware/hal.h}{\tt hal.\+h}
\begin{DoxyItemize}
\item G\+P\+IO functions, spi hardware abstraction layer and chip select logic
\end{DoxyItemize}
\item \href{hardware/iom1284p.h}{\tt iom1284p.\+h}
\begin{DoxyItemize}
\item G\+P\+IO map for A\+T\+E\+M\+E\+GA 1284p
\end{DoxyItemize}
\item \href{hardware/LCD.c}{\tt L\+C\+D.\+c}
\item \href{hardware/LCD.h}{\tt L\+C\+D.\+h}
\begin{DoxyItemize}
\item Spark\+Fun L\+C\+D-\/14072,L\+C\+D-\/14073,L\+C\+D-\/14074 support code
\item \href{https://github.com/sparkfun/SparkFun_SerLCD_Arduino_Library}{\tt https\+://github.\+com/sparkfun/\+Spark\+Fun\+\_\+\+Ser\+L\+C\+D\+\_\+\+Arduino\+\_\+\+Library}
\begin{DoxyItemize}
\item Modified for this project
\end{DoxyItemize}
\end{DoxyItemize}
\item \href{hardware/mkdef.c}{\tt mkdef.\+c}
\begin{DoxyItemize}
\item Not used
\end{DoxyItemize}
\item \href{hardware/pins.txt}{\tt pins.\+txt}
\begin{DoxyItemize}
\item A\+VR function to G\+P\+IO pin map
\end{DoxyItemize}
\item \href{hardware/ram.c}{\tt ram.\+c}
\item \href{hardware/ram.h}{\tt ram.\+h}
\begin{DoxyItemize}
\item Memory functions
\end{DoxyItemize}
\item \href{hardware/rs232.c}{\tt rs232.\+c}
\item \href{hardware/rs232.h}{\tt rs232.\+h}
\begin{DoxyItemize}
\item R\+S232 IO
\end{DoxyItemize}
\item \href{hardware/rtc.c}{\tt rtc.\+c}
\item \href{hardware/rtc.h}{\tt rtc.\+h}
\begin{DoxyItemize}
\item D\+S1307 I2C R\+TC code
\end{DoxyItemize}
\item \href{hardware/spi.c}{\tt spi.\+c}
\item \href{hardware/spi.h}{\tt spi.\+h}
\begin{DoxyItemize}
\item S\+PI B\+US code
\end{DoxyItemize}
\item \href{hardware/TWI_AVR8.c}{\tt T\+W\+I\+\_\+\+A\+V\+R8.\+c}
\item \href{hardware/TWI_AVR8.h}{\tt T\+W\+I\+\_\+\+A\+V\+R8.\+h}
\begin{DoxyItemize}
\item I2C code L\+U\+FA Library Copyright (hardware/C) Dean Camera, 2011.
\end{DoxyItemize}
\item \href{hardware/i2c.c}{\tt i2c.\+c}
\item \href{hardware/i2c.h}{\tt i2c.\+h}
\begin{DoxyItemize}
\item I2C code in testing -\/ not yet used -\/ Copyright (c) 2014 Pieter Noordhuis \href{https://github.com/pietern/avr-i2c}{\tt https\+://github.\+com/pietern/avr-\/i2c}
\end{DoxyItemize}
\item \href{hardware/user_config.h}{\tt user\+\_\+config.\+h}
\begin{DoxyItemize}
\item Main include file M\+MC S\+L\+OW and F\+A\+TS frequency and C\+PU frequency settings
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}

\subsection*{Common libraries}


\begin{DoxyItemize}
\item \mbox{[}lib\mbox{]}(lib)
\begin{DoxyItemize}
\item My Library functions
\item \href{lib/bcpp.cfg}{\tt bcpp.\+cfg}
\begin{DoxyItemize}
\item B\+C\+PP C code formatting tool config
\end{DoxyItemize}
\item \href{lib/matrix.c}{\tt matrix.\+c}
\item \href{lib/matrix.h}{\tt matrix.\+h}
\begin{DoxyItemize}
\item Matrix code -\/ not used
\end{DoxyItemize}
\item \href{lib/matrix.txt}{\tt matrix.\+txt}
\begin{DoxyItemize}
\item A few notes about matrix operations
\end{DoxyItemize}
\item \href{lib/queue.c}{\tt queue.\+c}
\item \href{lib/queue.h}{\tt queue.\+h}
\begin{DoxyItemize}
\item Queue functions
\end{DoxyItemize}
\item \href{lib/sort.c}{\tt sort.\+c}
\item \href{lib/sort.h}{\tt sort.\+h}
\begin{DoxyItemize}
\item Sort functions -\/ not used
\end{DoxyItemize}
\item \href{lib/stringsup.c}{\tt stringsup.\+c}
\item \href{lib/stringsup.h}{\tt stringsup.\+h}
\begin{DoxyItemize}
\item Various string processing functions
\end{DoxyItemize}
\item \href{lib/time.c}{\tt time.\+c}
\item \href{lib/time.h}{\tt time.\+h}
\begin{DoxyItemize}
\item P\+O\+S\+IX time functions
\end{DoxyItemize}
\item \href{lib/timer.c}{\tt timer.\+c}
\item \href{lib/timer.h}{\tt timer.\+h}
\begin{DoxyItemize}
\item Timer task functions
\end{DoxyItemize}
\item \href{lib/timer_hal.c}{\tt timer\+\_\+hal.\+c}
\begin{DoxyItemize}
\item Timer task hardware abstraction layer
\end{DoxyItemize}
\item \href{lib/timetests.c}{\tt timetests.\+c}
\begin{DoxyItemize}
\item Time and timer test code
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}

\subsection*{L\+IF files}


\begin{DoxyItemize}
\item \mbox{[}lif\mbox{]}(lif)
\begin{DoxyItemize}
\item My L\+IF disk image utilities
\item \href{lif/lifutils.c}{\tt lif/lifutils.\+c}
\item \href{lif/lifutils.c}{\tt lif/lifutils.\+c}
\begin{DoxyItemize}
\item Functions that allow the emulator to import and export files from L\+IF images
\end{DoxyItemize}
\item \href{lif/Makefile}{\tt Makefile}
\begin{DoxyItemize}
\item Permits creating a standalone Linux version of the L\+IF emulator tools
\end{DoxyItemize}
\item Code by Mike Gore
\begin{DoxyItemize}
\item \href{lif/Makefile}{\tt Makefile}
\begin{DoxyItemize}
\item Make stand alone Linux versions of L\+IF utility and optionaly Tele\+Disk to L\+IF converter
\end{DoxyItemize}
\item \href{lif/lifsup.c}{\tt lifsup.\+c}
\item \href{lif/lifsup.h}{\tt lifsup.\+h}
\begin{DoxyItemize}
\item Stand alone libraries for L\+IF and T\+E\+L\+E\+D\+I\+SK utility
\begin{DoxyItemize}
\item These functions are also part of various hp85disk libraries
\end{DoxyItemize}
\end{DoxyItemize}
\item \href{lif/lifutils.c}{\tt lifutils.\+c}
\item \href{lif/lifutils.h}{\tt lifutils.\+h}
\begin{DoxyItemize}
\item L\+IF image functions, directory listing and file adding. extracting,renaming,deleting
\end{DoxyItemize}
\item \href{lif/td02lif.c}{\tt td02lif.\+c}
\item \href{lif/td02lif.h}{\tt td02lif.\+h}
\begin{DoxyItemize}
\item My Tele\+Disk to L\+IF translator
\end{DoxyItemize}
\item \href{lif/lif-notes.txt}{\tt lif-\/notes.\+txt}
\begin{DoxyItemize}
\item My notes on decoding E010 format L\+IF images for H\+P-\/85
\end{DoxyItemize}
\item \href{lif/README.txt}{\tt R\+E\+A\+D\+M\+E.\+txt}
\begin{DoxyItemize}
\item Notes on each file under L\+IF and lif/teledisk
\end{DoxyItemize}
\item \href{lif/85-SS80.TD0}{\tt 85-\/\+S\+S80.\+T\+D0} from hpmuseum.\+org
\begin{DoxyItemize}
\item Damaged S\+S80 Exerciser from HP Museum
\end{DoxyItemize}
\item \href{lif/85-SS80.LIF}{\tt 85-\/\+S\+S80.\+L\+IF}
\begin{DoxyItemize}
\item The current converter automatically did these repairs
\begin{DoxyItemize}
\item cyl 11, side 0 sector 116 mapped to 8
\item cyl 13, side 0 sector 116 mapped to 11
\item cyl 15, side 0 sector 10 missing -\/ zero filled
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}

\subsection*{L\+IF teledisk files}


\begin{DoxyItemize}
\item \href{lif/teledisk}{\tt lif/teledisk}
\begin{DoxyItemize}
\item My T\+E\+L\+E\+D\+I\+SK L\+IF extractor
\begin{DoxyItemize}
\item Note\+: The Tele\+Disk image M\+U\+ST contain a L\+IF image -\/ we do N\+OT translate it
\end{DoxyItemize}
\item \href{lif/teledisk/README.txt}{\tt R\+E\+A\+D\+M\+E.\+txt}
\begin{DoxyItemize}
\item Credits
\end{DoxyItemize}
\item Important Contributions (My converter would not have been possible without these)
\begin{DoxyItemize}
\item Dave Dunfield, L\+Z\+SS Code and Tele\+Disk documentation
\begin{DoxyItemize}
\item Copyright 2007-\/2008 Dave Dunfield All rights reserved.
\item \href{lif/teledisk/td0_lzss.h}{\tt td0\+\_\+lzss.\+h}
\item \href{lif/teledisk/td0_lzss.c}{\tt td0\+\_\+lzss.\+c}
\begin{DoxyItemize}
\item L\+Z\+SS decoder
\end{DoxyItemize}
\item \href{lif/teledisk/td0notes.txt}{\tt td0notes.\+txt}
\begin{DoxyItemize}
\item Teledisk Documentation
\end{DoxyItemize}
\end{DoxyItemize}
\item Jean-\/\+Franois D\+EL N\+E\+RO, Tele\+Disk Documentation
\begin{DoxyItemize}
\item Copyright (lif/teledisk/C) 2006-\/2014 Jean-\/\+Franois D\+EL N\+E\+RO
\begin{DoxyItemize}
\item \href{lif/teledisk/wteledsk.htm}{\tt wteledsk.\+htm}
\begin{DoxyItemize}
\item Tele\+Disk documentation
\end{DoxyItemize}
\item See his github project
\begin{DoxyItemize}
\item \href{https://github.com/jfdelnero/libhxcfe}{\tt https\+://github.\+com/jfdelnero/libhxcfe}
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}

\subsection*{Posix wrapper -\/ provides Linux file IO functions for Fatfs}


\begin{DoxyItemize}
\item \mbox{[}posix\mbox{]}(posix)
\begin{DoxyItemize}
\item My P\+O\+S\+IX wrappers provide many U\+N\+IX P\+O\+S\+IX compatible functions by translating fatfs functions
\item \href{buffer.c}{\tt buffer.\+c}
\item \href{buffer.h}{\tt buffer.\+h}
\begin{DoxyItemize}
\item Currently unused in this project
\end{DoxyItemize}
\item \href{posix/posix.c}{\tt posix.\+c}
\item \href{posix/posix.h}{\tt posix.\+h}
\begin{DoxyItemize}
\item P\+O\+S\+IX wrappers for fatfs -\/ Unix file IO function call wrappers
\end{DoxyItemize}
\item \href{posix/posix_tests.c}{\tt posix\+\_\+tests.\+c}
\item \href{posix/posix_tests.h}{\tt posix\+\_\+tests.\+h}
\begin{DoxyItemize}
\item P\+O\+S\+IX user tests
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}

\subsection*{Printf display functions}


\begin{DoxyItemize}
\item \mbox{[}printf\mbox{]}(printf)
\begin{DoxyItemize}
\item My Printf and math IO functions
\item \href{printf/mathio.c}{\tt mathio.\+c}
\begin{DoxyItemize}
\item Number conversions
\end{DoxyItemize}
\item \href{printf/mathio.h}{\tt mathio.\+h}
\begin{DoxyItemize}
\item Number conversions
\end{DoxyItemize}
\item \href{printf/n2a.c}{\tt n2a.\+c}
\begin{DoxyItemize}
\item Binary to A\+S\+C\+II converter number size only limited by memory
\end{DoxyItemize}
\item \href{printf/printf.c}{\tt printf.\+c}
\begin{DoxyItemize}
\item My small printf code -\/ with floating point support and user defined low character level IO
\end{DoxyItemize}
\item \href{printf/sscanf.c}{\tt sscanf.\+c}
\begin{DoxyItemize}
\item My small scanf code -\/ work in progress
\end{DoxyItemize}
\item \href{printf/test_printf.c}{\tt test\+\_\+printf.\+c}
\begin{DoxyItemize}
\item Test my printf against glibs 1,000,000 tests per data type
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}

\subsection*{SD Card files for project}


\begin{DoxyItemize}
\item \mbox{[}sdcard\mbox{]}(sdcard)
\begin{DoxyItemize}
\item My H\+P85 A\+M\+I\+GO and S\+S80 disk images
\begin{DoxyItemize}
\item Linux bash script to build A\+LL the disk images
\begin{DoxyItemize}
\item \href{sdcard/create_images.sh}{\tt create\+\_\+images.\+sh}
\begin{DoxyItemize}
\item Files from A\+S\+C\+I\+I-\/files, L\+I\+F-\/files are added to all of the created images
\end{DoxyItemize}
\end{DoxyItemize}
\item All Disk definitions, address, P\+PR, D\+E\+B\+UG level for S\+S80 and A\+M\+I\+GO drives
\begin{DoxyItemize}
\item \href{sdcard/hpdisk.cfg}{\tt hpdisk.\+cfg}
\begin{DoxyItemize}
\item P\+R\+I\+N\+T\+ER address
\end{DoxyItemize}
\end{DoxyItemize}
\item Alternate configuration for using only A\+M\+I\+GO drives
\begin{DoxyItemize}
\item \href{sdcard/amigo.cfg}{\tt amigo.\+cfg}
\begin{DoxyItemize}
\item Use this if your system does not support S\+S80 drives
\begin{DoxyItemize}
\item Copy this file over the hpdisk.\+cfg file after renaming the hpdisk.\+cfg file
\end{DoxyItemize}
\item P\+R\+I\+N\+T\+ER address
\end{DoxyItemize}
\end{DoxyItemize}
\item A\+M\+I\+GO disk images
\begin{DoxyItemize}
\item \href{sdcard/amigo0.lif}{\tt amigo1.\+lif}
\begin{DoxyItemize}
\item A\+M\+I\+GO disk image
\item Has some demo basic programs in it
\end{DoxyItemize}
\item \href{sdcard/amigo1.lif}{\tt amigo2.\+lif}
\begin{DoxyItemize}
\item A\+M\+I\+GO disk image
\item Has some demo basic programs in it
\end{DoxyItemize}
\item \href{sdcard/amigo2.lif}{\tt amigo3.\+lif}
\begin{DoxyItemize}
\item A\+M\+I\+GO disk image
\item Has some demo basic programs in it
\end{DoxyItemize}
\item \href{sdcard/amigo3.lif}{\tt amigo4.\+lif}
\begin{DoxyItemize}
\item A\+M\+I\+GO disk image
\item Has some demo basic programs in it
\end{DoxyItemize}
\end{DoxyItemize}
\item S\+S80 disk images
\begin{DoxyItemize}
\item \href{sdcard/ss80-0.lif}{\tt ss80-\/1.\+lif}
\begin{DoxyItemize}
\item S\+S80 disk image
\item Has some demo basic programs in it
\end{DoxyItemize}
\item \href{sdcard/ss80-1.lif}{\tt ss80-\/2.\+lif}
\begin{DoxyItemize}
\item S\+S80 disk image
\item Has some demo basic programs in it
\end{DoxyItemize}
\item \href{sdcard/ss80-2.lif}{\tt ss80-\/3.\+lif}
\begin{DoxyItemize}
\item S\+S80 disk image
\item Has some demo basic programs in it
\end{DoxyItemize}
\item \href{sdcard/ss80-3.lif}{\tt ss80-\/4.\+lif}
\begin{DoxyItemize}
\item S\+S80 disk image
\item Has some demo basic programs in it
\end{DoxyItemize}
\end{DoxyItemize}
\item SD Card emulator configuration file backups
\begin{DoxyItemize}
\item \href{sdcard/configs}{\tt sdcard/configs}
\begin{DoxyItemize}
\item Backup copies of the hp85disk config files
\end{DoxyItemize}
\end{DoxyItemize}
\item Build Drive Configuration
\begin{DoxyItemize}
\item \href{sdcard/mkcfg}{\tt sdcard/mkcfg}
\begin{DoxyItemize}
\item Build a \href{sdcard/hpdisk.cfg}{\tt hpdisk.\+cfg} disk record
\begin{DoxyItemize}
\item Using \href{sdcard/notes/hpdir.ini}{\tt hpdir.\+ini} database
\begin{DoxyItemize}
\item We can get a drive block count using\+: {\bfseries mkcfg -\/m D\+R\+I\+VE -\/b} 
\begin{DoxyPre}
        mkcfg [-list]| [-m model [-b]|[-d]] [-a address]
           -list lists all of the drives in the hpdir.ini file
           -a disk address 0..7
           -m model only, list hpdisk.cfg format disk configuration
           -s short hpdisk.cfg format
           -b only display block count, you can can use this with -m
           -d only display computed directory block count, you can use this with -m
           -f NAME specifies the LIF image name for this drive
\end{DoxyPre}
 \begin{DoxyVerb}  * BUILD SCRIPTS
    * [sdcard/scripts](sdcard/scripts)
      * Scripts that help creating LIF images from multiple files
      * Used by [create_images.sh](create_images.sh)
  * My HP85 bus trace files
    * [sdcard/traces](sdcard/traces)
    * [amigo_trace.txt](sdcard/traces/amigo_trace.txt)
      * AMIGO trace file when connected to HP85 showing odd out of order command issue
    * [gpib_reset.txt](sdcard/traces/gpib_reset.txt)
      * GPIB reset trace when connected to HP85
    * [gpib_trace.txt](sdcard/traces/gpib_trace.txt)
      * GPIB transaction trace when connected to HP85
  * My HP85 plot capture files
    * [plots](sdcard/plots]
      * [plot1.plt](sdcard/plots/plot1.plt)
      * [plot2.plt](sdcard/plots/plot2.plt)
  * ASCII Basic files - in text format for easy editing
    * [ASCII-files](sdcard/ASCII-files)
      * [CIRCLE.TXT](sdcard/ASCII-files/CIRCLE.TXT)
      * [DRIVES.TXT](sdcard/ASCII-files/DRIVES.TXT)
      * [GPIB-TA.txt](sdcard/ASCII-files/GPIB-TA.txt)
      * [HELLO.TXT](sdcard/ASCII-files/HELLO.TXT)
      * [RWTEST.TXT](sdcard/ASCII-files/RWTEST.TXT)
      * [TREK85A.TXT](sdcard/ASCII-files/TREK85A.TXT)
      * [ASCII-files/TREK85](sdcard/ASCII-files/TREK85)
        * TREK85 by Martin Hepperle, December 2015
          * https://groups.io/g/hpseries80/topic/star_trek_game_for_hp_85/4845241
        * [author.txt](sdcard/TREK85/author.txt)  
        * [readme.txt](sdcrad/TREK85/readme.txt)    
        * [Star Trek.pdf](sdcard/TREK85/Start Trek.pdf)
        * [TREK85.BAS](sdcard/TREK85/TREK85.BAS)
        * [trek.lif](sdcard/TREK85/trek.lif)
  * LIF images with a single program in them
    * [LIF-files](sdcard/LIF-files)
      * Internal names are the same as the LIF name without extension
    * [GETSAVE.LIF](sdcard/ASCII-files/GETSAVE.LIF)
      * Adds GET and SAVE commands to an HP85
    * [GPIB-T.lif](sdcard/ASCII-files/GPIB-T.lif)
      * Simple GPIB test
    * [RWTESTB.lif](sdcard/ASCII-files/RWTESTB.lif)
      * Reads,Writes and Purge tests
    * [TREK85B.lif](sdcard/ASCII-files/TREK85B.lif)
      * TREK85 by Martin Hepperle, December 2015
        * https://groups.io/g/hpseries80/topic/star_trek_game_for_hp_85/4845241
  * LIF images with multiple programs in them
    * [LIF-volumes](sdcard/LIF-volumes)
      * [85-SS80.LIF](sdcard/ASCII-files/85-SS80.LIF)
  * GETSAV documentation
    * [notes](sdcard/notes)
      * GETSAVE can be loaded on an HP85 to GET and SAVE Basic text files
        * NOTE: my lif utilities can translate between ASCII files and files in GET/SAVE format 
    * Various notes 
\end{DoxyVerb}
 

 
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}