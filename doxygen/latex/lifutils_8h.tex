\hypertarget{lifutils_8h}{}\section{gpib/lifutils.h File Reference}
\label{lifutils_8h}\index{gpib/lifutils.\+h@{gpib/lifutils.\+h}}
{\ttfamily \#include \char`\"{}user\+\_\+config.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}defines.\+h\char`\"{}}\\*
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structlifvol__t}{lifvol\+\_\+t}
\begin{DoxyCompactList}\small\item\em Disk Layout. \end{DoxyCompactList}\item 
struct \hyperlink{structlifdir__t}{lifdir\+\_\+t}
\begin{DoxyCompactList}\small\item\em Directory layout. \end{DoxyCompactList}\item 
struct \hyperlink{structlifspace__t}{lifspace\+\_\+t}
\begin{DoxyCompactList}\small\item\em Used by lif\+\_\+findfree\+\_\+index to a find free directory slot and file area. \end{DoxyCompactList}\item 
struct \hyperlink{structlif__t}{lif\+\_\+t}
\begin{DoxyCompactList}\small\item\em Master L\+IF data structure Contains image file name Volume Structure Current Directory Entry read/write flag. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{lifutils_8h_a8cfa79b094fc3a5db37b26761a639e6d}{L\+I\+F\+\_\+\+I\+M\+A\+G\+E\+\_\+\+N\+A\+M\+E\+\_\+\+S\+I\+ZE}~64
\begin{DoxyCompactList}\small\item\em size of image file name size used by lif\+\_\+format() \end{DoxyCompactList}\item 
\#define \hyperlink{lifutils_8h_a9f32d2537f4daba6a314185cf52b7e56}{L\+I\+F\+\_\+\+S\+E\+C\+T\+O\+R\+\_\+\+S\+I\+ZE}~256
\begin{DoxyCompactList}\small\item\em Depends on how much free ram we have. \end{DoxyCompactList}\item 
\#define \hyperlink{lifutils_8h_a99ad70dd3200a3ee46388bc2c36fe720}{L\+I\+F\+\_\+\+D\+I\+R\+\_\+\+S\+I\+ZE}~32
\begin{DoxyCompactList}\small\item\em L\+IF directory entry size. \end{DoxyCompactList}\item 
\#define \hyperlink{lifutils_8h_aa1750b32056b8fbaa729724402d587f2}{L\+I\+F\+\_\+\+D\+I\+R\+\_\+\+R\+E\+C\+O\+R\+D\+S\+\_\+\+P\+E\+R\+\_\+\+S\+E\+C\+T\+OR}~(\hyperlink{lifutils_8h_a9f32d2537f4daba6a314185cf52b7e56}{L\+I\+F\+\_\+\+S\+E\+C\+T\+O\+R\+\_\+\+S\+I\+ZE}/\hyperlink{lifutils_8h_a99ad70dd3200a3ee46388bc2c36fe720}{L\+I\+F\+\_\+\+D\+I\+R\+\_\+\+S\+I\+ZE})
\item 
\#define \hyperlink{lifutils_8h_a7e7f4ebd8f31cd7f9dcb0e9758ef8f44}{L\+I\+F\+\_\+\+C\+H\+U\+N\+KS}~16
\begin{DoxyCompactList}\small\item\em used for formatting \end{DoxyCompactList}\item 
\#define \hyperlink{lifutils_8h_a625b7a543a55b48e28ea93fbb61595eb}{L\+I\+F\+\_\+\+C\+H\+U\+N\+K\+\_\+\+S\+I\+ZE}~(\hyperlink{lifutils_8h_a9f32d2537f4daba6a314185cf52b7e56}{L\+I\+F\+\_\+\+S\+E\+C\+T\+O\+R\+\_\+\+S\+I\+ZE}$\ast$\hyperlink{lifutils_8h_a7e7f4ebd8f31cd7f9dcb0e9758ef8f44}{L\+I\+F\+\_\+\+C\+H\+U\+N\+KS})
\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct \hyperlink{structstat}{stat} \hyperlink{lifutils_8h_aebb3d0e746d3aa086e0baa48ad66b964}{stat\+\_\+t}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{lifutils_8h_adcd52baa64a03567d69ce3579e3f66ea}{lif\+\_\+help} (void)
\begin{DoxyCompactList}\small\item\em Help Menu for User invoked G\+P\+IB functions and tasks See\+: int \hyperlink{gpib__tests_8h_aed0c6a0a794f33d5cf7691c96d3e4955}{gpib\+\_\+tests(char $\ast$str)} \end{DoxyCompactList}\item 
int \hyperlink{lifutils_8h_a32dc220253a6108ad1d2f6b06318d326}{lif\+\_\+tests} (char $\ast$str)
\begin{DoxyCompactList}\small\item\em L\+I\+F\+Guser tests. \end{DoxyCompactList}\item 
\hyperlink{posix_8h_aed4dabeb9f7c518ded42f930a04abce8}{F\+I\+LE} $\ast$ \hyperlink{lifutils_8h_afe395b08bb0cfe54ee46529a0181c11e}{lif\+\_\+open} (char $\ast$name, char $\ast$mode)
\begin{DoxyCompactList}\small\item\em Open a file that must exist. \end{DoxyCompactList}\item 
\hyperlink{defines_8h_aebb3d0e746d3aa086e0baa48ad66b964}{stat\+\_\+t} $\ast$ \hyperlink{lifutils_8h_a64cd31682e1e5cf594203ae2dd9c5cda}{lif\+\_\+stat} (char $\ast$name, \hyperlink{defines_8h_aebb3d0e746d3aa086e0baa48ad66b964}{stat\+\_\+t} $\ast$p)
\begin{DoxyCompactList}\small\item\em Stat a file. \end{DoxyCompactList}\item 
long \hyperlink{lifutils_8h_afd91a3610ac5b104097ac0686a56cefd}{lif\+\_\+read} (char $\ast$name, void $\ast$buf, long offset, int bytes)
\begin{DoxyCompactList}\small\item\em Read data from a L\+IF image File is closed after read W\+HY? We want time minimize file open to to avoid corruption on the S\+D\+C\+A\+RD. \end{DoxyCompactList}\item 
int \hyperlink{lifutils_8h_a6be20c8f3213656e828aae93b303d776}{lif\+\_\+write} (char $\ast$name, void $\ast$buf, long offset, int bytes)
\begin{DoxyCompactList}\small\item\em Write data to an L\+IF image File is closed, positioned to the end of file, after write Why? We want time minimize file open to to avoid corruption on the S\+D\+C\+A\+RD. \end{DoxyCompactList}\item 
int \hyperlink{lifutils_8h_a390b6787d7428e6c8492013b8c982fd9}{lif\+\_\+chars} (int c, int index)
\begin{DoxyCompactList}\small\item\em Check if characters in a L\+IF volume or L\+IF file name are valid. \end{DoxyCompactList}\item 
int \hyperlink{lifutils_8h_a6ef03363b9241a81bdd36c868ec93190}{lif\+\_\+\+B2S} (uint8\+\_\+t $\ast$B, uint8\+\_\+t $\ast$name, int size)
\begin{DoxyCompactList}\small\item\em Convert L\+IF space padded string name into normal string. \end{DoxyCompactList}\item 
int \hyperlink{lifutils_8h_a87df4549ffaf99f198cc8aa40923d1e8}{lif\+\_\+checkname} (char $\ast$name)
\begin{DoxyCompactList}\small\item\em Check that a IF volume name of directory name is valid. \end{DoxyCompactList}\item 
void \hyperlink{lifutils_8h_a3581f407fe6c5cbe6a5db361fe49d387}{lif\+\_\+\+S2B} (uint8\+\_\+t $\ast$B, uint8\+\_\+t $\ast$name, int size)
\begin{DoxyCompactList}\small\item\em string to L\+IF directory record \end{DoxyCompactList}\item 
int \hyperlink{lifutils_8h_a4526efb5e3517ff7bb83e6ac08e4c6b6}{lif\+\_\+fixname} (uint8\+\_\+t $\ast$B, char $\ast$name, int size)
\begin{DoxyCompactList}\small\item\em Convert a file name (unix/fat32) format into a valid L\+IF name Only use the \hyperlink{posix_8c_a4d3dfaf2f5a63e2e4eaa128477a9b5e7}{basename()} part of the string and remove any file name extentions L\+IF names may have only these characters\+: \mbox{[}A-\/Z\mbox{]}\mbox{[}A-\/\+Z0-\/09\+\_\+\mbox{]}+ L\+IF names are converted to upper case L\+IF names are padded at the end with spaces Any invalid input characters are converted into spaces. \end{DoxyCompactList}\item 
void \hyperlink{lifutils_8h_a81cbd76bc3329e319f318ec76e897766}{lif\+\_\+vol2str} (\hyperlink{structlif__t}{lif\+\_\+t} $\ast$L\+IF, uint8\+\_\+t $\ast$B)
\begin{DoxyCompactList}\small\item\em Convert volume part of L\+IF image into byte vector. \end{DoxyCompactList}\item 
void \hyperlink{lifutils_8h_a099711acdca654969f0b02029f41d19a}{lif\+\_\+str2vol} (uint8\+\_\+t $\ast$B, \hyperlink{structlif__t}{lif\+\_\+t} $\ast$L\+IF)
\begin{DoxyCompactList}\small\item\em Convert byte vector into volume part of L\+IF image. \end{DoxyCompactList}\item 
void \hyperlink{lifutils_8h_a31b9afe8b63649efbd1dfc90e5e1ee1a}{lif\+\_\+dir2str} (\hyperlink{structlif__t}{lif\+\_\+t} $\ast$L\+IF, uint8\+\_\+t $\ast$B)
\begin{DoxyCompactList}\small\item\em Convert current Directory Entry of L\+IF image into byte vector. \end{DoxyCompactList}\item 
void \hyperlink{lifutils_8h_a4db23fc40db0ebb7d0ce3e5ef2440e9a}{lif\+\_\+str2dir} (uint8\+\_\+t $\ast$B, \hyperlink{structlif__t}{lif\+\_\+t} $\ast$L\+IF)
\begin{DoxyCompactList}\small\item\em Convert byte vector into current Directory Entry of L\+IF image. \end{DoxyCompactList}\item 
uint8\+\_\+t \hyperlink{lifutils_8h_a68235d8edc4ac1583e77c90d16a877c8}{lif\+\_\+\+B\+I\+N2\+B\+CD} (uint8\+\_\+t data)
\begin{DoxyCompactList}\small\item\em Convert number $>$= 0 and $<$= 99 to B\+CD. \end{DoxyCompactList}\item 
void \hyperlink{lifutils_8h_af2e35296eec6eba5cb2d5c9964d0b738}{lif\+\_\+time2lif} (uint8\+\_\+t $\ast$bcd, \hyperlink{time_8h_a3346b04b0420b32ccf6b706551b70762}{time\+\_\+t} t)
\begin{DoxyCompactList}\small\item\em U\+N\+IX time to L\+IF time format. \end{DoxyCompactList}\item 
void \hyperlink{lifutils_8h_a58a5443fc260766e73f59d06516e5e30}{lif\+\_\+image\+\_\+clear} (\hyperlink{structlif__t}{lif\+\_\+t} $\ast$L\+IF)
\begin{DoxyCompactList}\small\item\em Clear main \hyperlink{structlif__t}{lif\+\_\+t} L\+IF structure. \end{DoxyCompactList}\item 
void \hyperlink{lifutils_8h_a9e74ac1fdbdd012b31544161b1c084a7}{lif\+\_\+dir\+\_\+clear} (\hyperlink{structlif__t}{lif\+\_\+t} $\ast$L\+IF)
\begin{DoxyCompactList}\small\item\em Clear \hyperlink{structlifdir__t}{lifdir\+\_\+t} \hyperlink{structDIR}{D\+IR} structure in L\+IF. \end{DoxyCompactList}\item 
void \hyperlink{lifutils_8h_aa2f79fdf61972e648bd2145e979f778b}{lif\+\_\+vol\+\_\+clear} (\hyperlink{structlif__t}{lif\+\_\+t} $\ast$L\+IF)
\begin{DoxyCompactList}\small\item\em Clear \hyperlink{structlifvol__t}{lifvol\+\_\+t} V structure in L\+IF. \end{DoxyCompactList}\item 
void \hyperlink{lifutils_8h_aeb216c02c5c83e589594f2f72f018193}{lif\+\_\+dump\+\_\+vol} (\hyperlink{structlif__t}{lif\+\_\+t} $\ast$L\+IF)
\item 
int \hyperlink{lifutils_8h_a207f12327fe375f0b5e5d9bea8dfeb79}{lif\+\_\+check\+\_\+volume} (\hyperlink{structlif__t}{lif\+\_\+t} $\ast$L\+IF)
\begin{DoxyCompactList}\small\item\em Check Volume Table. \end{DoxyCompactList}\item 
int \hyperlink{lifutils_8h_a5cfb09f51935c39b948f7b4740ab3b14}{lif\+\_\+check\+\_\+lif\+\_\+headers} (\hyperlink{structlif__t}{lif\+\_\+t} $\ast$L\+IF)
\begin{DoxyCompactList}\small\item\em Check L\+IF headers. \end{DoxyCompactList}\item 
int \hyperlink{lifutils_8h_aff400fb28ab8d6f2479a07153c5dee4d}{lif\+\_\+check\+\_\+dir} (\hyperlink{structlif__t}{lif\+\_\+t} $\ast$L\+IF)
\begin{DoxyCompactList}\small\item\em Validate Directory record We only do basic out of bounds tests for this record We do N\+OT not check these values agains data from other directory records Purged or E\+OF directory records are N\+OT checked and always return 1. \end{DoxyCompactList}\item 
\hyperlink{structlif__t}{lif\+\_\+t} $\ast$ \hyperlink{lifutils_8h_ae6e7d2c1cbf5cf6c2a7cb2da405b1e4a}{lif\+\_\+create\+\_\+volume} (char $\ast$imagename, char $\ast$liflabel, int dirstart, int dirsectors)
\begin{DoxyCompactList}\small\item\em Create a volume header. \end{DoxyCompactList}\item 
void \hyperlink{lifutils_8h_a3dad66b61744022e08019528ed18ac4f}{lif\+\_\+close\+\_\+volume} (\hyperlink{structlif__t}{lif\+\_\+t} $\ast$L\+IF)
\begin{DoxyCompactList}\small\item\em Free L\+IF structure. \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{lifutils_8h_a3683da69db9cc01b407a8f119250d9bb}{lif\+\_\+bytes2sectors} (uint32\+\_\+t bytes)
\begin{DoxyCompactList}\small\item\em Convert bytes into used sectors. \end{DoxyCompactList}\item 
void \hyperlink{lifutils_8h_a0e7257e84984a768184d0653e62a3f4d}{lif\+\_\+rewinddir} (\hyperlink{structlif__t}{lif\+\_\+t} $\ast$L\+IF)
\begin{DoxyCompactList}\small\item\em rewind L\+IF directory Note readdir pre increments the directory pointer index Modeled after Linux rewinddir() \end{DoxyCompactList}\item 
int \hyperlink{lifutils_8h_ad1b6761bd90266ce55c72b1b8e5f7c87}{lif\+\_\+closedir} (\hyperlink{structlif__t}{lif\+\_\+t} $\ast$L\+IF)
\begin{DoxyCompactList}\small\item\em Close L\+IF directory Modeled after Linux \hyperlink{posix_8c_aaeac2b41e8c2c3a5f91c9bd511a8c0a6}{closedir()} clear and free \hyperlink{structlif__t}{lif\+\_\+t} structure. \end{DoxyCompactList}\item 
int \hyperlink{lifutils_8h_a90d454e57a99a5987b8d6b6b80892061}{lif\+\_\+checkdirindex} (\hyperlink{structlif__t}{lif\+\_\+t} $\ast$L\+IF, int index)
\begin{DoxyCompactList}\small\item\em check if directory index is outside of directory limits \end{DoxyCompactList}\item 
int \hyperlink{lifutils_8h_ac1c11cf1213647b37d11d9fae782ee27}{lif\+\_\+readdirindex} (\hyperlink{structlif__t}{lif\+\_\+t} $\ast$L\+IF, int index)
\begin{DoxyCompactList}\small\item\em Read L\+IF directory record number N. \end{DoxyCompactList}\item 
int \hyperlink{lifutils_8h_a560dc5f5b402cb932d2bf75160eb19ca}{lif\+\_\+writedirindex} (\hyperlink{structlif__t}{lif\+\_\+t} $\ast$L\+IF, int index)
\begin{DoxyCompactList}\small\item\em Write L\+IF drectory record number N. \end{DoxyCompactList}\item 
int \hyperlink{lifutils_8h_a8e9da14a02220515367321c460ba46f8}{lif\+\_\+writedir\+E\+OF} (\hyperlink{structlif__t}{lif\+\_\+t} $\ast$L\+IF, int index)
\begin{DoxyCompactList}\small\item\em Write L\+IF drectory E\+OF. \end{DoxyCompactList}\item 
\hyperlink{structlifdir__t}{lifdir\+\_\+t} $\ast$ \hyperlink{lifutils_8h_a620a1a2fcb2f6f2e871fd8e4048d22db}{lif\+\_\+readdir} (\hyperlink{structlif__t}{lif\+\_\+t} $\ast$L\+IF)
\begin{DoxyCompactList}\small\item\em Read a directory record from a lif image and advance the directory index We skip all purged L\+IF directory records Modeled after Linux \hyperlink{posix_8c_a1508fedaef509d2976b43300306d1400}{readdir()} \end{DoxyCompactList}\item 
\hyperlink{structlif__t}{lif\+\_\+t} $\ast$ \hyperlink{lifutils_8h_a9d15283b814d839cafbb31676ed29478}{lif\+\_\+opendir} (char $\ast$name)
\begin{DoxyCompactList}\small\item\em Open L\+IF directory for reading Modeled after Linux \hyperlink{posix_8c_a19051b9081dfef221d9bf4583e935031}{opendir()} \end{DoxyCompactList}\item 
int \hyperlink{lifutils_8h_aca0a37c5d186a795d821d7c05c87dcc5}{lif\+\_\+dir} (char $\ast$lifimagename)
\begin{DoxyCompactList}\small\item\em Display a L\+IF image file directory. \end{DoxyCompactList}\item 
int \hyperlink{lifutils_8h_a32e2cc589a4daa849e348414c018b63d}{lif\+\_\+find\+\_\+file} (\hyperlink{structlif__t}{lif\+\_\+t} $\ast$L\+IF, char $\ast$username)
\begin{DoxyCompactList}\small\item\em Find a directory index for a file in a L\+IF image file. \end{DoxyCompactList}\item 
int \hyperlink{lifutils_8h_ad805abeac64ec242a010dd8a40a0c61d}{lif\+\_\+findfree\+\_\+dirindex} (\hyperlink{structlif__t}{lif\+\_\+t} $\ast$L\+IF, uint32\+\_\+t sectors)
\begin{DoxyCompactList}\small\item\em Find directory slot index that can hold $>$= sectors in size Unless a record is purged this will always be the last record We update the directory start and size values. \end{DoxyCompactList}\item 
int \hyperlink{lifutils_8h_a145aa87655446435755fd237facf5a20}{lif\+\_\+ascii\+\_\+string\+\_\+to\+\_\+e010} (\hyperlink{structlif__t}{lif\+\_\+t} $\ast$L\+IF, long offset, void $\ast$vptr)
\begin{DoxyCompactList}\small\item\em H\+P85 E010 A\+S\+C\+II L\+IF records have a 3 byte header ef \mbox{[}ff\mbox{]}$\ast$ = end of data in this sector (no size) , pad with ff\textquotesingle{}s optionally if there is room df size = string cf size = split accross sector end \char`\"{}6f size\char`\"{} at start of next sector but the 6f size bytes are not included in cf size! (yuck!) 6f size = split continue (always starts at sector boundry) df 00 00 ef \mbox{[}ff\mbox{]}$\ast$ = E\+OF (df size = 0) ef send of sector and optional padding size = 16 bits L\+SB M\+SB. \end{DoxyCompactList}\item 
long \hyperlink{lifutils_8h_adeb10fd30724906b6ea4a66f4618ef00}{lif\+\_\+add\+\_\+ascii\+\_\+file\+\_\+as\+\_\+e010\+\_\+wrapper} (char $\ast$name, uint32\+\_\+t offset, \hyperlink{structlif__t}{lif\+\_\+t} $\ast$L\+IF)
\begin{DoxyCompactList}\small\item\em Wrapper/helper to convert and add A\+S\+C\+II file to the L\+IF image as type E010 We must know the convered file size B\+E\+F\+O\+RE writting So we must call this function T\+W\+I\+CE 1) find out how big the converted file is (L\+IF is N\+U\+LL) 2) Specify where to put it (L\+IF is set) \end{DoxyCompactList}\item 
long \hyperlink{lifutils_8h_a4e11267b7e55857ae3a6bfa1525aa672}{lif\+\_\+add\+\_\+ascii\+\_\+file\+\_\+as\+\_\+e010} (char $\ast$lifimagename, char $\ast$lifname, char $\ast$userfile)
\begin{DoxyCompactList}\small\item\em Convert and add A\+S\+C\+II file to the L\+IF image as type E010 The basename of the lifname, without extensions, is used as the L\+IF file name. \end{DoxyCompactList}\item 
int \hyperlink{lifutils_8h_ab85d79f69fdc9f123a59e158ab53b5cc}{lif\+\_\+extract\+\_\+e010\+\_\+as\+\_\+ascii} (char $\ast$lifimagename, char $\ast$lifname, char $\ast$username)
\begin{DoxyCompactList}\small\item\em Extract a type E010 from L\+IF image and save as user A\+S\+C\+II file. \end{DoxyCompactList}\item 
int \hyperlink{lifutils_8h_af89e7ef5e53bcc329e75387fc46cdc8e}{lif\+\_\+extract\+\_\+lif\+\_\+file} (char $\ast$lifimagename, char $\ast$lifname, char $\ast$username)
\begin{DoxyCompactList}\small\item\em Extract a file as a single file L\+IF image. \end{DoxyCompactList}\item 
long \hyperlink{lifutils_8h_a3445344374b0cf50f9deb388493d260e}{lif\+\_\+add\+\_\+lif\+\_\+file} (char $\ast$lifimagename, char $\ast$lifname, char $\ast$userfile)
\begin{DoxyCompactList}\small\item\em Add a L\+IF binary image to the L\+IF image The basename of the lifname, without extensions, is used as the L\+IF file name. \end{DoxyCompactList}\item 
int \hyperlink{lifutils_8h_aec56d991a9336f73a2b5d439a4f77935}{lif\+\_\+del\+\_\+file} (char $\ast$lifimagename, char $\ast$lifname)
\begin{DoxyCompactList}\small\item\em Delete L\+IF file in L\+IF image. \end{DoxyCompactList}\item 
int \hyperlink{lifutils_8h_a5b44c50681c402af5beb60382e8abc99}{lif\+\_\+rename\+\_\+file} (char $\ast$lifimagename, char $\ast$oldlifname, char $\ast$newlifname)
\begin{DoxyCompactList}\small\item\em Rename L\+IF file in L\+IF image. \end{DoxyCompactList}\item 
long \hyperlink{lifutils_8h_a63bbf2c5f1f68c7a339cbc0dbcfaa255}{lif\+\_\+create\+\_\+image} (char $\ast$lifimagename, char $\ast$liflabel, uint32\+\_\+t dirsecs, uint32\+\_\+t sectors)
\begin{DoxyCompactList}\small\item\em Create/\+Format a L\+IF disk image This can take a while to run, about 1 min for 10,000,000 bytes. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{lifutils_8h_af219299ebad47daa6631415a8b41345a}{debuglevel}
\begin{DoxyCompactList}\small\item\em Debug flag -\/ used to log G\+P\+IB and emulator messages. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\index{lifutils.\+h@{lifutils.\+h}!L\+I\+F\+\_\+\+C\+H\+U\+N\+K\+\_\+\+S\+I\+ZE@{L\+I\+F\+\_\+\+C\+H\+U\+N\+K\+\_\+\+S\+I\+ZE}}
\index{L\+I\+F\+\_\+\+C\+H\+U\+N\+K\+\_\+\+S\+I\+ZE@{L\+I\+F\+\_\+\+C\+H\+U\+N\+K\+\_\+\+S\+I\+ZE}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{L\+I\+F\+\_\+\+C\+H\+U\+N\+K\+\_\+\+S\+I\+ZE}{LIF_CHUNK_SIZE}}]{\setlength{\rightskip}{0pt plus 5cm}\#define L\+I\+F\+\_\+\+C\+H\+U\+N\+K\+\_\+\+S\+I\+ZE~({\bf L\+I\+F\+\_\+\+S\+E\+C\+T\+O\+R\+\_\+\+S\+I\+ZE}$\ast${\bf L\+I\+F\+\_\+\+C\+H\+U\+N\+KS})}\hypertarget{lifutils_8h_a625b7a543a55b48e28ea93fbb61595eb}{}\label{lifutils_8h_a625b7a543a55b48e28ea93fbb61595eb}


Definition at line 36 of file lifutils.\+h.

\index{lifutils.\+h@{lifutils.\+h}!L\+I\+F\+\_\+\+C\+H\+U\+N\+KS@{L\+I\+F\+\_\+\+C\+H\+U\+N\+KS}}
\index{L\+I\+F\+\_\+\+C\+H\+U\+N\+KS@{L\+I\+F\+\_\+\+C\+H\+U\+N\+KS}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{L\+I\+F\+\_\+\+C\+H\+U\+N\+KS}{LIF_CHUNKS}}]{\setlength{\rightskip}{0pt plus 5cm}\#define L\+I\+F\+\_\+\+C\+H\+U\+N\+KS~16}\hypertarget{lifutils_8h_a7e7f4ebd8f31cd7f9dcb0e9758ef8f44}{}\label{lifutils_8h_a7e7f4ebd8f31cd7f9dcb0e9758ef8f44}


used for formatting 

When formatting a disk define how many sectors we can write at once 

Definition at line 35 of file lifutils.\+h.

\index{lifutils.\+h@{lifutils.\+h}!L\+I\+F\+\_\+\+D\+I\+R\+\_\+\+R\+E\+C\+O\+R\+D\+S\+\_\+\+P\+E\+R\+\_\+\+S\+E\+C\+T\+OR@{L\+I\+F\+\_\+\+D\+I\+R\+\_\+\+R\+E\+C\+O\+R\+D\+S\+\_\+\+P\+E\+R\+\_\+\+S\+E\+C\+T\+OR}}
\index{L\+I\+F\+\_\+\+D\+I\+R\+\_\+\+R\+E\+C\+O\+R\+D\+S\+\_\+\+P\+E\+R\+\_\+\+S\+E\+C\+T\+OR@{L\+I\+F\+\_\+\+D\+I\+R\+\_\+\+R\+E\+C\+O\+R\+D\+S\+\_\+\+P\+E\+R\+\_\+\+S\+E\+C\+T\+OR}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{L\+I\+F\+\_\+\+D\+I\+R\+\_\+\+R\+E\+C\+O\+R\+D\+S\+\_\+\+P\+E\+R\+\_\+\+S\+E\+C\+T\+OR}{LIF_DIR_RECORDS_PER_SECTOR}}]{\setlength{\rightskip}{0pt plus 5cm}\#define L\+I\+F\+\_\+\+D\+I\+R\+\_\+\+R\+E\+C\+O\+R\+D\+S\+\_\+\+P\+E\+R\+\_\+\+S\+E\+C\+T\+OR~({\bf L\+I\+F\+\_\+\+S\+E\+C\+T\+O\+R\+\_\+\+S\+I\+ZE}/{\bf L\+I\+F\+\_\+\+D\+I\+R\+\_\+\+S\+I\+ZE})}\hypertarget{lifutils_8h_aa1750b32056b8fbaa729724402d587f2}{}\label{lifutils_8h_aa1750b32056b8fbaa729724402d587f2}


Definition at line 31 of file lifutils.\+h.



Referenced by lif\+\_\+create\+\_\+volume().

\index{lifutils.\+h@{lifutils.\+h}!L\+I\+F\+\_\+\+D\+I\+R\+\_\+\+S\+I\+ZE@{L\+I\+F\+\_\+\+D\+I\+R\+\_\+\+S\+I\+ZE}}
\index{L\+I\+F\+\_\+\+D\+I\+R\+\_\+\+S\+I\+ZE@{L\+I\+F\+\_\+\+D\+I\+R\+\_\+\+S\+I\+ZE}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{L\+I\+F\+\_\+\+D\+I\+R\+\_\+\+S\+I\+ZE}{LIF_DIR_SIZE}}]{\setlength{\rightskip}{0pt plus 5cm}\#define L\+I\+F\+\_\+\+D\+I\+R\+\_\+\+S\+I\+ZE~32}\hypertarget{lifutils_8h_a99ad70dd3200a3ee46388bc2c36fe720}{}\label{lifutils_8h_a99ad70dd3200a3ee46388bc2c36fe720}


L\+IF directory entry size. 



Definition at line 30 of file lifutils.\+h.



Referenced by lif\+\_\+checkdirindex(), lif\+\_\+readdirindex(), and lif\+\_\+writedirindex().

\index{lifutils.\+h@{lifutils.\+h}!L\+I\+F\+\_\+\+I\+M\+A\+G\+E\+\_\+\+N\+A\+M\+E\+\_\+\+S\+I\+ZE@{L\+I\+F\+\_\+\+I\+M\+A\+G\+E\+\_\+\+N\+A\+M\+E\+\_\+\+S\+I\+ZE}}
\index{L\+I\+F\+\_\+\+I\+M\+A\+G\+E\+\_\+\+N\+A\+M\+E\+\_\+\+S\+I\+ZE@{L\+I\+F\+\_\+\+I\+M\+A\+G\+E\+\_\+\+N\+A\+M\+E\+\_\+\+S\+I\+ZE}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{L\+I\+F\+\_\+\+I\+M\+A\+G\+E\+\_\+\+N\+A\+M\+E\+\_\+\+S\+I\+ZE}{LIF_IMAGE_NAME_SIZE}}]{\setlength{\rightskip}{0pt plus 5cm}\#define L\+I\+F\+\_\+\+I\+M\+A\+G\+E\+\_\+\+N\+A\+M\+E\+\_\+\+S\+I\+ZE~64}\hypertarget{lifutils_8h_a8cfa79b094fc3a5db37b26761a639e6d}{}\label{lifutils_8h_a8cfa79b094fc3a5db37b26761a639e6d}


size of image file name size used by lif\+\_\+format() 



Definition at line 25 of file lifutils.\+h.



Referenced by lif\+\_\+create\+\_\+volume(), and lif\+\_\+opendir().

\index{lifutils.\+h@{lifutils.\+h}!L\+I\+F\+\_\+\+S\+E\+C\+T\+O\+R\+\_\+\+S\+I\+ZE@{L\+I\+F\+\_\+\+S\+E\+C\+T\+O\+R\+\_\+\+S\+I\+ZE}}
\index{L\+I\+F\+\_\+\+S\+E\+C\+T\+O\+R\+\_\+\+S\+I\+ZE@{L\+I\+F\+\_\+\+S\+E\+C\+T\+O\+R\+\_\+\+S\+I\+ZE}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{L\+I\+F\+\_\+\+S\+E\+C\+T\+O\+R\+\_\+\+S\+I\+ZE}{LIF_SECTOR_SIZE}}]{\setlength{\rightskip}{0pt plus 5cm}\#define L\+I\+F\+\_\+\+S\+E\+C\+T\+O\+R\+\_\+\+S\+I\+ZE~256}\hypertarget{lifutils_8h_a9f32d2537f4daba6a314185cf52b7e56}{}\label{lifutils_8h_a9f32d2537f4daba6a314185cf52b7e56}


Depends on how much free ram we have. 



Definition at line 28 of file lifutils.\+h.



Referenced by lif\+\_\+add\+\_\+ascii\+\_\+file\+\_\+as\+\_\+e010(), lif\+\_\+add\+\_\+ascii\+\_\+file\+\_\+as\+\_\+e010\+\_\+wrapper(), lif\+\_\+add\+\_\+lif\+\_\+file(), lif\+\_\+bytes2sectors(), lif\+\_\+check\+\_\+dir(), lif\+\_\+create\+\_\+image(), lif\+\_\+create\+\_\+volume(), lif\+\_\+dir(), lif\+\_\+extract\+\_\+e010\+\_\+as\+\_\+ascii(), lif\+\_\+extract\+\_\+lif\+\_\+file(), lif\+\_\+findfree\+\_\+dirindex(), lif\+\_\+opendir(), lif\+\_\+readdirindex(), and lif\+\_\+writedirindex().



\subsection{Typedef Documentation}
\index{lifutils.\+h@{lifutils.\+h}!stat\+\_\+t@{stat\+\_\+t}}
\index{stat\+\_\+t@{stat\+\_\+t}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{stat\+\_\+t}{stat_t}}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf stat} {\bf stat\+\_\+t}}\hypertarget{lifutils_8h_aebb3d0e746d3aa086e0baa48ad66b964}{}\label{lifutils_8h_aebb3d0e746d3aa086e0baa48ad66b964}


Definition at line 22 of file lifutils.\+h.



\subsection{Function Documentation}
\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+add\+\_\+ascii\+\_\+file\+\_\+as\+\_\+e010@{lif\+\_\+add\+\_\+ascii\+\_\+file\+\_\+as\+\_\+e010}}
\index{lif\+\_\+add\+\_\+ascii\+\_\+file\+\_\+as\+\_\+e010@{lif\+\_\+add\+\_\+ascii\+\_\+file\+\_\+as\+\_\+e010}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+add\+\_\+ascii\+\_\+file\+\_\+as\+\_\+e010(char $\ast$lifimagename, char $\ast$lifname, char $\ast$userfile)}{lif_add_ascii_file_as_e010(char *lifimagename, char *lifname, char *userfile)}}]{\setlength{\rightskip}{0pt plus 5cm}long lif\+\_\+add\+\_\+ascii\+\_\+file\+\_\+as\+\_\+e010 (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{lifimagename, }
\item[{char $\ast$}]{lifname, }
\item[{char $\ast$}]{userfile}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a4e11267b7e55857ae3a6bfa1525aa672}{}\label{lifutils_8h_a4e11267b7e55857ae3a6bfa1525aa672}


Convert and add A\+S\+C\+II file to the L\+IF image as type E010 The basename of the lifname, without extensions, is used as the L\+IF file name. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em lifimagename} & L\+IF image name \\
\hline
\mbox{\tt in}  & {\em lifname} & L\+IF file name \\
\hline
\mbox{\tt in}  & {\em userfile} & userfile name \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
size of data written into to L\+IF image, or -\/1 on error 
\end{DoxyReturn}


Definition at line 1576 of file lifutils.\+c.



Referenced by lif\+\_\+tests().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+add\+\_\+ascii\+\_\+file\+\_\+as\+\_\+e010\+\_\+wrapper@{lif\+\_\+add\+\_\+ascii\+\_\+file\+\_\+as\+\_\+e010\+\_\+wrapper}}
\index{lif\+\_\+add\+\_\+ascii\+\_\+file\+\_\+as\+\_\+e010\+\_\+wrapper@{lif\+\_\+add\+\_\+ascii\+\_\+file\+\_\+as\+\_\+e010\+\_\+wrapper}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+add\+\_\+ascii\+\_\+file\+\_\+as\+\_\+e010\+\_\+wrapper(char $\ast$name, uint32\+\_\+t offset, lif\+\_\+t $\ast$\+L\+I\+F)}{lif_add_ascii_file_as_e010_wrapper(char *name, uint32_t offset, lif_t *LIF)}}]{\setlength{\rightskip}{0pt plus 5cm}long lif\+\_\+add\+\_\+ascii\+\_\+file\+\_\+as\+\_\+e010\+\_\+wrapper (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{name, }
\item[{uint32\+\_\+t}]{offset, }
\item[{{\bf lif\+\_\+t} $\ast$}]{L\+IF}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_adeb10fd30724906b6ea4a66f4618ef00}{}\label{lifutils_8h_adeb10fd30724906b6ea4a66f4618ef00}


Wrapper/helper to convert and add A\+S\+C\+II file to the L\+IF image as type E010 We must know the convered file size B\+E\+F\+O\+RE writting So we must call this function T\+W\+I\+CE 1) find out how big the converted file is (L\+IF is N\+U\+LL) 2) Specify where to put it (L\+IF is set) 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em userfile} & User A\+S\+C\+II file source \\
\hline
\mbox{\tt in}  & {\em $\ast$\+L\+IF} & Where to write file if set (not N\+U\+LL) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
size of L\+IF image in bytes, or -\/1 on error 
\end{DoxyReturn}


Definition at line 1484 of file lifutils.\+c.



Referenced by lif\+\_\+add\+\_\+ascii\+\_\+file\+\_\+as\+\_\+e010().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+add\+\_\+lif\+\_\+file@{lif\+\_\+add\+\_\+lif\+\_\+file}}
\index{lif\+\_\+add\+\_\+lif\+\_\+file@{lif\+\_\+add\+\_\+lif\+\_\+file}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+add\+\_\+lif\+\_\+file(char $\ast$lifimagename, char $\ast$lifname, char $\ast$userfile)}{lif_add_lif_file(char *lifimagename, char *lifname, char *userfile)}}]{\setlength{\rightskip}{0pt plus 5cm}long lif\+\_\+add\+\_\+lif\+\_\+file (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{lifimagename, }
\item[{char $\ast$}]{lifname, }
\item[{char $\ast$}]{userfile}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a3445344374b0cf50f9deb388493d260e}{}\label{lifutils_8h_a3445344374b0cf50f9deb388493d260e}


Add a L\+IF binary image to the L\+IF image The basename of the lifname, without extensions, is used as the L\+IF file name. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em lifimagename} & L\+IF image name \\
\hline
\mbox{\tt in}  & {\em lifname} & L\+IF file name \\
\hline
\mbox{\tt in}  & {\em userfile} & userfile name \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
size of data written into to L\+IF image, or -\/1 on error 
\end{DoxyReturn}


Definition at line 1939 of file lifutils.\+c.



Referenced by lif\+\_\+tests().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+ascii\+\_\+string\+\_\+to\+\_\+e010@{lif\+\_\+ascii\+\_\+string\+\_\+to\+\_\+e010}}
\index{lif\+\_\+ascii\+\_\+string\+\_\+to\+\_\+e010@{lif\+\_\+ascii\+\_\+string\+\_\+to\+\_\+e010}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+ascii\+\_\+string\+\_\+to\+\_\+e010(lif\+\_\+t $\ast$\+L\+I\+F, long offset, void $\ast$vptr)}{lif_ascii_string_to_e010(lif_t *LIF, long offset, void *vptr)}}]{\setlength{\rightskip}{0pt plus 5cm}int lif\+\_\+ascii\+\_\+string\+\_\+to\+\_\+e010 (
\begin{DoxyParamCaption}
\item[{{\bf lif\+\_\+t} $\ast$}]{L\+IF, }
\item[{long}]{offset, }
\item[{void $\ast$}]{vptr}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a145aa87655446435755fd237facf5a20}{}\label{lifutils_8h_a145aa87655446435755fd237facf5a20}


H\+P85 E010 A\+S\+C\+II L\+IF records have a 3 byte header ef \mbox{[}ff\mbox{]}$\ast$ = end of data in this sector (no size) , pad with ff\textquotesingle{}s optionally if there is room df size = string cf size = split accross sector end \char`\"{}6f size\char`\"{} at start of next sector but the 6f size bytes are not included in cf size! (yuck!) 6f size = split continue (always starts at sector boundry) df 00 00 ef \mbox{[}ff\mbox{]}$\ast$ = E\+OF (df size = 0) ef send of sector and optional padding size = 16 bits L\+SB M\+SB. 

Example\+: 000080e0 \+: 4b 7c 22 0d cf 29 00 31 34 20 44 49 53 50 20 22 \+: K$\vert$\char`\"{}..).\+14 D\+I\+S\+P \char`\"{} 000080f0 \+: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 5f \+: \+\_\+ 00008100 \+: 6f 10 00 5f 5f 5f 5f 5f 5f 5f 5f 5f 5f 5f 5f 5f \+: o..\+\_\+\+\_\+\+\_\+\+\_\+\+\_\+\+\_\+\+\_\+\+\_\+\+\_\+\+\_\+\+\_\+\+\_\+\+\_\+ 00008110 \+: 5f 22 0d df 2b 00 31 35 20 44 49 53 50 20 22 20 \+: \+\_\+\char`\"{}..+.\+15 D\+I\+S\+P \char`\"{}

cf 29 00 (19 is to sector end) (new sector start with 6F 10 00 (10 is remainder) So 29 = 19 and 10 (yuck!)Convert an A\+S\+C\+II string and write in E)10 format to L\+IF image When L\+IF is null we do not write, just compute the write size 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em L\+IF} & L\+IF image file sructure \\
\hline
\mbox{\tt in}  & {\em offset} & offset to write to \\
\hline
\mbox{\tt in}  & {\em str} & A\+S\+C\+II string to write \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
bytes written, -\/1 on error 
\end{DoxyReturn}


Definition at line 1354 of file lifutils.\+c.



Referenced by lif\+\_\+add\+\_\+ascii\+\_\+file\+\_\+as\+\_\+e010\+\_\+wrapper(), and lif\+\_\+findfree\+\_\+dirindex().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+\+B2S@{lif\+\_\+\+B2S}}
\index{lif\+\_\+\+B2S@{lif\+\_\+\+B2S}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+\+B2\+S(uint8\+\_\+t $\ast$\+B, uint8\+\_\+t $\ast$name, int size)}{lif_B2S(uint8_t *B, uint8_t *name, int size)}}]{\setlength{\rightskip}{0pt plus 5cm}int lif\+\_\+\+B2S (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t $\ast$}]{B, }
\item[{uint8\+\_\+t $\ast$}]{name, }
\item[{int}]{size}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a6ef03363b9241a81bdd36c868ec93190}{}\label{lifutils_8h_a6ef03363b9241a81bdd36c868ec93190}


Convert L\+IF space padded string name into normal string. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em $\ast$B} & L\+IF name space padded \\
\hline
\mbox{\tt out}  & {\em $\ast$name} & string result with traling spaces removed  1 if string i ok or 0 if bad characters were found \\
\hline
\end{DoxyParams}


Definition at line 363 of file lifutils.\+c.



Referenced by lif\+\_\+str2dir(), and lif\+\_\+str2vol().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+\+B\+I\+N2\+B\+CD@{lif\+\_\+\+B\+I\+N2\+B\+CD}}
\index{lif\+\_\+\+B\+I\+N2\+B\+CD@{lif\+\_\+\+B\+I\+N2\+B\+CD}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+\+B\+I\+N2\+B\+C\+D(uint8\+\_\+t data)}{lif_BIN2BCD(uint8_t data)}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t lif\+\_\+\+B\+I\+N2\+B\+CD (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t}]{data}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a68235d8edc4ac1583e77c90d16a877c8}{}\label{lifutils_8h_a68235d8edc4ac1583e77c90d16a877c8}


Convert number $>$= 0 and $<$= 99 to B\+CD. 


\begin{DoxyItemize}
\item B\+CD format has each hex nibble has a digit 0 .. 9
\end{DoxyItemize}


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em data} & number to convert. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
B\+CD value 
\end{DoxyReturn}
\begin{DoxyWarning}{Warning}
we assume the number is in range. 
\end{DoxyWarning}


Definition at line 531 of file lifutils.\+c.



Referenced by lif\+\_\+time2lif().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+bytes2sectors@{lif\+\_\+bytes2sectors}}
\index{lif\+\_\+bytes2sectors@{lif\+\_\+bytes2sectors}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+bytes2sectors(uint32\+\_\+t bytes)}{lif_bytes2sectors(uint32_t bytes)}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t lif\+\_\+bytes2sectors (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{bytes}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a3683da69db9cc01b407a8f119250d9bb}{}\label{lifutils_8h_a3683da69db9cc01b407a8f119250d9bb}


Convert bytes into used sectors. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em bytes} & size in bytes \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
sectors 
\end{DoxyReturn}


Definition at line 883 of file lifutils.\+c.



Referenced by lif\+\_\+add\+\_\+ascii\+\_\+file\+\_\+as\+\_\+e010(), lif\+\_\+check\+\_\+dir(), lif\+\_\+checkdirindex(), lif\+\_\+extract\+\_\+e010\+\_\+as\+\_\+ascii(), and lif\+\_\+opendir().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+chars@{lif\+\_\+chars}}
\index{lif\+\_\+chars@{lif\+\_\+chars}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+chars(int c, int index)}{lif_chars(int c, int index)}}]{\setlength{\rightskip}{0pt plus 5cm}int lif\+\_\+chars (
\begin{DoxyParamCaption}
\item[{int}]{c, }
\item[{int}]{index}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a390b6787d7428e6c8492013b8c982fd9}{}\label{lifutils_8h_a390b6787d7428e6c8492013b8c982fd9}


Check if characters in a L\+IF volume or L\+IF file name are valid. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em c} & character to test \\
\hline
\mbox{\tt in}  & {\em index} & index of character in volume or file name  c (optionally upper cased) or 0 if no match \\
\hline
\end{DoxyParams}


Definition at line 344 of file lifutils.\+c.



Referenced by lif\+\_\+\+B2\+S(), lif\+\_\+checkname(), and lif\+\_\+fixname().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+check\+\_\+dir@{lif\+\_\+check\+\_\+dir}}
\index{lif\+\_\+check\+\_\+dir@{lif\+\_\+check\+\_\+dir}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+check\+\_\+dir(lif\+\_\+t $\ast$\+L\+I\+F)}{lif_check_dir(lif_t *LIF)}}]{\setlength{\rightskip}{0pt plus 5cm}int lif\+\_\+check\+\_\+dir (
\begin{DoxyParamCaption}
\item[{{\bf lif\+\_\+t} $\ast$}]{L\+IF}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_aff400fb28ab8d6f2479a07153c5dee4d}{}\label{lifutils_8h_aff400fb28ab8d6f2479a07153c5dee4d}


Validate Directory record We only do basic out of bounds tests for this record We do N\+OT not check these values agains data from other directory records Purged or E\+OF directory records are N\+OT checked and always return 1. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em $\ast$\+L\+IF} & Image structure \\
\hline
\mbox{\tt in}  & {\em debug} & dispaly diagostice messages \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 of ok, 0 on eeror 
\end{DoxyReturn}


Definition at line 713 of file lifutils.\+c.



Referenced by lif\+\_\+readdirindex(), and lif\+\_\+writedirindex().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+check\+\_\+lif\+\_\+headers@{lif\+\_\+check\+\_\+lif\+\_\+headers}}
\index{lif\+\_\+check\+\_\+lif\+\_\+headers@{lif\+\_\+check\+\_\+lif\+\_\+headers}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+check\+\_\+lif\+\_\+headers(lif\+\_\+t $\ast$\+L\+I\+F)}{lif_check_lif_headers(lif_t *LIF)}}]{\setlength{\rightskip}{0pt plus 5cm}int lif\+\_\+check\+\_\+lif\+\_\+headers (
\begin{DoxyParamCaption}
\item[{{\bf lif\+\_\+t} $\ast$}]{L\+IF}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a5cfb09f51935c39b948f7b4740ab3b14}{}\label{lifutils_8h_a5cfb09f51935c39b948f7b4740ab3b14}


Check L\+IF headers. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em $\ast$\+L\+IF} & Image structure \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 of ok, 0 on eeror 
\end{DoxyReturn}


Definition at line 665 of file lifutils.\+c.



Referenced by lif\+\_\+opendir().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+check\+\_\+volume@{lif\+\_\+check\+\_\+volume}}
\index{lif\+\_\+check\+\_\+volume@{lif\+\_\+check\+\_\+volume}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+check\+\_\+volume(lif\+\_\+t $\ast$\+L\+I\+F)}{lif_check_volume(lif_t *LIF)}}]{\setlength{\rightskip}{0pt plus 5cm}int lif\+\_\+check\+\_\+volume (
\begin{DoxyParamCaption}
\item[{{\bf lif\+\_\+t} $\ast$}]{L\+IF}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a207f12327fe375f0b5e5d9bea8dfeb79}{}\label{lifutils_8h_a207f12327fe375f0b5e5d9bea8dfeb79}


Check Volume Table. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em $\ast$\+L\+IF} & Image structure \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 of ok, 0 on eeror 
\end{DoxyReturn}


Definition at line 610 of file lifutils.\+c.



Referenced by lif\+\_\+opendir().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+checkdirindex@{lif\+\_\+checkdirindex}}
\index{lif\+\_\+checkdirindex@{lif\+\_\+checkdirindex}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+checkdirindex(lif\+\_\+t $\ast$\+L\+I\+F, int index)}{lif_checkdirindex(lif_t *LIF, int index)}}]{\setlength{\rightskip}{0pt plus 5cm}int lif\+\_\+checkdirindex (
\begin{DoxyParamCaption}
\item[{{\bf lif\+\_\+t} $\ast$}]{L\+IF, }
\item[{int}]{index}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a90d454e57a99a5987b8d6b6b80892061}{}\label{lifutils_8h_a90d454e57a99a5987b8d6b6b80892061}


check if directory index is outside of directory limits 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em $\ast$\+L\+IF} & L\+IF Volume/\+Diractoy structure \\
\hline
\mbox{\tt in}  & {\em index} & directory index \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 inside, 0 outside 
\end{DoxyReturn}


Definition at line 922 of file lifutils.\+c.



Referenced by lif\+\_\+readdirindex(), and lif\+\_\+writedirindex().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+checkname@{lif\+\_\+checkname}}
\index{lif\+\_\+checkname@{lif\+\_\+checkname}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+checkname(char $\ast$name)}{lif_checkname(char *name)}}]{\setlength{\rightskip}{0pt plus 5cm}int lif\+\_\+checkname (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{name}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a87df4549ffaf99f198cc8aa40923d1e8}{}\label{lifutils_8h_a87df4549ffaf99f198cc8aa40923d1e8}


Check that a IF volume name of directory name is valid. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em $\ast$name} & name to test  1 if the string is ok or 0 if invalid L\+IF name characters on input string \\
\hline
\end{DoxyParams}


Definition at line 382 of file lifutils.\+c.



Referenced by lif\+\_\+check\+\_\+dir(), lif\+\_\+check\+\_\+volume(), lif\+\_\+find\+\_\+file(), and lif\+\_\+rename\+\_\+file().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+close\+\_\+volume@{lif\+\_\+close\+\_\+volume}}
\index{lif\+\_\+close\+\_\+volume@{lif\+\_\+close\+\_\+volume}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+close\+\_\+volume(lif\+\_\+t $\ast$\+L\+I\+F)}{lif_close_volume(lif_t *LIF)}}]{\setlength{\rightskip}{0pt plus 5cm}void lif\+\_\+close\+\_\+volume (
\begin{DoxyParamCaption}
\item[{{\bf lif\+\_\+t} $\ast$}]{L\+IF}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a3dad66b61744022e08019528ed18ac4f}{}\label{lifutils_8h_a3dad66b61744022e08019528ed18ac4f}


Free L\+IF structure. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em $\ast$\+L\+IF} & pointer to L\+IF Volume/\+Directoy structure \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line 869 of file lifutils.\+c.



Referenced by lif\+\_\+closedir(), lif\+\_\+create\+\_\+image(), and lif\+\_\+create\+\_\+volume().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+closedir@{lif\+\_\+closedir}}
\index{lif\+\_\+closedir@{lif\+\_\+closedir}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+closedir(lif\+\_\+t $\ast$\+L\+I\+F)}{lif_closedir(lif_t *LIF)}}]{\setlength{\rightskip}{0pt plus 5cm}int lif\+\_\+closedir (
\begin{DoxyParamCaption}
\item[{{\bf lif\+\_\+t} $\ast$}]{L\+IF}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_ad1b6761bd90266ce55c72b1b8e5f7c87}{}\label{lifutils_8h_ad1b6761bd90266ce55c72b1b8e5f7c87}


Close L\+IF directory Modeled after Linux \hyperlink{posix_8c_aaeac2b41e8c2c3a5f91c9bd511a8c0a6}{closedir()} clear and free \hyperlink{structlif__t}{lif\+\_\+t} structure. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em $\ast$\+L\+IF} & pointer to L\+IF Volume/\+Directoy structure \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on sucesss, -\/1 on error 
\end{DoxyReturn}


Definition at line 908 of file lifutils.\+c.



Referenced by lif\+\_\+add\+\_\+ascii\+\_\+file\+\_\+as\+\_\+e010(), lif\+\_\+add\+\_\+lif\+\_\+file(), lif\+\_\+del\+\_\+file(), lif\+\_\+dir(), lif\+\_\+extract\+\_\+e010\+\_\+as\+\_\+ascii(), lif\+\_\+extract\+\_\+lif\+\_\+file(), lif\+\_\+opendir(), and lif\+\_\+rename\+\_\+file().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+create\+\_\+image@{lif\+\_\+create\+\_\+image}}
\index{lif\+\_\+create\+\_\+image@{lif\+\_\+create\+\_\+image}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+create\+\_\+image(char $\ast$lifimagename, char $\ast$liflabel, uint32\+\_\+t dirsecs, uint32\+\_\+t sectors)}{lif_create_image(char *lifimagename, char *liflabel, uint32_t dirsecs, uint32_t sectors)}}]{\setlength{\rightskip}{0pt plus 5cm}long lif\+\_\+create\+\_\+image (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{lifimagename, }
\item[{char $\ast$}]{liflabel, }
\item[{uint32\+\_\+t}]{dirsecs, }
\item[{uint32\+\_\+t}]{sectors}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a63bbf2c5f1f68c7a339cbc0dbcfaa255}{}\label{lifutils_8h_a63bbf2c5f1f68c7a339cbc0dbcfaa255}


Create/\+Format a L\+IF disk image This can take a while to run, about 1 min for 10,000,000 bytes. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em lifimagename} & L\+IF disk image name \\
\hline
\mbox{\tt in}  & {\em liflabel} & L\+IF Volume Label name \\
\hline
\mbox{\tt in}  & {\em dirsecs} & Number of L\+IF directory sectors \\
\hline
\mbox{\tt in}  & {\em sectors} & total disk image size in sectors \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
bytes writting to disk image 
\end{DoxyReturn}
Zero out remining disk image 

Definition at line 2176 of file lifutils.\+c.



Referenced by format\+\_\+drives(), and lif\+\_\+tests().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+create\+\_\+volume@{lif\+\_\+create\+\_\+volume}}
\index{lif\+\_\+create\+\_\+volume@{lif\+\_\+create\+\_\+volume}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+create\+\_\+volume(char $\ast$imagename, char $\ast$liflabel, int dirstart, int dirsectors)}{lif_create_volume(char *imagename, char *liflabel, int dirstart, int dirsectors)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf lif\+\_\+t}$\ast$ lif\+\_\+create\+\_\+volume (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{imagename, }
\item[{char $\ast$}]{liflabel, }
\item[{int}]{dirstart, }
\item[{int}]{dirsectors}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_ae6e7d2c1cbf5cf6c2a7cb2da405b1e4a}{}\label{lifutils_8h_ae6e7d2c1cbf5cf6c2a7cb2da405b1e4a}


Create a volume header. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em imagename} & Image name \\
\hline
\mbox{\tt in}  & {\em liflabel} & Volume Label \\
\hline
\mbox{\tt in}  & {\em dirstart} & Directory start sector \\
\hline
\mbox{\tt in}  & {\em dirsectors} & Directory sectors \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
Current Date 

Definition at line 785 of file lifutils.\+c.



Referenced by lif\+\_\+create\+\_\+image(), and lif\+\_\+extract\+\_\+lif\+\_\+file().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+del\+\_\+file@{lif\+\_\+del\+\_\+file}}
\index{lif\+\_\+del\+\_\+file@{lif\+\_\+del\+\_\+file}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+del\+\_\+file(char $\ast$lifimagename, char $\ast$lifname)}{lif_del_file(char *lifimagename, char *lifname)}}]{\setlength{\rightskip}{0pt plus 5cm}int lif\+\_\+del\+\_\+file (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{lifimagename, }
\item[{char $\ast$}]{lifname}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_aec56d991a9336f73a2b5d439a4f77935}{}\label{lifutils_8h_aec56d991a9336f73a2b5d439a4f77935}


Delete L\+IF file in L\+IF image. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em lifimagename} & L\+IF image name \\
\hline
\mbox{\tt in}  & {\em lifname} & L\+IF file name \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 if deleted, 0 if not found, -\/1 error 
\end{DoxyReturn}


Definition at line 2060 of file lifutils.\+c.



Referenced by lif\+\_\+tests().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+dir@{lif\+\_\+dir}}
\index{lif\+\_\+dir@{lif\+\_\+dir}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+dir(char $\ast$lifimagename)}{lif_dir(char *lifimagename)}}]{\setlength{\rightskip}{0pt plus 5cm}int lif\+\_\+dir (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{lifimagename}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_aca0a37c5d186a795d821d7c05c87dcc5}{}\label{lifutils_8h_aca0a37c5d186a795d821d7c05c87dcc5}


Display a L\+IF image file directory. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em lifimagename} & L\+IF disk image name \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
-\/1 on error or number of files found 
\end{DoxyReturn}


Definition at line 1161 of file lifutils.\+c.



Referenced by lif\+\_\+tests().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+dir2str@{lif\+\_\+dir2str}}
\index{lif\+\_\+dir2str@{lif\+\_\+dir2str}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+dir2str(lif\+\_\+t $\ast$\+L\+I\+F, uint8\+\_\+t $\ast$\+B)}{lif_dir2str(lif_t *LIF, uint8_t *B)}}]{\setlength{\rightskip}{0pt plus 5cm}void lif\+\_\+dir2str (
\begin{DoxyParamCaption}
\item[{{\bf lif\+\_\+t} $\ast$}]{L\+IF, }
\item[{uint8\+\_\+t $\ast$}]{B}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a31b9afe8b63649efbd1dfc90e5e1ee1a}{}\label{lifutils_8h_a31b9afe8b63649efbd1dfc90e5e1ee1a}


Convert current Directory Entry of L\+IF image into byte vector. 


\begin{DoxyParams}{Parameters}
{\em } & \\
\hline
\end{DoxyParams}


Definition at line 496 of file lifutils.\+c.



Referenced by lif\+\_\+writedirindex().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+dir\+\_\+clear@{lif\+\_\+dir\+\_\+clear}}
\index{lif\+\_\+dir\+\_\+clear@{lif\+\_\+dir\+\_\+clear}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+dir\+\_\+clear(lif\+\_\+t $\ast$\+L\+I\+F)}{lif_dir_clear(lif_t *LIF)}}]{\setlength{\rightskip}{0pt plus 5cm}void lif\+\_\+dir\+\_\+clear (
\begin{DoxyParamCaption}
\item[{{\bf lif\+\_\+t} $\ast$}]{L\+IF}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a9e74ac1fdbdd012b31544161b1c084a7}{}\label{lifutils_8h_a9e74ac1fdbdd012b31544161b1c084a7}


Clear \hyperlink{structlifdir__t}{lifdir\+\_\+t} \hyperlink{structDIR}{D\+IR} structure in L\+IF. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em $\ast$\+L\+IF} & pointer to L\+IF structure \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line 567 of file lifutils.\+c.



Referenced by lif\+\_\+writedir\+E\+O\+F().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+dump\+\_\+vol@{lif\+\_\+dump\+\_\+vol}}
\index{lif\+\_\+dump\+\_\+vol@{lif\+\_\+dump\+\_\+vol}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+dump\+\_\+vol(lif\+\_\+t $\ast$\+L\+I\+F)}{lif_dump_vol(lif_t *LIF)}}]{\setlength{\rightskip}{0pt plus 5cm}void lif\+\_\+dump\+\_\+vol (
\begin{DoxyParamCaption}
\item[{{\bf lif\+\_\+t} $\ast$}]{L\+IF}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_aeb216c02c5c83e589594f2f72f018193}{}\label{lifutils_8h_aeb216c02c5c83e589594f2f72f018193}


Definition at line 580 of file lifutils.\+c.



Referenced by lif\+\_\+create\+\_\+volume(), lif\+\_\+opendir(), lif\+\_\+readdirindex(), and lif\+\_\+writedirindex().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+extract\+\_\+e010\+\_\+as\+\_\+ascii@{lif\+\_\+extract\+\_\+e010\+\_\+as\+\_\+ascii}}
\index{lif\+\_\+extract\+\_\+e010\+\_\+as\+\_\+ascii@{lif\+\_\+extract\+\_\+e010\+\_\+as\+\_\+ascii}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+extract\+\_\+e010\+\_\+as\+\_\+ascii(char $\ast$lifimagename, char $\ast$lifname, char $\ast$username)}{lif_extract_e010_as_ascii(char *lifimagename, char *lifname, char *username)}}]{\setlength{\rightskip}{0pt plus 5cm}int lif\+\_\+extract\+\_\+e010\+\_\+as\+\_\+ascii (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{lifimagename, }
\item[{char $\ast$}]{lifname, }
\item[{char $\ast$}]{username}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_ab85d79f69fdc9f123a59e158ab53b5cc}{}\label{lifutils_8h_ab85d79f69fdc9f123a59e158ab53b5cc}


Extract a type E010 from L\+IF image and save as user A\+S\+C\+II file. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em lifimagename} & L\+IF disk image name \\
\hline
\mbox{\tt in}  & {\em lifname} & name of file in L\+IF image \\
\hline
\mbox{\tt in}  & {\em username} & name to call the extracted image \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 on sucess or 0 on error 
\end{DoxyReturn}


Definition at line 1679 of file lifutils.\+c.



Referenced by lif\+\_\+tests().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+extract\+\_\+lif\+\_\+file@{lif\+\_\+extract\+\_\+lif\+\_\+file}}
\index{lif\+\_\+extract\+\_\+lif\+\_\+file@{lif\+\_\+extract\+\_\+lif\+\_\+file}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+extract\+\_\+lif\+\_\+file(char $\ast$lifimagename, char $\ast$lifname, char $\ast$username)}{lif_extract_lif_file(char *lifimagename, char *lifname, char *username)}}]{\setlength{\rightskip}{0pt plus 5cm}int lif\+\_\+extract\+\_\+lif\+\_\+file (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{lifimagename, }
\item[{char $\ast$}]{lifname, }
\item[{char $\ast$}]{username}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_af89e7ef5e53bcc329e75387fc46cdc8e}{}\label{lifutils_8h_af89e7ef5e53bcc329e75387fc46cdc8e}


Extract a file as a single file L\+IF image. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em lifimagename} & L\+IF disk image name \\
\hline
\mbox{\tt in}  & {\em lifname} & name of file in L\+IF image \\
\hline
\mbox{\tt in}  & {\em username} & name to call the extracted L\+IF image \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 on sucess or 0 on error 
\end{DoxyReturn}


Definition at line 1844 of file lifutils.\+c.



Referenced by lif\+\_\+tests().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+find\+\_\+file@{lif\+\_\+find\+\_\+file}}
\index{lif\+\_\+find\+\_\+file@{lif\+\_\+find\+\_\+file}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+find\+\_\+file(lif\+\_\+t $\ast$\+L\+I\+F, char $\ast$username)}{lif_find_file(lif_t *LIF, char *username)}}]{\setlength{\rightskip}{0pt plus 5cm}int lif\+\_\+find\+\_\+file (
\begin{DoxyParamCaption}
\item[{{\bf lif\+\_\+t} $\ast$}]{L\+IF, }
\item[{char $\ast$}]{liflabel}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a32e2cc589a4daa849e348414c018b63d}{}\label{lifutils_8h_a32e2cc589a4daa849e348414c018b63d}


Find a directory index for a file in a L\+IF image file. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em $\ast$\+L\+IF} & directory pointer \\
\hline
\mbox{\tt in}  & {\em liflabel} & File name in L\+IF image \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\hyperlink{structlifdir__t}{lifdir\+\_\+t} $\ast$ directory record, or N\+U\+LL if no match 
\end{DoxyReturn}


Definition at line 1210 of file lifutils.\+c.



Referenced by lif\+\_\+add\+\_\+lif\+\_\+file(), lif\+\_\+del\+\_\+file(), lif\+\_\+extract\+\_\+e010\+\_\+as\+\_\+ascii(), lif\+\_\+extract\+\_\+lif\+\_\+file(), and lif\+\_\+rename\+\_\+file().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+findfree\+\_\+dirindex@{lif\+\_\+findfree\+\_\+dirindex}}
\index{lif\+\_\+findfree\+\_\+dirindex@{lif\+\_\+findfree\+\_\+dirindex}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+findfree\+\_\+dirindex(lif\+\_\+t $\ast$\+L\+I\+F, uint32\+\_\+t sectors)}{lif_findfree_dirindex(lif_t *LIF, uint32_t sectors)}}]{\setlength{\rightskip}{0pt plus 5cm}int lif\+\_\+findfree\+\_\+dirindex (
\begin{DoxyParamCaption}
\item[{{\bf lif\+\_\+t} $\ast$}]{L\+IF, }
\item[{uint32\+\_\+t}]{sectors}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_ad805abeac64ec242a010dd8a40a0c61d}{}\label{lifutils_8h_ad805abeac64ec242a010dd8a40a0c61d}


Find directory slot index that can hold $>$= sectors in size Unless a record is purged this will always be the last record We update the directory start and size values. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em $\ast$\+L\+IF} & L\+IF pointer \\
\hline
\mbox{\tt out}  & {\em $\ast$free} & free space directory index and file start and size \\
\hline
\mbox{\tt in}  & {\em sectors} & size of free space we need \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
index or -\/1 on error 
\end{DoxyReturn}


Definition at line 1253 of file lifutils.\+c.



Referenced by lif\+\_\+add\+\_\+ascii\+\_\+file\+\_\+as\+\_\+e010(), and lif\+\_\+add\+\_\+lif\+\_\+file().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+fixname@{lif\+\_\+fixname}}
\index{lif\+\_\+fixname@{lif\+\_\+fixname}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+fixname(uint8\+\_\+t $\ast$\+B, char $\ast$name, int size)}{lif_fixname(uint8_t *B, char *name, int size)}}]{\setlength{\rightskip}{0pt plus 5cm}int lif\+\_\+fixname (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t $\ast$}]{B, }
\item[{char $\ast$}]{name, }
\item[{int}]{size}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a4526efb5e3517ff7bb83e6ac08e4c6b6}{}\label{lifutils_8h_a4526efb5e3517ff7bb83e6ac08e4c6b6}


Convert a file name (unix/fat32) format into a valid L\+IF name Only use the \hyperlink{posix_8c_a4d3dfaf2f5a63e2e4eaa128477a9b5e7}{basename()} part of the string and remove any file name extentions L\+IF names may have only these characters\+: \mbox{[}A-\/Z\mbox{]}\mbox{[}A-\/\+Z0-\/09\+\_\+\mbox{]}+ L\+IF names are converted to upper case L\+IF names are padded at the end with spaces Any invalid input characters are converted into spaces. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt out}  & {\em $\ast$B} & output L\+IF string \\
\hline
\mbox{\tt in}  & {\em $\ast$name} & input string \\
\hline
\mbox{\tt in}  & {\em size} & maximum size of output string \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
length of result 
\end{DoxyReturn}


Definition at line 420 of file lifutils.\+c.



Referenced by lif\+\_\+add\+\_\+ascii\+\_\+file\+\_\+as\+\_\+e010(), lif\+\_\+create\+\_\+volume(), and lif\+\_\+rename\+\_\+file().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+help@{lif\+\_\+help}}
\index{lif\+\_\+help@{lif\+\_\+help}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+help(void)}{lif_help(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void lif\+\_\+help (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_adcd52baa64a03567d69ce3579e3f66ea}{}\label{lifutils_8h_adcd52baa64a03567d69ce3579e3f66ea}


Help Menu for User invoked G\+P\+IB functions and tasks See\+: int \hyperlink{gpib__tests_8h_aed0c6a0a794f33d5cf7691c96d3e4955}{gpib\+\_\+tests(char $\ast$str)} 

\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line 26 of file lifutils.\+c.



Referenced by help(), and lif\+\_\+tests().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+image\+\_\+clear@{lif\+\_\+image\+\_\+clear}}
\index{lif\+\_\+image\+\_\+clear@{lif\+\_\+image\+\_\+clear}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+image\+\_\+clear(lif\+\_\+t $\ast$\+L\+I\+F)}{lif_image_clear(lif_t *LIF)}}]{\setlength{\rightskip}{0pt plus 5cm}void lif\+\_\+image\+\_\+clear (
\begin{DoxyParamCaption}
\item[{{\bf lif\+\_\+t} $\ast$}]{L\+IF}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a58a5443fc260766e73f59d06516e5e30}{}\label{lifutils_8h_a58a5443fc260766e73f59d06516e5e30}


Clear main \hyperlink{structlif__t}{lif\+\_\+t} L\+IF structure. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em $\ast$\+L\+IF} & pointer to L\+IF structure \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line 558 of file lifutils.\+c.



Referenced by lif\+\_\+create\+\_\+volume().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+open@{lif\+\_\+open}}
\index{lif\+\_\+open@{lif\+\_\+open}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+open(char $\ast$name, char $\ast$mode)}{lif_open(char *name, char *mode)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf F\+I\+LE}$\ast$ lif\+\_\+open (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{name, }
\item[{char $\ast$}]{mode}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_afe395b08bb0cfe54ee46529a0181c11e}{}\label{lifutils_8h_afe395b08bb0cfe54ee46529a0181c11e}


Open a file that must exist. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em $\ast$name} & file name of L\+IF image \\
\hline
\mbox{\tt in}  & {\em $\ast$mode} & open mode -\/ see fopen \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
F\+I\+LE $\ast$ pointer 
\end{DoxyReturn}


Definition at line 226 of file lifutils.\+c.



Referenced by lif\+\_\+add\+\_\+ascii\+\_\+file\+\_\+as\+\_\+e010\+\_\+wrapper(), lif\+\_\+create\+\_\+volume(), lif\+\_\+extract\+\_\+e010\+\_\+as\+\_\+ascii(), lif\+\_\+read(), and lif\+\_\+write().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+opendir@{lif\+\_\+opendir}}
\index{lif\+\_\+opendir@{lif\+\_\+opendir}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+opendir(char $\ast$name)}{lif_opendir(char *name)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf lif\+\_\+t}$\ast$ lif\+\_\+opendir (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{name}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a9d15283b814d839cafbb31676ed29478}{}\label{lifutils_8h_a9d15283b814d839cafbb31676ed29478}


Open L\+IF directory for reading Modeled after Linux \hyperlink{posix_8c_a19051b9081dfef221d9bf4583e935031}{opendir()} 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em $\ast$name} & file name of L\+IF image \\
\hline
\mbox{\tt in}  & {\em debug} & Display extending error messages \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
N\+U\+LL on error, \hyperlink{structlif__t}{lif\+\_\+t} pointer to L\+IF Volume/\+Directoy structure on sucesss 
\end{DoxyReturn}
Update free 

Definition at line 1064 of file lifutils.\+c.



Referenced by lif\+\_\+add\+\_\+ascii\+\_\+file\+\_\+as\+\_\+e010(), lif\+\_\+add\+\_\+lif\+\_\+file(), lif\+\_\+del\+\_\+file(), lif\+\_\+dir(), lif\+\_\+extract\+\_\+e010\+\_\+as\+\_\+ascii(), lif\+\_\+extract\+\_\+lif\+\_\+file(), and lif\+\_\+rename\+\_\+file().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+read@{lif\+\_\+read}}
\index{lif\+\_\+read@{lif\+\_\+read}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+read(char $\ast$name, void $\ast$buf, long offset, int bytes)}{lif_read(char *name, void *buf, long offset, int bytes)}}]{\setlength{\rightskip}{0pt plus 5cm}long lif\+\_\+read (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{name, }
\item[{void $\ast$}]{buf, }
\item[{long}]{offset, }
\item[{int}]{bytes}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_afd91a3610ac5b104097ac0686a56cefd}{}\label{lifutils_8h_afd91a3610ac5b104097ac0686a56cefd}


Read data from a L\+IF image File is closed after read W\+HY? We want time minimize file open to to avoid corruption on the S\+D\+C\+A\+RD. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em $\ast$name} & file name of L\+IF image \\
\hline
\mbox{\tt in}  & {\em $\ast$buf} & read buffer \\
\hline
\mbox{\tt in}  & {\em offset} & read offset \\
\hline
\mbox{\tt in}  & {\em bytes} & number of bytes to read \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
number of bytes read -\/ OR -\/ -\/1 on error 
\end{DoxyReturn}
Initial file position 

Definition at line 259 of file lifutils.\+c.



Referenced by lif\+\_\+add\+\_\+lif\+\_\+file(), lif\+\_\+extract\+\_\+e010\+\_\+as\+\_\+ascii(), lif\+\_\+extract\+\_\+lif\+\_\+file(), lif\+\_\+opendir(), and lif\+\_\+readdirindex().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+readdir@{lif\+\_\+readdir}}
\index{lif\+\_\+readdir@{lif\+\_\+readdir}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+readdir(lif\+\_\+t $\ast$\+L\+I\+F)}{lif_readdir(lif_t *LIF)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf lifdir\+\_\+t}$\ast$ lif\+\_\+readdir (
\begin{DoxyParamCaption}
\item[{{\bf lif\+\_\+t} $\ast$}]{L\+IF}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a620a1a2fcb2f6f2e871fd8e4048d22db}{}\label{lifutils_8h_a620a1a2fcb2f6f2e871fd8e4048d22db}


Read a directory record from a lif image and advance the directory index We skip all purged L\+IF directory records Modeled after Linux \hyperlink{posix_8c_a1508fedaef509d2976b43300306d1400}{readdir()} 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em $\ast$\+L\+IF} & to L\+IF Volume/\+Diractoy structure \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
directory structure or N\+U\+LL 
\end{DoxyReturn}


Definition at line 1036 of file lifutils.\+c.

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+readdirindex@{lif\+\_\+readdirindex}}
\index{lif\+\_\+readdirindex@{lif\+\_\+readdirindex}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+readdirindex(lif\+\_\+t $\ast$\+L\+I\+F, int index)}{lif_readdirindex(lif_t *LIF, int index)}}]{\setlength{\rightskip}{0pt plus 5cm}int lif\+\_\+readdirindex (
\begin{DoxyParamCaption}
\item[{{\bf lif\+\_\+t} $\ast$}]{L\+IF, }
\item[{int}]{index}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_ac1c11cf1213647b37d11d9fae782ee27}{}\label{lifutils_8h_ac1c11cf1213647b37d11d9fae782ee27}


Read L\+IF directory record number N. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em $\ast$\+L\+IF} & to L\+IF Volume/\+Diractoy structure \\
\hline
\mbox{\tt in}  & {\em index} & director record number \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 on success, 0 if error, bad directory record or outside of directory limits 
\end{DoxyReturn}


Definition at line 935 of file lifutils.\+c.



Referenced by lif\+\_\+dir(), lif\+\_\+find\+\_\+file(), lif\+\_\+findfree\+\_\+dirindex(), lif\+\_\+opendir(), and lif\+\_\+readdir().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+rename\+\_\+file@{lif\+\_\+rename\+\_\+file}}
\index{lif\+\_\+rename\+\_\+file@{lif\+\_\+rename\+\_\+file}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+rename\+\_\+file(char $\ast$lifimagename, char $\ast$oldlifname, char $\ast$newlifname)}{lif_rename_file(char *lifimagename, char *oldlifname, char *newlifname)}}]{\setlength{\rightskip}{0pt plus 5cm}int lif\+\_\+rename\+\_\+file (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{lifimagename, }
\item[{char $\ast$}]{oldlifname, }
\item[{char $\ast$}]{newlifname}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a5b44c50681c402af5beb60382e8abc99}{}\label{lifutils_8h_a5b44c50681c402af5beb60382e8abc99}


Rename L\+IF file in L\+IF image. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em lifimagename} & L\+IF image name \\
\hline
\mbox{\tt in}  & {\em oldlifname} & old L\+IF file name \\
\hline
\mbox{\tt in}  & {\em newlifname} & new L\+IF file name \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 if renamed, 0 if not found, -\/1 error 
\end{DoxyReturn}


Definition at line 2111 of file lifutils.\+c.



Referenced by lif\+\_\+tests().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+rewinddir@{lif\+\_\+rewinddir}}
\index{lif\+\_\+rewinddir@{lif\+\_\+rewinddir}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+rewinddir(lif\+\_\+t $\ast$\+L\+I\+F)}{lif_rewinddir(lif_t *LIF)}}]{\setlength{\rightskip}{0pt plus 5cm}void lif\+\_\+rewinddir (
\begin{DoxyParamCaption}
\item[{{\bf lif\+\_\+t} $\ast$}]{L\+IF}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a0e7257e84984a768184d0653e62a3f4d}{}\label{lifutils_8h_a0e7257e84984a768184d0653e62a3f4d}


rewind L\+IF directory Note readdir pre increments the directory pointer index Modeled after Linux rewinddir() 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em $\ast$\+L\+IF} & pointer to L\+IF Volume/\+Directoy structure \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line 897 of file lifutils.\+c.



Referenced by lif\+\_\+opendir().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+\+S2B@{lif\+\_\+\+S2B}}
\index{lif\+\_\+\+S2B@{lif\+\_\+\+S2B}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+\+S2\+B(uint8\+\_\+t $\ast$\+B, uint8\+\_\+t $\ast$name, int size)}{lif_S2B(uint8_t *B, uint8_t *name, int size)}}]{\setlength{\rightskip}{0pt plus 5cm}void lif\+\_\+\+S2B (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t $\ast$}]{B, }
\item[{uint8\+\_\+t $\ast$}]{name, }
\item[{int}]{size}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a3581f407fe6c5cbe6a5db361fe49d387}{}\label{lifutils_8h_a3581f407fe6c5cbe6a5db361fe49d387}


string to L\+IF directory record 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt out}  & {\em $\ast$B} & L\+IF result with added trailing spaces \\
\hline
\mbox{\tt in}  & {\em $\ast$name} & string  1 if the string is ok or 0 if invalid L\+IF name characters on input string \\
\hline
\end{DoxyParams}


Definition at line 398 of file lifutils.\+c.



Referenced by lif\+\_\+dir2str(), and lif\+\_\+vol2str().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+stat@{lif\+\_\+stat}}
\index{lif\+\_\+stat@{lif\+\_\+stat}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+stat(char $\ast$name, stat\+\_\+t $\ast$p)}{lif_stat(char *name, stat_t *p)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf stat\+\_\+t}$\ast$ lif\+\_\+stat (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{name, }
\item[{{\bf stat\+\_\+t} $\ast$}]{p}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a64cd31682e1e5cf594203ae2dd9c5cda}{}\label{lifutils_8h_a64cd31682e1e5cf594203ae2dd9c5cda}


Stat a file. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em $\ast$name} & file name of L\+IF image \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
struct stat $\ast$ 
\end{DoxyReturn}


Definition at line 240 of file lifutils.\+c.



Referenced by lif\+\_\+opendir().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+str2dir@{lif\+\_\+str2dir}}
\index{lif\+\_\+str2dir@{lif\+\_\+str2dir}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+str2dir(uint8\+\_\+t $\ast$\+B, lif\+\_\+t $\ast$\+L\+I\+F)}{lif_str2dir(uint8_t *B, lif_t *LIF)}}]{\setlength{\rightskip}{0pt plus 5cm}void lif\+\_\+str2dir (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t $\ast$}]{B, }
\item[{{\bf lif\+\_\+t} $\ast$}]{L\+IF}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a4db23fc40db0ebb7d0ce3e5ef2440e9a}{}\label{lifutils_8h_a4db23fc40db0ebb7d0ce3e5ef2440e9a}


Convert byte vector into current Directory Entry of L\+IF image. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em B} & byte vector to extract data from \\
\hline
 & {\em } & \\
\hline
\end{DoxyParams}


Definition at line 512 of file lifutils.\+c.



Referenced by lif\+\_\+readdirindex().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+str2vol@{lif\+\_\+str2vol}}
\index{lif\+\_\+str2vol@{lif\+\_\+str2vol}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+str2vol(uint8\+\_\+t $\ast$\+B, lif\+\_\+t $\ast$\+L\+I\+F)}{lif_str2vol(uint8_t *B, lif_t *LIF)}}]{\setlength{\rightskip}{0pt plus 5cm}void lif\+\_\+str2vol (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t $\ast$}]{B, }
\item[{{\bf lif\+\_\+t} $\ast$}]{L\+IF}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a099711acdca654969f0b02029f41d19a}{}\label{lifutils_8h_a099711acdca654969f0b02029f41d19a}


Convert byte vector into volume part of L\+IF image. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em B} & byte vector \\
\hline
\mbox{\tt out}  & {\em $\ast$\+L\+IF} & L\+IF image structure \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 if the volume is good, 0 if bad 
\end{DoxyReturn}


Definition at line 475 of file lifutils.\+c.



Referenced by lif\+\_\+opendir().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+tests@{lif\+\_\+tests}}
\index{lif\+\_\+tests@{lif\+\_\+tests}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+tests(char $\ast$str)}{lif_tests(char *str)}}]{\setlength{\rightskip}{0pt plus 5cm}int lif\+\_\+tests (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{str}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a32dc220253a6108ad1d2f6b06318d326}{}\label{lifutils_8h_a32dc220253a6108ad1d2f6b06318d326}


L\+I\+F\+Guser tests. 

\begin{DoxyReturn}{Returns}
1 matched token, 0 if not 
\end{DoxyReturn}
format L\+IF image 

Definition at line 43 of file lifutils.\+c.



Referenced by task().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+time2lif@{lif\+\_\+time2lif}}
\index{lif\+\_\+time2lif@{lif\+\_\+time2lif}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+time2lif(uint8\+\_\+t $\ast$bcd, time\+\_\+t t)}{lif_time2lif(uint8_t *bcd, time_t t)}}]{\setlength{\rightskip}{0pt plus 5cm}void lif\+\_\+time2lif (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t $\ast$}]{bcd, }
\item[{{\bf time\+\_\+t}}]{t}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_af2e35296eec6eba5cb2d5c9964d0b738}{}\label{lifutils_8h_af2e35296eec6eba5cb2d5c9964d0b738}


U\+N\+IX time to L\+IF time format. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt out}  & {\em bcd} & packed 6 byte B\+CD L\+IF time YY,MM,DD,HH,MM,SS \\
\hline
\mbox{\tt in}  & {\em t} & U\+N\+IX time\+\_\+t time value \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\hyperlink{time_8c_a32b1cbd925752f0cd61d202bbe204a69}{time()} in \hyperlink{time_8c}{time.\+c} 
\end{DoxySeeAlso}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line 543 of file lifutils.\+c.



Referenced by lif\+\_\+create\+\_\+volume().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+vol2str@{lif\+\_\+vol2str}}
\index{lif\+\_\+vol2str@{lif\+\_\+vol2str}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+vol2str(lif\+\_\+t $\ast$\+L\+I\+F, uint8\+\_\+t $\ast$\+B)}{lif_vol2str(lif_t *LIF, uint8_t *B)}}]{\setlength{\rightskip}{0pt plus 5cm}void lif\+\_\+vol2str (
\begin{DoxyParamCaption}
\item[{{\bf lif\+\_\+t} $\ast$}]{L\+IF, }
\item[{uint8\+\_\+t $\ast$}]{B}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a81cbd76bc3329e319f318ec76e897766}{}\label{lifutils_8h_a81cbd76bc3329e319f318ec76e897766}


Convert volume part of L\+IF image into byte vector. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em $\ast$\+L\+IF} & L\+IF image structure \\
\hline
\mbox{\tt out}  & {\em B} & byte vector to pack data into \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
N\+U\+LL; 
\end{DoxyReturn}


Definition at line 455 of file lifutils.\+c.



Referenced by lif\+\_\+create\+\_\+volume().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+vol\+\_\+clear@{lif\+\_\+vol\+\_\+clear}}
\index{lif\+\_\+vol\+\_\+clear@{lif\+\_\+vol\+\_\+clear}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+vol\+\_\+clear(lif\+\_\+t $\ast$\+L\+I\+F)}{lif_vol_clear(lif_t *LIF)}}]{\setlength{\rightskip}{0pt plus 5cm}void lif\+\_\+vol\+\_\+clear (
\begin{DoxyParamCaption}
\item[{{\bf lif\+\_\+t} $\ast$}]{L\+IF}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_aa2f79fdf61972e648bd2145e979f778b}{}\label{lifutils_8h_aa2f79fdf61972e648bd2145e979f778b}


Clear \hyperlink{structlifvol__t}{lifvol\+\_\+t} V structure in L\+IF. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em $\ast$\+L\+IF} & pointer to L\+IF structure \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line 575 of file lifutils.\+c.



Referenced by lif\+\_\+close\+\_\+volume().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+write@{lif\+\_\+write}}
\index{lif\+\_\+write@{lif\+\_\+write}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+write(char $\ast$name, void $\ast$buf, long offset, int bytes)}{lif_write(char *name, void *buf, long offset, int bytes)}}]{\setlength{\rightskip}{0pt plus 5cm}int lif\+\_\+write (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{name, }
\item[{void $\ast$}]{buf, }
\item[{long}]{offset, }
\item[{int}]{bytes}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a6be20c8f3213656e828aae93b303d776}{}\label{lifutils_8h_a6be20c8f3213656e828aae93b303d776}


Write data to an L\+IF image File is closed, positioned to the end of file, after write Why? We want time minimize file open to to avoid corruption on the S\+D\+C\+A\+RD. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em $\ast$name} & file name of L\+IF image \\
\hline
\mbox{\tt in}  & {\em $\ast$buf} & write buffer \\
\hline
\mbox{\tt in}  & {\em offset} & write offset \\
\hline
\mbox{\tt in}  & {\em bytes} & number of bytes to write \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
-\/1 on error or number of bytes written 
\end{DoxyReturn}
Initial file position 

Definition at line 297 of file lifutils.\+c.



Referenced by lif\+\_\+add\+\_\+ascii\+\_\+file\+\_\+as\+\_\+e010\+\_\+wrapper(), lif\+\_\+add\+\_\+lif\+\_\+file(), lif\+\_\+create\+\_\+image(), lif\+\_\+extract\+\_\+lif\+\_\+file(), lif\+\_\+findfree\+\_\+dirindex(), and lif\+\_\+writedirindex().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+writedir\+E\+OF@{lif\+\_\+writedir\+E\+OF}}
\index{lif\+\_\+writedir\+E\+OF@{lif\+\_\+writedir\+E\+OF}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+writedir\+E\+O\+F(lif\+\_\+t $\ast$\+L\+I\+F, int index)}{lif_writedirEOF(lif_t *LIF, int index)}}]{\setlength{\rightskip}{0pt plus 5cm}int lif\+\_\+writedir\+E\+OF (
\begin{DoxyParamCaption}
\item[{{\bf lif\+\_\+t} $\ast$}]{L\+IF, }
\item[{int}]{index}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a8e9da14a02220515367321c460ba46f8}{}\label{lifutils_8h_a8e9da14a02220515367321c460ba46f8}


Write L\+IF drectory E\+OF. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em $\ast$\+L\+IF} & L\+IF Volume/\+Diractoy structure \\
\hline
\mbox{\tt in}  & {\em index} & director record number \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 on success, 0 on error and outsize directory limits 
\end{DoxyReturn}


Definition at line 1022 of file lifutils.\+c.



Referenced by lif\+\_\+add\+\_\+ascii\+\_\+file\+\_\+as\+\_\+e010(), lif\+\_\+add\+\_\+lif\+\_\+file(), lif\+\_\+create\+\_\+volume(), and lif\+\_\+extract\+\_\+lif\+\_\+file().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+writedirindex@{lif\+\_\+writedirindex}}
\index{lif\+\_\+writedirindex@{lif\+\_\+writedirindex}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+writedirindex(lif\+\_\+t $\ast$\+L\+I\+F, int index)}{lif_writedirindex(lif_t *LIF, int index)}}]{\setlength{\rightskip}{0pt plus 5cm}int lif\+\_\+writedirindex (
\begin{DoxyParamCaption}
\item[{{\bf lif\+\_\+t} $\ast$}]{L\+IF, }
\item[{int}]{index}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a560dc5f5b402cb932d2bf75160eb19ca}{}\label{lifutils_8h_a560dc5f5b402cb932d2bf75160eb19ca}


Write L\+IF drectory record number N. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em $\ast$\+L\+IF} & L\+IF Volume/\+Diractoy structure \\
\hline
\mbox{\tt in}  & {\em index} & director record number \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 on success, 0 on error and outsize directory limits 
\end{DoxyReturn}


Definition at line 978 of file lifutils.\+c.



Referenced by lif\+\_\+add\+\_\+ascii\+\_\+file\+\_\+as\+\_\+e010(), lif\+\_\+add\+\_\+lif\+\_\+file(), lif\+\_\+del\+\_\+file(), lif\+\_\+extract\+\_\+lif\+\_\+file(), lif\+\_\+rename\+\_\+file(), and lif\+\_\+writedir\+E\+O\+F().



\subsection{Variable Documentation}
\index{lifutils.\+h@{lifutils.\+h}!debuglevel@{debuglevel}}
\index{debuglevel@{debuglevel}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{debuglevel}{debuglevel}}]{\setlength{\rightskip}{0pt plus 5cm}int debuglevel}\hypertarget{lifutils_8h_af219299ebad47daa6631415a8b41345a}{}\label{lifutils_8h_af219299ebad47daa6631415a8b41345a}


Debug flag -\/ used to log G\+P\+IB and emulator messages. 



Definition at line 32 of file gpib\+\_\+task.\+c.



Referenced by G\+P\+I\+B(), gpib\+\_\+error\+\_\+test(), gpib\+\_\+file\+\_\+init(), G\+P\+I\+B\+\_\+\+L\+I\+S\+T\+E\+N(), G\+P\+I\+B\+\_\+\+S\+E\+C\+O\+N\+D\+A\+R\+Y\+\_\+\+A\+D\+D\+R\+E\+S\+S(), G\+P\+I\+B\+\_\+\+T\+A\+L\+K(), gpib\+\_\+task(), listen\+\_\+cleanup(), and Send\+\_\+\+Identify().

