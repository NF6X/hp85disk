\hypertarget{lifutils_8h}{}\section{gpib/lifutils.h File Reference}
\label{lifutils_8h}\index{gpib/lifutils.\+h@{gpib/lifutils.\+h}}
{\ttfamily \#include \char`\"{}user\+\_\+config.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}defines.\+h\char`\"{}}\\*
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structlifvol__t}{lifvol\+\_\+t}
\begin{DoxyCompactList}\small\item\em Disk Layout. \end{DoxyCompactList}\item 
struct \hyperlink{structlifdir__t}{lifdir\+\_\+t}
\begin{DoxyCompactList}\small\item\em Directory layout. \end{DoxyCompactList}\item 
struct \hyperlink{structlifspace__t}{lifspace\+\_\+t}
\begin{DoxyCompactList}\small\item\em Used by lif\+\_\+findfree\+\_\+index to a find free directory slot and file area. \end{DoxyCompactList}\item 
struct \hyperlink{structlif__t}{lif\+\_\+t}
\begin{DoxyCompactList}\small\item\em Master L\+IF data structure Contains image file name Volume Structure Current Directory Entry read/write flag. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{lifutils_8h_a9f32d2537f4daba6a314185cf52b7e56}{L\+I\+F\+\_\+\+S\+E\+C\+T\+O\+R\+\_\+\+S\+I\+ZE}~256
\begin{DoxyCompactList}\small\item\em Depends on how much free ram we have. \end{DoxyCompactList}\item 
\#define \hyperlink{lifutils_8h_a99ad70dd3200a3ee46388bc2c36fe720}{L\+I\+F\+\_\+\+D\+I\+R\+\_\+\+S\+I\+ZE}~32
\begin{DoxyCompactList}\small\item\em L\+IF directory entry size. \end{DoxyCompactList}\item 
\#define \hyperlink{lifutils_8h_aa1750b32056b8fbaa729724402d587f2}{L\+I\+F\+\_\+\+D\+I\+R\+\_\+\+R\+E\+C\+O\+R\+D\+S\+\_\+\+P\+E\+R\+\_\+\+S\+E\+C\+T\+OR}~(\hyperlink{lifutils_8h_a9f32d2537f4daba6a314185cf52b7e56}{L\+I\+F\+\_\+\+S\+E\+C\+T\+O\+R\+\_\+\+S\+I\+ZE}/\hyperlink{lifutils_8h_a99ad70dd3200a3ee46388bc2c36fe720}{L\+I\+F\+\_\+\+D\+I\+R\+\_\+\+S\+I\+ZE})
\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct \hyperlink{structstat}{stat} \hyperlink{lifutils_8h_aebb3d0e746d3aa086e0baa48ad66b964}{stat\+\_\+t}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{lifutils_8h_adcd52baa64a03567d69ce3579e3f66ea}{lif\+\_\+help} (void)
\begin{DoxyCompactList}\small\item\em Help Menu for User invoked G\+P\+IB functions and tasks See\+: int \hyperlink{gpib__tests_8h_aed0c6a0a794f33d5cf7691c96d3e4955}{gpib\+\_\+tests(char $\ast$str)} \end{DoxyCompactList}\item 
int \hyperlink{lifutils_8h_a32dc220253a6108ad1d2f6b06318d326}{lif\+\_\+tests} (char $\ast$str)
\begin{DoxyCompactList}\small\item\em L\+IF user tests. \end{DoxyCompactList}\item 
void $\ast$ \hyperlink{lifutils_8h_a49aa170d2fe86ee0f45b87d3d32fd9c1}{lif\+\_\+calloc} (long size)
\begin{DoxyCompactList}\small\item\em Allocate and clear memory Displays message on errors. \end{DoxyCompactList}\item 
void \hyperlink{lifutils_8h_a434d1938263436f42b68914a17b5ac40}{lif\+\_\+free} (uint8\+\_\+t $\ast$p)
\begin{DoxyCompactList}\small\item\em Free allocated memory Displays message on errors. \end{DoxyCompactList}\item 
void $\ast$ \hyperlink{lifutils_8h_a46c4e852171cd0b0a4d84c8b90f19358}{lif\+\_\+stralloc} (char $\ast$str)
\begin{DoxyCompactList}\small\item\em Allocate and copy a string Displays message on errors. \end{DoxyCompactList}\item 
\hyperlink{posix_8h_aed4dabeb9f7c518ded42f930a04abce8}{F\+I\+LE} $\ast$ \hyperlink{lifutils_8h_afe395b08bb0cfe54ee46529a0181c11e}{lif\+\_\+open} (char $\ast$name, char $\ast$mode)
\begin{DoxyCompactList}\small\item\em Open a file that must exist Displays message on errors. \end{DoxyCompactList}\item 
\hyperlink{defines_8h_aebb3d0e746d3aa086e0baa48ad66b964}{stat\+\_\+t} $\ast$ \hyperlink{lifutils_8h_a64cd31682e1e5cf594203ae2dd9c5cda}{lif\+\_\+stat} (char $\ast$name, \hyperlink{defines_8h_aebb3d0e746d3aa086e0baa48ad66b964}{stat\+\_\+t} $\ast$p)
\begin{DoxyCompactList}\small\item\em Stat a file Displays message on errors. \end{DoxyCompactList}\item 
int \hyperlink{lifutils_8h_aea3c3d6e2126e0fc3317998682839107}{lif\+\_\+seek\+\_\+msg} (\hyperlink{posix_8h_aed4dabeb9f7c518ded42f930a04abce8}{F\+I\+LE} $\ast$fp, long offset, char $\ast$msg)
\item 
long \hyperlink{lifutils_8h_a768d8479fcf67fb0aed652dc33c895fe}{lif\+\_\+read} (\hyperlink{structlif__t}{lif\+\_\+t} $\ast$L\+IF, void $\ast$buf, long offset, int bytes)
\begin{DoxyCompactList}\small\item\em Read data from a L\+IF image Displays message on errors. \end{DoxyCompactList}\item 
int \hyperlink{lifutils_8h_aaf6780953d8bceb07975a7f7a07c59a6}{lif\+\_\+write} (\hyperlink{structlif__t}{lif\+\_\+t} $\ast$L\+IF, void $\ast$buf, long offset, int bytes)
\begin{DoxyCompactList}\small\item\em Write data to an L\+IF image Displays message on errors. \end{DoxyCompactList}\item 
int \hyperlink{lifutils_8h_a390b6787d7428e6c8492013b8c982fd9}{lif\+\_\+chars} (int c, int index)
\begin{DoxyCompactList}\small\item\em Check if characters in a L\+IF volume or L\+IF file name are valid. \end{DoxyCompactList}\item 
int \hyperlink{lifutils_8h_a6ef03363b9241a81bdd36c868ec93190}{lif\+\_\+\+B2S} (uint8\+\_\+t $\ast$B, uint8\+\_\+t $\ast$name, int size)
\begin{DoxyCompactList}\small\item\em Convert L\+IF space padded string name into normal string. \end{DoxyCompactList}\item 
int \hyperlink{lifutils_8h_a87df4549ffaf99f198cc8aa40923d1e8}{lif\+\_\+checkname} (char $\ast$name)
\begin{DoxyCompactList}\small\item\em Check volume if name or directory name is valid. \end{DoxyCompactList}\item 
void \hyperlink{lifutils_8h_a3581f407fe6c5cbe6a5db361fe49d387}{lif\+\_\+\+S2B} (uint8\+\_\+t $\ast$B, uint8\+\_\+t $\ast$name, int size)
\begin{DoxyCompactList}\small\item\em Convert string to L\+IF directory record. \end{DoxyCompactList}\item 
int \hyperlink{lifutils_8h_a4526efb5e3517ff7bb83e6ac08e4c6b6}{lif\+\_\+fixname} (uint8\+\_\+t $\ast$B, char $\ast$name, int size)
\begin{DoxyCompactList}\small\item\em Convert name into a valid L\+IF name Only use the \hyperlink{posix_8c_a4d3dfaf2f5a63e2e4eaa128477a9b5e7}{basename()} part of the string and remove any file name extentions L\+IF names may have only these characters\+: \mbox{[}A-\/Z\mbox{]}\mbox{[}A-\/\+Z0-\/09\+\_\+\mbox{]}+ L\+IF names are converted to upper case L\+IF names are padded at the end with spaces Any invalid input characters are converted into spaces. \end{DoxyCompactList}\item 
void \hyperlink{lifutils_8h_a81cbd76bc3329e319f318ec76e897766}{lif\+\_\+vol2str} (\hyperlink{structlif__t}{lif\+\_\+t} $\ast$L\+IF, uint8\+\_\+t $\ast$B)
\begin{DoxyCompactList}\small\item\em Convert L\+IF volume records into byte vector. \end{DoxyCompactList}\item 
void \hyperlink{lifutils_8h_a099711acdca654969f0b02029f41d19a}{lif\+\_\+str2vol} (uint8\+\_\+t $\ast$B, \hyperlink{structlif__t}{lif\+\_\+t} $\ast$L\+IF)
\begin{DoxyCompactList}\small\item\em Convert byte vector into L\+IF volume records. \end{DoxyCompactList}\item 
void \hyperlink{lifutils_8h_a31b9afe8b63649efbd1dfc90e5e1ee1a}{lif\+\_\+dir2str} (\hyperlink{structlif__t}{lif\+\_\+t} $\ast$L\+IF, uint8\+\_\+t $\ast$B)
\begin{DoxyCompactList}\small\item\em Convert L\+IF directory records into byte vector. \end{DoxyCompactList}\item 
void \hyperlink{lifutils_8h_a4db23fc40db0ebb7d0ce3e5ef2440e9a}{lif\+\_\+str2dir} (uint8\+\_\+t $\ast$B, \hyperlink{structlif__t}{lif\+\_\+t} $\ast$L\+IF)
\begin{DoxyCompactList}\small\item\em Convert byte vector into byte vector. \end{DoxyCompactList}\item 
uint8\+\_\+t \hyperlink{lifutils_8h_a68235d8edc4ac1583e77c90d16a877c8}{lif\+\_\+\+B\+I\+N2\+B\+CD} (uint8\+\_\+t data)
\begin{DoxyCompactList}\small\item\em Convert number $>$= 0 and $<$= 99 to B\+CD. \end{DoxyCompactList}\item 
int \hyperlink{lifutils_8h_aa4058b2bc66bf0b1e4b00e3d5a014e27}{lif\+\_\+\+B\+C\+D2\+B\+IN} (uint8\+\_\+t bin)
\begin{DoxyCompactList}\small\item\em Convert B\+CD in the range 0 and $<$= 99 to B\+IN B\+CD format\+: each hex nibble has a digit 0 .. 9. \end{DoxyCompactList}\item 
void \hyperlink{lifutils_8h_aab67c73a7069705ea77d3cd929d02971}{lif\+\_\+time2lifbcd} (\hyperlink{time_8h_a3346b04b0420b32ccf6b706551b70762}{time\+\_\+t} t, uint8\+\_\+t $\ast$bcd)
\begin{DoxyCompactList}\small\item\em U\+N\+IX time to L\+IF B\+CD time format The B\+CD year is only the lower 2 digits of the year So We assume that values $<$= 70 are years $>$= 2000 B\+CD Day and Month start at 1 Note\+: If t == 0 we set A\+LL B\+CD digits to 0. \end{DoxyCompactList}\item 
\hyperlink{time_8h_a3346b04b0420b32ccf6b706551b70762}{time\+\_\+t} \hyperlink{lifutils_8h_a8af95c56917defb3644f848aaf3b731f}{lif\+\_\+lifbcd2time} (uint8\+\_\+t $\ast$bcd)
\begin{DoxyCompactList}\small\item\em convert B\+CD date into time\+\_\+t value The B\+CD year is only the lower 2 digits of the year So We assume that values $<$= 70 are years $>$= 2000 B\+CD Day and Month start at 1 If A\+LL B\+CD digits are 0 we return 0 \end{DoxyCompactList}\item 
char $\ast$ \hyperlink{lifutils_8h_a3547371f9e379fea1b710fb438b7d4fa}{lif\+\_\+lifbcd2timestr} (uint8\+\_\+t $\ast$bcd)
\item 
void \hyperlink{lifutils_8h_a58a5443fc260766e73f59d06516e5e30}{lif\+\_\+image\+\_\+clear} (\hyperlink{structlif__t}{lif\+\_\+t} $\ast$L\+IF)
\begin{DoxyCompactList}\small\item\em File seek with error message. \end{DoxyCompactList}\item 
void \hyperlink{lifutils_8h_a9e74ac1fdbdd012b31544161b1c084a7}{lif\+\_\+dir\+\_\+clear} (\hyperlink{structlif__t}{lif\+\_\+t} $\ast$L\+IF)
\begin{DoxyCompactList}\small\item\em Clear \hyperlink{structDIR}{D\+IR} part of L\+IF structure. \end{DoxyCompactList}\item 
void \hyperlink{lifutils_8h_aa2f79fdf61972e648bd2145e979f778b}{lif\+\_\+vol\+\_\+clear} (\hyperlink{structlif__t}{lif\+\_\+t} $\ast$L\+IF)
\begin{DoxyCompactList}\small\item\em Clear V\+OL part of L\+IF structure. \end{DoxyCompactList}\item 
void \hyperlink{lifutils_8h_aeb216c02c5c83e589594f2f72f018193}{lif\+\_\+dump\+\_\+vol} (\hyperlink{structlif__t}{lif\+\_\+t} $\ast$L\+IF)
\begin{DoxyCompactList}\small\item\em Dump L\+IF struture data for debugging. \end{DoxyCompactList}\item 
int \hyperlink{lifutils_8h_a207f12327fe375f0b5e5d9bea8dfeb79}{lif\+\_\+check\+\_\+volume} (\hyperlink{structlif__t}{lif\+\_\+t} $\ast$L\+IF)
\begin{DoxyCompactList}\small\item\em Check Volume Table for values in range. \end{DoxyCompactList}\item 
int \hyperlink{lifutils_8h_a5cfb09f51935c39b948f7b4740ab3b14}{lif\+\_\+check\+\_\+lif\+\_\+headers} (\hyperlink{structlif__t}{lif\+\_\+t} $\ast$L\+IF)
\begin{DoxyCompactList}\small\item\em Check L\+IF base structure value (Not\+: V\+OL, \hyperlink{structDIR}{D\+IR} or space) \end{DoxyCompactList}\item 
int \hyperlink{lifutils_8h_aff400fb28ab8d6f2479a07153c5dee4d}{lif\+\_\+check\+\_\+dir} (\hyperlink{structlif__t}{lif\+\_\+t} $\ast$L\+IF)
\begin{DoxyCompactList}\small\item\em Validate Directory record values We only do basic out of bounds tests for this record Purged or E\+OF directory records are N\+OT checked and always return 1. \end{DoxyCompactList}\item 
\hyperlink{structlif__t}{lif\+\_\+t} $\ast$ \hyperlink{lifutils_8h_a86fdac99a0a81ed966d49e36d17b3153}{lif\+\_\+create\+\_\+volume} (char $\ast$imagename, char $\ast$liflabel, long dirstart, long dirsectors, long filesectors)
\begin{DoxyCompactList}\small\item\em Create L\+IF image with Volume, Directory and optional empty filespace. \end{DoxyCompactList}\item 
void \hyperlink{lifutils_8h_a3dad66b61744022e08019528ed18ac4f}{lif\+\_\+close\+\_\+volume} (\hyperlink{structlif__t}{lif\+\_\+t} $\ast$L\+IF)
\begin{DoxyCompactList}\small\item\em Free L\+IF structure and close any files. \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{lifutils_8h_a3683da69db9cc01b407a8f119250d9bb}{lif\+\_\+bytes2sectors} (uint32\+\_\+t bytes)
\begin{DoxyCompactList}\small\item\em Convert bytes into used sectors. \end{DoxyCompactList}\item 
void \hyperlink{lifutils_8h_a0e7257e84984a768184d0653e62a3f4d}{lif\+\_\+rewinddir} (\hyperlink{structlif__t}{lif\+\_\+t} $\ast$L\+IF)
\begin{DoxyCompactList}\small\item\em Rewind L\+IF directory Note readdir pre-\/increments the directory pointer index so we start at -\/1. \end{DoxyCompactList}\item 
void \hyperlink{lifutils_8h_a27b87592a32171571d86c336efc1bf51}{lif\+\_\+closedir} (\hyperlink{structlif__t}{lif\+\_\+t} $\ast$L\+IF)
\begin{DoxyCompactList}\small\item\em Close L\+IF directory clear and free \hyperlink{structlif__t}{lif\+\_\+t} structure. \end{DoxyCompactList}\item 
int \hyperlink{lifutils_8h_a90d454e57a99a5987b8d6b6b80892061}{lif\+\_\+checkdirindex} (\hyperlink{structlif__t}{lif\+\_\+t} $\ast$L\+IF, int index)
\begin{DoxyCompactList}\small\item\em Check directory index limits. \end{DoxyCompactList}\item 
int \hyperlink{lifutils_8h_ac1c11cf1213647b37d11d9fae782ee27}{lif\+\_\+readdirindex} (\hyperlink{structlif__t}{lif\+\_\+t} $\ast$L\+IF, int index)
\begin{DoxyCompactList}\small\item\em Read L\+IF directory record number N. \end{DoxyCompactList}\item 
int \hyperlink{lifutils_8h_a560dc5f5b402cb932d2bf75160eb19ca}{lif\+\_\+writedirindex} (\hyperlink{structlif__t}{lif\+\_\+t} $\ast$L\+IF, int index)
\begin{DoxyCompactList}\small\item\em Write L\+IF drectory record number N. \end{DoxyCompactList}\item 
int \hyperlink{lifutils_8h_a8e9da14a02220515367321c460ba46f8}{lif\+\_\+writedir\+E\+OF} (\hyperlink{structlif__t}{lif\+\_\+t} $\ast$L\+IF, int index)
\begin{DoxyCompactList}\small\item\em Write L\+IF drectory E\+OF. \end{DoxyCompactList}\item 
\hyperlink{structlifdir__t}{lifdir\+\_\+t} $\ast$ \hyperlink{lifutils_8h_a620a1a2fcb2f6f2e871fd8e4048d22db}{lif\+\_\+readdir} (\hyperlink{structlif__t}{lif\+\_\+t} $\ast$L\+IF)
\begin{DoxyCompactList}\small\item\em Read a directory records from L\+IF image advancind directory index. \end{DoxyCompactList}\item 
\hyperlink{structlif__t}{lif\+\_\+t} $\ast$ \hyperlink{lifutils_8h_a71e67d0729bfa2f7eda2af26fe0eef5e}{lif\+\_\+open\+\_\+volume} (char $\ast$name, char $\ast$mode)
\begin{DoxyCompactList}\small\item\em Open L\+IF directory for reading. \end{DoxyCompactList}\item 
void \hyperlink{lifutils_8h_af72f6c28609a1dcb302381a195aa8afe}{lif\+\_\+dir} (char $\ast$lifimagename)
\begin{DoxyCompactList}\small\item\em Display a L\+IF image file directory. \end{DoxyCompactList}\item 
int \hyperlink{lifutils_8h_a202c268417101307124dee4651d4e495}{lif\+\_\+find\+\_\+file} (\hyperlink{structlif__t}{lif\+\_\+t} $\ast$L\+IF, char $\ast$liflabel)
\begin{DoxyCompactList}\small\item\em Find a L\+IF image file by name. \end{DoxyCompactList}\item 
int \hyperlink{lifutils_8h_ad805abeac64ec242a010dd8a40a0c61d}{lif\+\_\+findfree\+\_\+dirindex} (\hyperlink{structlif__t}{lif\+\_\+t} $\ast$L\+IF, uint32\+\_\+t sectors)
\begin{DoxyCompactList}\small\item\em Find free directory slot that can hold $>$= sectors in size Unless a record is purged this will always be the last record. \end{DoxyCompactList}\item 
int \hyperlink{lifutils_8h_a5b44a57be8a5bdea2526cbdb73c61359}{lif\+\_\+ascii\+\_\+string\+\_\+to\+\_\+e010} (char $\ast$str, long offset, uint8\+\_\+t $\ast$wbuf)
\begin{DoxyCompactList}\small\item\em H\+P85 E010 A\+S\+C\+II L\+IF records ef \mbox{[}ff\mbox{]}$\ast$ = no more data in this sector df size \mbox{[}A\+S\+C\+II\mbox{]} = data must fit inside this sector cf size \mbox{[}A\+S\+C\+II\mbox{]} = split data accross sector boundry, \char`\"{}6f\char`\"{} record continues at start of next sector Note\+: The 6f header is I\+N\+S\+I\+DE the \char`\"{}cf\char`\"{} record and not included in the \char`\"{}cf\char`\"{} size value (yuck!) 6f size \mbox{[}A\+S\+C\+II\mbox{]} = split continue (always starts at sector boundry) df 00 00 ef \mbox{[}ff\mbox{]}$\ast$ = E\+OF (df size = 0) pad with \char`\"{}ef\char`\"{} and \char`\"{}ff\char`\"{} until sector end size = 16 bits L\+SB M\+SB. \end{DoxyCompactList}\item 
long \hyperlink{lifutils_8h_a5c39b7db30aac3b76f21d4525a58caab}{lif\+\_\+add\+\_\+ascii\+\_\+file\+\_\+as\+\_\+e010\+\_\+wrapper} (\hyperlink{structlif__t}{lif\+\_\+t} $\ast$L\+IF, uint32\+\_\+t offset, char $\ast$username)
\begin{DoxyCompactList}\small\item\em Add A\+S\+C\+II file as E010 data to L\+IF image -\/ or compute converted data size To find size of formatted result only, without writting, set L\+IF to N\+U\+LL. \end{DoxyCompactList}\item 
long \hyperlink{lifutils_8h_a4e11267b7e55857ae3a6bfa1525aa672}{lif\+\_\+add\+\_\+ascii\+\_\+file\+\_\+as\+\_\+e010} (char $\ast$lifimagename, char $\ast$lifname, char $\ast$userfile)
\begin{DoxyCompactList}\small\item\em Convert and add A\+S\+C\+II file to the L\+IF image as type E010 format The basename of the lifname, without extensions, is used as the L\+IF file name. \end{DoxyCompactList}\item 
int \hyperlink{lifutils_8h_ab85d79f69fdc9f123a59e158ab53b5cc}{lif\+\_\+extract\+\_\+e010\+\_\+as\+\_\+ascii} (char $\ast$lifimagename, char $\ast$lifname, char $\ast$username)
\begin{DoxyCompactList}\small\item\em Extract E010 type file from L\+IF image and save as user A\+S\+C\+II file. \end{DoxyCompactList}\item 
int \hyperlink{lifutils_8h_ab5e4da11c2b5336dc6dcb634569b6628}{lif\+\_\+extract\+\_\+lif\+\_\+as\+\_\+lif} (char $\ast$lifimagename, char $\ast$lifname, char $\ast$username)
\begin{DoxyCompactList}\small\item\em Extract a file from L\+IF image entry as standalone L\+IF image. \end{DoxyCompactList}\item 
long \hyperlink{lifutils_8h_a3445344374b0cf50f9deb388493d260e}{lif\+\_\+add\+\_\+lif\+\_\+file} (char $\ast$lifimagename, char $\ast$lifname, char $\ast$userfile)
\begin{DoxyCompactList}\small\item\em Add L\+IF file from another L\+IF image. \end{DoxyCompactList}\item 
int \hyperlink{lifutils_8h_aec56d991a9336f73a2b5d439a4f77935}{lif\+\_\+del\+\_\+file} (char $\ast$lifimagename, char $\ast$lifname)
\begin{DoxyCompactList}\small\item\em Delete L\+IF file in L\+IF image. \end{DoxyCompactList}\item 
int \hyperlink{lifutils_8h_a5b44c50681c402af5beb60382e8abc99}{lif\+\_\+rename\+\_\+file} (char $\ast$lifimagename, char $\ast$oldlifname, char $\ast$newlifname)
\begin{DoxyCompactList}\small\item\em Rename L\+IF file in L\+IF image. \end{DoxyCompactList}\item 
long \hyperlink{lifutils_8h_a04850befdfc3fa416a8f0e5f916f29ed}{lif\+\_\+create\+\_\+image} (char $\ast$lifimagename, char $\ast$liflabel, uint32\+\_\+t dirsectors, uint32\+\_\+t sectors)
\begin{DoxyCompactList}\small\item\em Create/\+Format a L\+IF new disk image This can take a while to run, about 1 min for 10,000,000 bytes. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{lifutils_8h_af219299ebad47daa6631415a8b41345a}{debuglevel}
\begin{DoxyCompactList}\small\item\em Debug flag -\/ used to log G\+P\+IB and emulator messages. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\index{lifutils.\+h@{lifutils.\+h}!L\+I\+F\+\_\+\+D\+I\+R\+\_\+\+R\+E\+C\+O\+R\+D\+S\+\_\+\+P\+E\+R\+\_\+\+S\+E\+C\+T\+OR@{L\+I\+F\+\_\+\+D\+I\+R\+\_\+\+R\+E\+C\+O\+R\+D\+S\+\_\+\+P\+E\+R\+\_\+\+S\+E\+C\+T\+OR}}
\index{L\+I\+F\+\_\+\+D\+I\+R\+\_\+\+R\+E\+C\+O\+R\+D\+S\+\_\+\+P\+E\+R\+\_\+\+S\+E\+C\+T\+OR@{L\+I\+F\+\_\+\+D\+I\+R\+\_\+\+R\+E\+C\+O\+R\+D\+S\+\_\+\+P\+E\+R\+\_\+\+S\+E\+C\+T\+OR}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{L\+I\+F\+\_\+\+D\+I\+R\+\_\+\+R\+E\+C\+O\+R\+D\+S\+\_\+\+P\+E\+R\+\_\+\+S\+E\+C\+T\+OR}{LIF_DIR_RECORDS_PER_SECTOR}}]{\setlength{\rightskip}{0pt plus 5cm}\#define L\+I\+F\+\_\+\+D\+I\+R\+\_\+\+R\+E\+C\+O\+R\+D\+S\+\_\+\+P\+E\+R\+\_\+\+S\+E\+C\+T\+OR~({\bf L\+I\+F\+\_\+\+S\+E\+C\+T\+O\+R\+\_\+\+S\+I\+ZE}/{\bf L\+I\+F\+\_\+\+D\+I\+R\+\_\+\+S\+I\+ZE})}\hypertarget{lifutils_8h_aa1750b32056b8fbaa729724402d587f2}{}\label{lifutils_8h_aa1750b32056b8fbaa729724402d587f2}


Definition at line 29 of file lifutils.\+h.

\index{lifutils.\+h@{lifutils.\+h}!L\+I\+F\+\_\+\+D\+I\+R\+\_\+\+S\+I\+ZE@{L\+I\+F\+\_\+\+D\+I\+R\+\_\+\+S\+I\+ZE}}
\index{L\+I\+F\+\_\+\+D\+I\+R\+\_\+\+S\+I\+ZE@{L\+I\+F\+\_\+\+D\+I\+R\+\_\+\+S\+I\+ZE}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{L\+I\+F\+\_\+\+D\+I\+R\+\_\+\+S\+I\+ZE}{LIF_DIR_SIZE}}]{\setlength{\rightskip}{0pt plus 5cm}\#define L\+I\+F\+\_\+\+D\+I\+R\+\_\+\+S\+I\+ZE~32}\hypertarget{lifutils_8h_a99ad70dd3200a3ee46388bc2c36fe720}{}\label{lifutils_8h_a99ad70dd3200a3ee46388bc2c36fe720}


L\+IF directory entry size. 



Definition at line 28 of file lifutils.\+h.



Referenced by lif\+\_\+checkdirindex(), lif\+\_\+create\+\_\+volume(), lif\+\_\+readdirindex(), and lif\+\_\+writedirindex().

\index{lifutils.\+h@{lifutils.\+h}!L\+I\+F\+\_\+\+S\+E\+C\+T\+O\+R\+\_\+\+S\+I\+ZE@{L\+I\+F\+\_\+\+S\+E\+C\+T\+O\+R\+\_\+\+S\+I\+ZE}}
\index{L\+I\+F\+\_\+\+S\+E\+C\+T\+O\+R\+\_\+\+S\+I\+ZE@{L\+I\+F\+\_\+\+S\+E\+C\+T\+O\+R\+\_\+\+S\+I\+ZE}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{L\+I\+F\+\_\+\+S\+E\+C\+T\+O\+R\+\_\+\+S\+I\+ZE}{LIF_SECTOR_SIZE}}]{\setlength{\rightskip}{0pt plus 5cm}\#define L\+I\+F\+\_\+\+S\+E\+C\+T\+O\+R\+\_\+\+S\+I\+ZE~256}\hypertarget{lifutils_8h_a9f32d2537f4daba6a314185cf52b7e56}{}\label{lifutils_8h_a9f32d2537f4daba6a314185cf52b7e56}


Depends on how much free ram we have. 



Definition at line 25 of file lifutils.\+h.



Referenced by lif\+\_\+add\+\_\+ascii\+\_\+file\+\_\+as\+\_\+e010(), lif\+\_\+add\+\_\+ascii\+\_\+file\+\_\+as\+\_\+e010\+\_\+wrapper(), lif\+\_\+add\+\_\+lif\+\_\+file(), lif\+\_\+bytes2sectors(), lif\+\_\+check\+\_\+dir(), lif\+\_\+create\+\_\+volume(), lif\+\_\+dir(), lif\+\_\+extract\+\_\+e010\+\_\+as\+\_\+ascii(), lif\+\_\+extract\+\_\+lif\+\_\+as\+\_\+lif(), lif\+\_\+findfree\+\_\+dirindex(), lif\+\_\+open\+\_\+volume(), lif\+\_\+readdirindex(), and lif\+\_\+writedirindex().



\subsection{Typedef Documentation}
\index{lifutils.\+h@{lifutils.\+h}!stat\+\_\+t@{stat\+\_\+t}}
\index{stat\+\_\+t@{stat\+\_\+t}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{stat\+\_\+t}{stat_t}}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf stat} {\bf stat\+\_\+t}}\hypertarget{lifutils_8h_aebb3d0e746d3aa086e0baa48ad66b964}{}\label{lifutils_8h_aebb3d0e746d3aa086e0baa48ad66b964}


Definition at line 22 of file lifutils.\+h.



\subsection{Function Documentation}
\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+add\+\_\+ascii\+\_\+file\+\_\+as\+\_\+e010@{lif\+\_\+add\+\_\+ascii\+\_\+file\+\_\+as\+\_\+e010}}
\index{lif\+\_\+add\+\_\+ascii\+\_\+file\+\_\+as\+\_\+e010@{lif\+\_\+add\+\_\+ascii\+\_\+file\+\_\+as\+\_\+e010}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+add\+\_\+ascii\+\_\+file\+\_\+as\+\_\+e010(char $\ast$lifimagename, char $\ast$lifname, char $\ast$userfile)}{lif_add_ascii_file_as_e010(char *lifimagename, char *lifname, char *userfile)}}]{\setlength{\rightskip}{0pt plus 5cm}long lif\+\_\+add\+\_\+ascii\+\_\+file\+\_\+as\+\_\+e010 (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{lifimagename, }
\item[{char $\ast$}]{lifname, }
\item[{char $\ast$}]{userfile}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a4e11267b7e55857ae3a6bfa1525aa672}{}\label{lifutils_8h_a4e11267b7e55857ae3a6bfa1525aa672}


Convert and add A\+S\+C\+II file to the L\+IF image as type E010 format The basename of the lifname, without extensions, is used as the L\+IF file name. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em lifimagename} & L\+IF image name \\
\hline
\mbox{\tt in}  & {\em lifname} & L\+IF file name \\
\hline
\mbox{\tt in}  & {\em userfile} & userfile name \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
size of data written into to L\+IF image, or -\/1 on error 
\end{DoxyReturn}


Definition at line 1848 of file lifutils.\+c.



Referenced by lif\+\_\+tests().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+add\+\_\+ascii\+\_\+file\+\_\+as\+\_\+e010\+\_\+wrapper@{lif\+\_\+add\+\_\+ascii\+\_\+file\+\_\+as\+\_\+e010\+\_\+wrapper}}
\index{lif\+\_\+add\+\_\+ascii\+\_\+file\+\_\+as\+\_\+e010\+\_\+wrapper@{lif\+\_\+add\+\_\+ascii\+\_\+file\+\_\+as\+\_\+e010\+\_\+wrapper}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+add\+\_\+ascii\+\_\+file\+\_\+as\+\_\+e010\+\_\+wrapper(lif\+\_\+t $\ast$\+L\+I\+F, uint32\+\_\+t offset, char $\ast$username)}{lif_add_ascii_file_as_e010_wrapper(lif_t *LIF, uint32_t offset, char *username)}}]{\setlength{\rightskip}{0pt plus 5cm}long lif\+\_\+add\+\_\+ascii\+\_\+file\+\_\+as\+\_\+e010\+\_\+wrapper (
\begin{DoxyParamCaption}
\item[{{\bf lif\+\_\+t} $\ast$}]{L\+IF, }
\item[{uint32\+\_\+t}]{offset, }
\item[{char $\ast$}]{username}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a5c39b7db30aac3b76f21d4525a58caab}{}\label{lifutils_8h_a5c39b7db30aac3b76f21d4525a58caab}


Add A\+S\+C\+II file as E010 data to L\+IF image -\/ or compute converted data size To find size of formatted result only, without writting, set L\+IF to N\+U\+LL. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em userfile} & User A\+S\+C\+II file source \\
\hline
\mbox{\tt in}  & {\em $\ast$\+L\+IF} & Where to write file if set (not N\+U\+LL) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
size of formatted result 
\end{DoxyReturn}


Definition at line 1768 of file lifutils.\+c.



Referenced by lif\+\_\+add\+\_\+ascii\+\_\+file\+\_\+as\+\_\+e010().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+add\+\_\+lif\+\_\+file@{lif\+\_\+add\+\_\+lif\+\_\+file}}
\index{lif\+\_\+add\+\_\+lif\+\_\+file@{lif\+\_\+add\+\_\+lif\+\_\+file}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+add\+\_\+lif\+\_\+file(char $\ast$lifimagename, char $\ast$lifname, char $\ast$userfile)}{lif_add_lif_file(char *lifimagename, char *lifname, char *userfile)}}]{\setlength{\rightskip}{0pt plus 5cm}long lif\+\_\+add\+\_\+lif\+\_\+file (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{lifimagename, }
\item[{char $\ast$}]{lifname, }
\item[{char $\ast$}]{userfile}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a3445344374b0cf50f9deb388493d260e}{}\label{lifutils_8h_a3445344374b0cf50f9deb388493d260e}


Add L\+IF file from another L\+IF image. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em lifimagename} & L\+IF image name \\
\hline
\mbox{\tt in}  & {\em lifname} & L\+IF file name to copy file to \\
\hline
\mbox{\tt in}  & {\em userfile} & L\+IF mage name copy file from \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
size of data written into to L\+IF image, or -\/1 on error 
\end{DoxyReturn}


Definition at line 2236 of file lifutils.\+c.



Referenced by lif\+\_\+tests().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+ascii\+\_\+string\+\_\+to\+\_\+e010@{lif\+\_\+ascii\+\_\+string\+\_\+to\+\_\+e010}}
\index{lif\+\_\+ascii\+\_\+string\+\_\+to\+\_\+e010@{lif\+\_\+ascii\+\_\+string\+\_\+to\+\_\+e010}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+ascii\+\_\+string\+\_\+to\+\_\+e010(char $\ast$str, long offset, uint8\+\_\+t $\ast$wbuf)}{lif_ascii_string_to_e010(char *str, long offset, uint8_t *wbuf)}}]{\setlength{\rightskip}{0pt plus 5cm}int lif\+\_\+ascii\+\_\+string\+\_\+to\+\_\+e010 (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{str, }
\item[{long}]{offset, }
\item[{uint8\+\_\+t $\ast$}]{wbuf}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a5b44a57be8a5bdea2526cbdb73c61359}{}\label{lifutils_8h_a5b44a57be8a5bdea2526cbdb73c61359}


H\+P85 E010 A\+S\+C\+II L\+IF records ef \mbox{[}ff\mbox{]}$\ast$ = no more data in this sector df size \mbox{[}A\+S\+C\+II\mbox{]} = data must fit inside this sector cf size \mbox{[}A\+S\+C\+II\mbox{]} = split data accross sector boundry, \char`\"{}6f\char`\"{} record continues at start of next sector Note\+: The 6f header is I\+N\+S\+I\+DE the \char`\"{}cf\char`\"{} record and not included in the \char`\"{}cf\char`\"{} size value (yuck!) 6f size \mbox{[}A\+S\+C\+II\mbox{]} = split continue (always starts at sector boundry) df 00 00 ef \mbox{[}ff\mbox{]}$\ast$ = E\+OF (df size = 0) pad with \char`\"{}ef\char`\"{} and \char`\"{}ff\char`\"{} until sector end size = 16 bits L\+SB M\+SB. 

Example\+: 000080e0 \+: 4b 7c 22 0d cf 29 00 31 34 20 44 49 53 50 20 22 \+: K$\vert$\char`\"{}..).\+14 D\+I\+S\+P \char`\"{} 000080f0 \+: 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 5f \+: \+\_\+ 00008100 \+: 6f 10 00 5f 5f 5f 5f 5f 5f 5f 5f 5f 5f 5f 5f 5f \+: o..\+\_\+\+\_\+\+\_\+\+\_\+\+\_\+\+\_\+\+\_\+\+\_\+\+\_\+\+\_\+\+\_\+\+\_\+\+\_\+ 00008110 \+: 5f 22 0d df 2b 00 31 35 20 44 49 53 50 20 22 20 \+: \+\_\+\char`\"{}..+.\+15 D\+I\+S\+P \char`\"{}

cf 29 00 (19 is to sector end) (new sector start with 6F 10 00 (10 is remainder) So 29 = 19 and 10 (yuck!)Convert an A\+S\+C\+II string into H\+P85 E010 format 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em str} & A\+S\+C\+II string to write \\
\hline
\mbox{\tt in}  & {\em offset} & E010 data sector offset, only used in formatting wbuf with headers \\
\hline
\mbox{\tt in}  & {\em wbuf} & E010 data result \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
size of E010 data 
\end{DoxyReturn}


Definition at line 1646 of file lifutils.\+c.



Referenced by lif\+\_\+add\+\_\+ascii\+\_\+file\+\_\+as\+\_\+e010\+\_\+wrapper(), and lif\+\_\+findfree\+\_\+dirindex().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+\+B2S@{lif\+\_\+\+B2S}}
\index{lif\+\_\+\+B2S@{lif\+\_\+\+B2S}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+\+B2\+S(uint8\+\_\+t $\ast$\+B, uint8\+\_\+t $\ast$name, int size)}{lif_B2S(uint8_t *B, uint8_t *name, int size)}}]{\setlength{\rightskip}{0pt plus 5cm}int lif\+\_\+\+B2S (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t $\ast$}]{B, }
\item[{uint8\+\_\+t $\ast$}]{name, }
\item[{int}]{size}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a6ef03363b9241a81bdd36c868ec93190}{}\label{lifutils_8h_a6ef03363b9241a81bdd36c868ec93190}


Convert L\+IF space padded string name into normal string. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em $\ast$B} & L\+IF name space padded \\
\hline
\mbox{\tt out}  & {\em $\ast$name} & string result with traling spaces removed \\
\hline
\mbox{\tt in}  & {\em size} & max size of name  1 if string i ok or 0 if bad characters were found \\
\hline
\end{DoxyParams}


Definition at line 491 of file lifutils.\+c.



Referenced by lif\+\_\+str2dir(), and lif\+\_\+str2vol().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+\+B\+C\+D2\+B\+IN@{lif\+\_\+\+B\+C\+D2\+B\+IN}}
\index{lif\+\_\+\+B\+C\+D2\+B\+IN@{lif\+\_\+\+B\+C\+D2\+B\+IN}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+\+B\+C\+D2\+B\+I\+N(uint8\+\_\+t bin)}{lif_BCD2BIN(uint8_t bin)}}]{\setlength{\rightskip}{0pt plus 5cm}int lif\+\_\+\+B\+C\+D2\+B\+IN (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t}]{bin}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_aa4058b2bc66bf0b1e4b00e3d5a014e27}{}\label{lifutils_8h_aa4058b2bc66bf0b1e4b00e3d5a014e27}


Convert B\+CD in the range 0 and $<$= 99 to B\+IN B\+CD format\+: each hex nibble has a digit 0 .. 9. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em data} & number to convert to binary \\
\hline
\end{DoxyParams}


Definition at line 669 of file lifutils.\+c.



Referenced by lif\+\_\+lifbcd2time().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+\+B\+I\+N2\+B\+CD@{lif\+\_\+\+B\+I\+N2\+B\+CD}}
\index{lif\+\_\+\+B\+I\+N2\+B\+CD@{lif\+\_\+\+B\+I\+N2\+B\+CD}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+\+B\+I\+N2\+B\+C\+D(uint8\+\_\+t data)}{lif_BIN2BCD(uint8_t data)}}]{\setlength{\rightskip}{0pt plus 5cm}uint8\+\_\+t lif\+\_\+\+B\+I\+N2\+B\+CD (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t}]{data}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a68235d8edc4ac1583e77c90d16a877c8}{}\label{lifutils_8h_a68235d8edc4ac1583e77c90d16a877c8}


Convert number $>$= 0 and $<$= 99 to B\+CD. 

\begin{DoxyWarning}{Warning}
we assume the number is in range. B\+CD format\+: each hex nibble has a digit 0 .. 9 
\end{DoxyWarning}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em data} & number to convert. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
B\+CD value 
\end{DoxyReturn}


Definition at line 660 of file lifutils.\+c.



Referenced by lif\+\_\+time2lifbcd().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+bytes2sectors@{lif\+\_\+bytes2sectors}}
\index{lif\+\_\+bytes2sectors@{lif\+\_\+bytes2sectors}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+bytes2sectors(uint32\+\_\+t bytes)}{lif_bytes2sectors(uint32_t bytes)}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t lif\+\_\+bytes2sectors (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t}]{bytes}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a3683da69db9cc01b407a8f119250d9bb}{}\label{lifutils_8h_a3683da69db9cc01b407a8f119250d9bb}


Convert bytes into used sectors. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em bytes} & size in bytes \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
sectors 
\end{DoxyReturn}


Definition at line 1189 of file lifutils.\+c.



Referenced by lif\+\_\+add\+\_\+ascii\+\_\+file\+\_\+as\+\_\+e010(), lif\+\_\+check\+\_\+dir(), lif\+\_\+checkdirindex(), lif\+\_\+extract\+\_\+e010\+\_\+as\+\_\+ascii(), and lif\+\_\+open\+\_\+volume().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+calloc@{lif\+\_\+calloc}}
\index{lif\+\_\+calloc@{lif\+\_\+calloc}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+calloc(long size)}{lif_calloc(long size)}}]{\setlength{\rightskip}{0pt plus 5cm}void$\ast$ lif\+\_\+calloc (
\begin{DoxyParamCaption}
\item[{long}]{size}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a49aa170d2fe86ee0f45b87d3d32fd9c1}{}\label{lifutils_8h_a49aa170d2fe86ee0f45b87d3d32fd9c1}


Allocate and clear memory Displays message on errors. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em size} & size of memory to allocate \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
pointer to allocated memory 
\end{DoxyReturn}


Definition at line 331 of file lifutils.\+c.



Referenced by lif\+\_\+create\+\_\+volume(), lif\+\_\+open\+\_\+volume(), and lif\+\_\+stralloc().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+chars@{lif\+\_\+chars}}
\index{lif\+\_\+chars@{lif\+\_\+chars}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+chars(int c, int index)}{lif_chars(int c, int index)}}]{\setlength{\rightskip}{0pt plus 5cm}int lif\+\_\+chars (
\begin{DoxyParamCaption}
\item[{int}]{c, }
\item[{int}]{index}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a390b6787d7428e6c8492013b8c982fd9}{}\label{lifutils_8h_a390b6787d7428e6c8492013b8c982fd9}


Check if characters in a L\+IF volume or L\+IF file name are valid. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em c} & character to test \\
\hline
\mbox{\tt in}  & {\em index} & index of character in volume or file name  c (optionally upper cased) or 0 if no match \\
\hline
\end{DoxyParams}


Definition at line 471 of file lifutils.\+c.



Referenced by lif\+\_\+\+B2\+S(), lif\+\_\+checkname(), and lif\+\_\+fixname().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+check\+\_\+dir@{lif\+\_\+check\+\_\+dir}}
\index{lif\+\_\+check\+\_\+dir@{lif\+\_\+check\+\_\+dir}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+check\+\_\+dir(lif\+\_\+t $\ast$\+L\+I\+F)}{lif_check_dir(lif_t *LIF)}}]{\setlength{\rightskip}{0pt plus 5cm}int lif\+\_\+check\+\_\+dir (
\begin{DoxyParamCaption}
\item[{{\bf lif\+\_\+t} $\ast$}]{L\+IF}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_aff400fb28ab8d6f2479a07153c5dee4d}{}\label{lifutils_8h_aff400fb28ab8d6f2479a07153c5dee4d}


Validate Directory record values We only do basic out of bounds tests for this record Purged or E\+OF directory records are N\+OT checked and always return 1. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em $\ast$\+L\+IF} & Image structure \\
\hline
\mbox{\tt in}  & {\em debug} & dispaly diagostice messages \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 of ok, 0 on eeror 
\end{DoxyReturn}


Definition at line 943 of file lifutils.\+c.



Referenced by lif\+\_\+readdirindex(), and lif\+\_\+writedirindex().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+check\+\_\+lif\+\_\+headers@{lif\+\_\+check\+\_\+lif\+\_\+headers}}
\index{lif\+\_\+check\+\_\+lif\+\_\+headers@{lif\+\_\+check\+\_\+lif\+\_\+headers}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+check\+\_\+lif\+\_\+headers(lif\+\_\+t $\ast$\+L\+I\+F)}{lif_check_lif_headers(lif_t *LIF)}}]{\setlength{\rightskip}{0pt plus 5cm}int lif\+\_\+check\+\_\+lif\+\_\+headers (
\begin{DoxyParamCaption}
\item[{{\bf lif\+\_\+t} $\ast$}]{L\+IF}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a5cfb09f51935c39b948f7b4740ab3b14}{}\label{lifutils_8h_a5cfb09f51935c39b948f7b4740ab3b14}


Check L\+IF base structure value (Not\+: V\+OL, \hyperlink{structDIR}{D\+IR} or space) 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em $\ast$\+L\+IF} & Image structure \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 of ok, 0 on eeror 
\end{DoxyReturn}


Definition at line 896 of file lifutils.\+c.



Referenced by lif\+\_\+open\+\_\+volume().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+check\+\_\+volume@{lif\+\_\+check\+\_\+volume}}
\index{lif\+\_\+check\+\_\+volume@{lif\+\_\+check\+\_\+volume}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+check\+\_\+volume(lif\+\_\+t $\ast$\+L\+I\+F)}{lif_check_volume(lif_t *LIF)}}]{\setlength{\rightskip}{0pt plus 5cm}int lif\+\_\+check\+\_\+volume (
\begin{DoxyParamCaption}
\item[{{\bf lif\+\_\+t} $\ast$}]{L\+IF}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a207f12327fe375f0b5e5d9bea8dfeb79}{}\label{lifutils_8h_a207f12327fe375f0b5e5d9bea8dfeb79}


Check Volume Table for values in range. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em $\ast$\+L\+IF} & Image structure \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 of ok, 0 on eeror 
\end{DoxyReturn}


Definition at line 841 of file lifutils.\+c.



Referenced by lif\+\_\+open\+\_\+volume().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+checkdirindex@{lif\+\_\+checkdirindex}}
\index{lif\+\_\+checkdirindex@{lif\+\_\+checkdirindex}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+checkdirindex(lif\+\_\+t $\ast$\+L\+I\+F, int index)}{lif_checkdirindex(lif_t *LIF, int index)}}]{\setlength{\rightskip}{0pt plus 5cm}int lif\+\_\+checkdirindex (
\begin{DoxyParamCaption}
\item[{{\bf lif\+\_\+t} $\ast$}]{L\+IF, }
\item[{int}]{index}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a90d454e57a99a5987b8d6b6b80892061}{}\label{lifutils_8h_a90d454e57a99a5987b8d6b6b80892061}


Check directory index limits. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em $\ast$\+L\+IF} & L\+IF Volume/\+Diractoy structure \\
\hline
\mbox{\tt in}  & {\em index} & directory index \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 inside, 0 outside 
\end{DoxyReturn}


Definition at line 1220 of file lifutils.\+c.



Referenced by lif\+\_\+readdirindex(), and lif\+\_\+writedirindex().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+checkname@{lif\+\_\+checkname}}
\index{lif\+\_\+checkname@{lif\+\_\+checkname}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+checkname(char $\ast$name)}{lif_checkname(char *name)}}]{\setlength{\rightskip}{0pt plus 5cm}int lif\+\_\+checkname (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{name}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a87df4549ffaf99f198cc8aa40923d1e8}{}\label{lifutils_8h_a87df4549ffaf99f198cc8aa40923d1e8}


Check volume if name or directory name is valid. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em $\ast$name} & name to test  1 if the string is ok or 0 if invalid L\+IF name characters on input string \\
\hline
\end{DoxyParams}


Definition at line 511 of file lifutils.\+c.



Referenced by lif\+\_\+check\+\_\+dir(), lif\+\_\+check\+\_\+volume(), lif\+\_\+find\+\_\+file(), and lif\+\_\+rename\+\_\+file().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+close\+\_\+volume@{lif\+\_\+close\+\_\+volume}}
\index{lif\+\_\+close\+\_\+volume@{lif\+\_\+close\+\_\+volume}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+close\+\_\+volume(lif\+\_\+t $\ast$\+L\+I\+F)}{lif_close_volume(lif_t *LIF)}}]{\setlength{\rightskip}{0pt plus 5cm}void lif\+\_\+close\+\_\+volume (
\begin{DoxyParamCaption}
\item[{{\bf lif\+\_\+t} $\ast$}]{L\+IF}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a3dad66b61744022e08019528ed18ac4f}{}\label{lifutils_8h_a3dad66b61744022e08019528ed18ac4f}


Free L\+IF structure and close any files. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em $\ast$\+L\+IF} & pointer to L\+IF Volume/\+Directoy structure \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line 1168 of file lifutils.\+c.



Referenced by lif\+\_\+closedir(), lif\+\_\+create\+\_\+image(), and lif\+\_\+create\+\_\+volume().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+closedir@{lif\+\_\+closedir}}
\index{lif\+\_\+closedir@{lif\+\_\+closedir}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+closedir(lif\+\_\+t $\ast$\+L\+I\+F)}{lif_closedir(lif_t *LIF)}}]{\setlength{\rightskip}{0pt plus 5cm}void lif\+\_\+closedir (
\begin{DoxyParamCaption}
\item[{{\bf lif\+\_\+t} $\ast$}]{L\+IF}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a27b87592a32171571d86c336efc1bf51}{}\label{lifutils_8h_a27b87592a32171571d86c336efc1bf51}


Close L\+IF directory clear and free \hyperlink{structlif__t}{lif\+\_\+t} structure. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em $\ast$\+L\+IF} & pointer to L\+IF Volume/\+Directoy structure \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on sucesss, -\/1 on error 
\end{DoxyReturn}


Definition at line 1211 of file lifutils.\+c.



Referenced by lif\+\_\+add\+\_\+ascii\+\_\+file\+\_\+as\+\_\+e010(), lif\+\_\+add\+\_\+lif\+\_\+file(), lif\+\_\+del\+\_\+file(), lif\+\_\+dir(), lif\+\_\+extract\+\_\+e010\+\_\+as\+\_\+ascii(), lif\+\_\+extract\+\_\+lif\+\_\+as\+\_\+lif(), lif\+\_\+open\+\_\+volume(), and lif\+\_\+rename\+\_\+file().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+create\+\_\+image@{lif\+\_\+create\+\_\+image}}
\index{lif\+\_\+create\+\_\+image@{lif\+\_\+create\+\_\+image}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+create\+\_\+image(char $\ast$lifimagename, char $\ast$liflabel, uint32\+\_\+t dirsectors, uint32\+\_\+t sectors)}{lif_create_image(char *lifimagename, char *liflabel, uint32_t dirsectors, uint32_t sectors)}}]{\setlength{\rightskip}{0pt plus 5cm}long lif\+\_\+create\+\_\+image (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{lifimagename, }
\item[{char $\ast$}]{liflabel, }
\item[{uint32\+\_\+t}]{dirsectors, }
\item[{uint32\+\_\+t}]{sectors}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a04850befdfc3fa416a8f0e5f916f29ed}{}\label{lifutils_8h_a04850befdfc3fa416a8f0e5f916f29ed}


Create/\+Format a L\+IF new disk image This can take a while to run, about 1 min for 10,000,000 bytes. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em lifimagename} & L\+IF disk image name \\
\hline
\mbox{\tt in}  & {\em liflabel} & L\+IF Volume Label name \\
\hline
\mbox{\tt in}  & {\em dirsectors} & Number of L\+IF directory sectors \\
\hline
\mbox{\tt in}  & {\em sectors} & total disk image size in sectors \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
bytes writting to disk image 
\end{DoxyReturn}


Definition at line 2471 of file lifutils.\+c.



Referenced by format\+\_\+drives(), and lif\+\_\+tests().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+create\+\_\+volume@{lif\+\_\+create\+\_\+volume}}
\index{lif\+\_\+create\+\_\+volume@{lif\+\_\+create\+\_\+volume}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+create\+\_\+volume(char $\ast$imagename, char $\ast$liflabel, long dirstart, long dirsectors, long filesectors)}{lif_create_volume(char *imagename, char *liflabel, long dirstart, long dirsectors, long filesectors)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf lif\+\_\+t}$\ast$ lif\+\_\+create\+\_\+volume (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{imagename, }
\item[{char $\ast$}]{liflabel, }
\item[{long}]{dirstart, }
\item[{long}]{dirsectors, }
\item[{long}]{filesectors}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a86fdac99a0a81ed966d49e36d17b3153}{}\label{lifutils_8h_a86fdac99a0a81ed966d49e36d17b3153}


Create L\+IF image with Volume, Directory and optional empty filespace. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em imagename} & Image name \\
\hline
\mbox{\tt in}  & {\em liflabel} & Volume Label \\
\hline
\mbox{\tt in}  & {\em dirstart} & Directory start sector \\
\hline
\mbox{\tt in}  & {\em dirsectors} & Directory sectors \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
pointer to L\+IF structure 
\end{DoxyReturn}
0 causes time to return the current date 

Definition at line 1033 of file lifutils.\+c.



Referenced by lif\+\_\+create\+\_\+image(), and lif\+\_\+extract\+\_\+lif\+\_\+as\+\_\+lif().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+del\+\_\+file@{lif\+\_\+del\+\_\+file}}
\index{lif\+\_\+del\+\_\+file@{lif\+\_\+del\+\_\+file}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+del\+\_\+file(char $\ast$lifimagename, char $\ast$lifname)}{lif_del_file(char *lifimagename, char *lifname)}}]{\setlength{\rightskip}{0pt plus 5cm}int lif\+\_\+del\+\_\+file (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{lifimagename, }
\item[{char $\ast$}]{lifname}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_aec56d991a9336f73a2b5d439a4f77935}{}\label{lifutils_8h_aec56d991a9336f73a2b5d439a4f77935}


Delete L\+IF file in L\+IF image. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em lifimagename} & L\+IF image name \\
\hline
\mbox{\tt in}  & {\em lifname} & L\+IF file name \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 if deleted, 0 if not found, -\/1 error 
\end{DoxyReturn}


Definition at line 2357 of file lifutils.\+c.



Referenced by lif\+\_\+tests().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+dir@{lif\+\_\+dir}}
\index{lif\+\_\+dir@{lif\+\_\+dir}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+dir(char $\ast$lifimagename)}{lif_dir(char *lifimagename)}}]{\setlength{\rightskip}{0pt plus 5cm}void lif\+\_\+dir (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{lifimagename}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_af72f6c28609a1dcb302381a195aa8afe}{}\label{lifutils_8h_af72f6c28609a1dcb302381a195aa8afe}


Display a L\+IF image file directory. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em lifimagename} & L\+IF disk image name \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
-\/1 on error or number of files found 
\end{DoxyReturn}


Definition at line 1443 of file lifutils.\+c.



Referenced by lif\+\_\+tests().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+dir2str@{lif\+\_\+dir2str}}
\index{lif\+\_\+dir2str@{lif\+\_\+dir2str}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+dir2str(lif\+\_\+t $\ast$\+L\+I\+F, uint8\+\_\+t $\ast$\+B)}{lif_dir2str(lif_t *LIF, uint8_t *B)}}]{\setlength{\rightskip}{0pt plus 5cm}void lif\+\_\+dir2str (
\begin{DoxyParamCaption}
\item[{{\bf lif\+\_\+t} $\ast$}]{L\+IF, }
\item[{uint8\+\_\+t $\ast$}]{B}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a31b9afe8b63649efbd1dfc90e5e1ee1a}{}\label{lifutils_8h_a31b9afe8b63649efbd1dfc90e5e1ee1a}


Convert L\+IF directory records into byte vector. 


\begin{DoxyParams}{Parameters}
{\em } & \\
\hline
\end{DoxyParams}


Definition at line 627 of file lifutils.\+c.



Referenced by lif\+\_\+create\+\_\+volume(), and lif\+\_\+writedirindex().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+dir\+\_\+clear@{lif\+\_\+dir\+\_\+clear}}
\index{lif\+\_\+dir\+\_\+clear@{lif\+\_\+dir\+\_\+clear}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+dir\+\_\+clear(lif\+\_\+t $\ast$\+L\+I\+F)}{lif_dir_clear(lif_t *LIF)}}]{\setlength{\rightskip}{0pt plus 5cm}void lif\+\_\+dir\+\_\+clear (
\begin{DoxyParamCaption}
\item[{{\bf lif\+\_\+t} $\ast$}]{L\+IF}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a9e74ac1fdbdd012b31544161b1c084a7}{}\label{lifutils_8h_a9e74ac1fdbdd012b31544161b1c084a7}


Clear \hyperlink{structDIR}{D\+IR} part of L\+IF structure. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em $\ast$\+L\+IF} & pointer to L\+IF structure \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line 793 of file lifutils.\+c.



Referenced by lif\+\_\+create\+\_\+volume(), and lif\+\_\+writedir\+E\+O\+F().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+dump\+\_\+vol@{lif\+\_\+dump\+\_\+vol}}
\index{lif\+\_\+dump\+\_\+vol@{lif\+\_\+dump\+\_\+vol}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+dump\+\_\+vol(lif\+\_\+t $\ast$\+L\+I\+F)}{lif_dump_vol(lif_t *LIF)}}]{\setlength{\rightskip}{0pt plus 5cm}void lif\+\_\+dump\+\_\+vol (
\begin{DoxyParamCaption}
\item[{{\bf lif\+\_\+t} $\ast$}]{L\+IF}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_aeb216c02c5c83e589594f2f72f018193}{}\label{lifutils_8h_aeb216c02c5c83e589594f2f72f018193}


Dump L\+IF struture data for debugging. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em $\ast$\+L\+IF} & pointer to L\+IF structure \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line 809 of file lifutils.\+c.



Referenced by lif\+\_\+add\+\_\+ascii\+\_\+file\+\_\+as\+\_\+e010(), lif\+\_\+checkdirindex(), lif\+\_\+create\+\_\+volume(), lif\+\_\+open\+\_\+volume(), lif\+\_\+readdirindex(), and lif\+\_\+writedirindex().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+extract\+\_\+e010\+\_\+as\+\_\+ascii@{lif\+\_\+extract\+\_\+e010\+\_\+as\+\_\+ascii}}
\index{lif\+\_\+extract\+\_\+e010\+\_\+as\+\_\+ascii@{lif\+\_\+extract\+\_\+e010\+\_\+as\+\_\+ascii}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+extract\+\_\+e010\+\_\+as\+\_\+ascii(char $\ast$lifimagename, char $\ast$lifname, char $\ast$username)}{lif_extract_e010_as_ascii(char *lifimagename, char *lifname, char *username)}}]{\setlength{\rightskip}{0pt plus 5cm}int lif\+\_\+extract\+\_\+e010\+\_\+as\+\_\+ascii (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{lifimagename, }
\item[{char $\ast$}]{lifname, }
\item[{char $\ast$}]{username}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_ab85d79f69fdc9f123a59e158ab53b5cc}{}\label{lifutils_8h_ab85d79f69fdc9f123a59e158ab53b5cc}


Extract E010 type file from L\+IF image and save as user A\+S\+C\+II file. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em lifimagename} & L\+IF disk image name \\
\hline
\mbox{\tt in}  & {\em lifname} & name of file in L\+IF image \\
\hline
\mbox{\tt in}  & {\em username} & name to call the extracted image \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 on sucess or 0 on error 
\end{DoxyReturn}


Definition at line 1962 of file lifutils.\+c.



Referenced by lif\+\_\+tests().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+extract\+\_\+lif\+\_\+as\+\_\+lif@{lif\+\_\+extract\+\_\+lif\+\_\+as\+\_\+lif}}
\index{lif\+\_\+extract\+\_\+lif\+\_\+as\+\_\+lif@{lif\+\_\+extract\+\_\+lif\+\_\+as\+\_\+lif}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+extract\+\_\+lif\+\_\+as\+\_\+lif(char $\ast$lifimagename, char $\ast$lifname, char $\ast$username)}{lif_extract_lif_as_lif(char *lifimagename, char *lifname, char *username)}}]{\setlength{\rightskip}{0pt plus 5cm}int lif\+\_\+extract\+\_\+lif\+\_\+as\+\_\+lif (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{lifimagename, }
\item[{char $\ast$}]{lifname, }
\item[{char $\ast$}]{username}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_ab5e4da11c2b5336dc6dcb634569b6628}{}\label{lifutils_8h_ab5e4da11c2b5336dc6dcb634569b6628}


Extract a file from L\+IF image entry as standalone L\+IF image. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em lifimagename} & L\+IF disk image name to extract file from \\
\hline
\mbox{\tt in}  & {\em lifname} & name of file in L\+IF image we want to extract \\
\hline
\mbox{\tt in}  & {\em username} & new L\+IF file to create \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 on sucess or 0 on error 
\end{DoxyReturn}


Definition at line 2138 of file lifutils.\+c.



Referenced by lif\+\_\+tests().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+find\+\_\+file@{lif\+\_\+find\+\_\+file}}
\index{lif\+\_\+find\+\_\+file@{lif\+\_\+find\+\_\+file}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+find\+\_\+file(lif\+\_\+t $\ast$\+L\+I\+F, char $\ast$liflabel)}{lif_find_file(lif_t *LIF, char *liflabel)}}]{\setlength{\rightskip}{0pt plus 5cm}int lif\+\_\+find\+\_\+file (
\begin{DoxyParamCaption}
\item[{{\bf lif\+\_\+t} $\ast$}]{L\+IF, }
\item[{char $\ast$}]{liflabel}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a202c268417101307124dee4651d4e495}{}\label{lifutils_8h_a202c268417101307124dee4651d4e495}


Find a L\+IF image file by name. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em $\ast$\+L\+IF} & directory pointer \\
\hline
\mbox{\tt in}  & {\em liflabel} & File name in L\+IF image \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Directory index of record 
\end{DoxyReturn}


Definition at line 1501 of file lifutils.\+c.



Referenced by lif\+\_\+add\+\_\+lif\+\_\+file(), lif\+\_\+del\+\_\+file(), lif\+\_\+extract\+\_\+e010\+\_\+as\+\_\+ascii(), lif\+\_\+extract\+\_\+lif\+\_\+as\+\_\+lif(), and lif\+\_\+rename\+\_\+file().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+findfree\+\_\+dirindex@{lif\+\_\+findfree\+\_\+dirindex}}
\index{lif\+\_\+findfree\+\_\+dirindex@{lif\+\_\+findfree\+\_\+dirindex}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+findfree\+\_\+dirindex(lif\+\_\+t $\ast$\+L\+I\+F, uint32\+\_\+t sectors)}{lif_findfree_dirindex(lif_t *LIF, uint32_t sectors)}}]{\setlength{\rightskip}{0pt plus 5cm}int lif\+\_\+findfree\+\_\+dirindex (
\begin{DoxyParamCaption}
\item[{{\bf lif\+\_\+t} $\ast$}]{L\+IF, }
\item[{uint32\+\_\+t}]{sectors}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_ad805abeac64ec242a010dd8a40a0c61d}{}\label{lifutils_8h_ad805abeac64ec242a010dd8a40a0c61d}


Find free directory slot that can hold $>$= sectors in size Unless a record is purged this will always be the last record. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em $\ast$\+L\+IF} & L\+IF pointer \\
\hline
\mbox{\tt in}  & {\em sectors} & size of free space we need \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Directory index of matching record or -\/1 on error 
\end{DoxyReturn}


Definition at line 1542 of file lifutils.\+c.



Referenced by lif\+\_\+add\+\_\+ascii\+\_\+file\+\_\+as\+\_\+e010(), and lif\+\_\+add\+\_\+lif\+\_\+file().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+fixname@{lif\+\_\+fixname}}
\index{lif\+\_\+fixname@{lif\+\_\+fixname}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+fixname(uint8\+\_\+t $\ast$\+B, char $\ast$name, int size)}{lif_fixname(uint8_t *B, char *name, int size)}}]{\setlength{\rightskip}{0pt plus 5cm}int lif\+\_\+fixname (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t $\ast$}]{B, }
\item[{char $\ast$}]{name, }
\item[{int}]{size}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a4526efb5e3517ff7bb83e6ac08e4c6b6}{}\label{lifutils_8h_a4526efb5e3517ff7bb83e6ac08e4c6b6}


Convert name into a valid L\+IF name Only use the \hyperlink{posix_8c_a4d3dfaf2f5a63e2e4eaa128477a9b5e7}{basename()} part of the string and remove any file name extentions L\+IF names may have only these characters\+: \mbox{[}A-\/Z\mbox{]}\mbox{[}A-\/\+Z0-\/09\+\_\+\mbox{]}+ L\+IF names are converted to upper case L\+IF names are padded at the end with spaces Any invalid input characters are converted into spaces. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt out}  & {\em $\ast$B} & output L\+IF string \\
\hline
\mbox{\tt in}  & {\em $\ast$name} & input string \\
\hline
\mbox{\tt in}  & {\em size} & maximum size of output string \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
length of result 
\end{DoxyReturn}


Definition at line 550 of file lifutils.\+c.



Referenced by lif\+\_\+add\+\_\+ascii\+\_\+file\+\_\+as\+\_\+e010(), lif\+\_\+create\+\_\+volume(), and lif\+\_\+rename\+\_\+file().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+free@{lif\+\_\+free}}
\index{lif\+\_\+free@{lif\+\_\+free}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+free(uint8\+\_\+t $\ast$p)}{lif_free(uint8_t *p)}}]{\setlength{\rightskip}{0pt plus 5cm}void lif\+\_\+free (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t $\ast$}]{p}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a434d1938263436f42b68914a17b5ac40}{}\label{lifutils_8h_a434d1938263436f42b68914a17b5ac40}


Free allocated memory Displays message on errors. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em p} & pointer to memory to free \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
pointer to allocated memory 
\end{DoxyReturn}


Definition at line 343 of file lifutils.\+c.

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+help@{lif\+\_\+help}}
\index{lif\+\_\+help@{lif\+\_\+help}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+help(void)}{lif_help(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void lif\+\_\+help (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_adcd52baa64a03567d69ce3579e3f66ea}{}\label{lifutils_8h_adcd52baa64a03567d69ce3579e3f66ea}


Help Menu for User invoked G\+P\+IB functions and tasks See\+: int \hyperlink{gpib__tests_8h_aed0c6a0a794f33d5cf7691c96d3e4955}{gpib\+\_\+tests(char $\ast$str)} 

\subsubsection*{L\+IF Terminal Commands}

Pressing any key will break out of the gpib task loop untill a command is entered lifhelp Will list all avalable commands and options

Example commands lifadd add A\+S\+C\+II file converted to E010 format to existing L\+IF image on SD card Strings must be no longer then sector size -\/ 3 Any trailing \char`\"{}\textbackslash{}n\char`\"{} and/or \char`\"{}\textbackslash{}r\char`\"{} are coverted to \char`\"{}\textbackslash{}n\char`\"{} when stored in L\+IF file 
\begin{DoxyPre}
         \# Used to import files into the HP85 disk images
         lifadd /amigo1.lif TEST1 /test.bas
         lifadd /amigo1.lif TREK85 /TREK85/TREK85.BAS
      \end{DoxyPre}
 lifaddbin add L\+IF file to existing L\+IF image , any format, on SD card 
\begin{DoxyPre}
         \# Used to import files into the HP85 disk images
         lifaddbin /amigo1.lif TEST /test.lif
         lifaddbin /amigo1.lif TREK85 /TREK85/trek.lif
      \end{DoxyPre}
 Notes about T\+R\+E\+K85 in the examples Author\+: T\+R\+E\+K85 port was done by Martin Hepperle Notes about T\+R\+E\+K85 Author\+: T\+R\+E\+K85 port was done by Martin Hepperle \href{https://groups.io/g/hpseries80/topic/star_trek_game_for_hp_85/4845241}{\tt https\+://groups.\+io/g/hpseries80/topic/star\+\_\+trek\+\_\+game\+\_\+for\+\_\+hp\+\_\+85/4845241} To load on H\+P85\+: G\+ET \char`\"{}\+T\+R\+E\+K85\+:\+D710\char`\"{} Note\+: G\+ET takes a L\+O\+NG time $>$ 10 minutes! Assumes /amigo1.lif is \char`\"{}\+:\+D710\char`\"{} Intial R\+UN startup time is $>$ 40 seconds Once S\+T\+O\+RE is used to save the load and run times are fast lifcreate Create a L\+IF image on SD card 
\begin{DoxyPre}
         \# Example: format an LIF image file with 15 directory sectors and a length of 1120 (16 * 2 * 35) sectors
         format /amigo3.lif AMIGO3 15 1120
         Formating LIF image:[/amigo3.lif], Label:[AMIGO3], Dir Sectors:[15], sectors:[1120]
         Formating: wrote:[1120] sectors
      \end{DoxyPre}


lifdel Delete a file from L\+IF image on SD card

lifdir 
\begin{DoxyPre}
        lifdir /amigo1.lif
        Volume: [AMIGO2]
        NAME         TYPE   START SECTOR        SIZE    RECSIZE
        HELLO       E020h            10h         323        256
        CIRCLE      E020h            12h         156        256
        GPIB-S      E020h            13h         338        256
        GPIB-T      E020h            15h        1413        256
        GPIB7       E020h            1Bh         197        256
        AMIGO2      E020h            1Ch          51        256
        HELLO2      E010h            1Dh         512        256
        HELLO3      E010h            1Fh         512        256
        TEST        E010h            21h         256        256
        TREK85      E010h            22h       28160        256\end{DoxyPre}



\begin{DoxyPre}              10 Files
               0 Purged
             128 Used sectors
             976 Free sectors
             144 First free sector (90h)
      \end{DoxyPre}
 lifextract Notes\+: Extracts E010 file from L\+IF image converting to A\+S\+C\+II file on SD card 
\begin{DoxyPre}
         \# extracts an ASCII type E010 file from a LIF image and saves it on the SD card
         lifextract /amigo1.lif HELLO3 /HELLO3.BAS
         Extracting: /HELLO3.BAS
         Wrote:      311
      \end{DoxyPre}
 lifextractbin Extracts file from L\+IF image to new L\+IF image on SD card 
\begin{DoxyPre}
         \# extracts LIF from a LIF image and saves it as new LIF image on the SD card
         lifextractbin /amigo1.lif HELLO3 /hello3.lif
      \end{DoxyPre}
 lifrename Renames file in L\+IF image 
\begin{DoxyPre}
\subsection*{Renames file in LIF image on the SD card}\end{DoxyPre}



\begin{DoxyPre}
         lifrename /amigo1.lif HELLO3 HELLO4
      \end{DoxyPre}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line 115 of file lifutils.\+c.



Referenced by help(), and lif\+\_\+tests().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+image\+\_\+clear@{lif\+\_\+image\+\_\+clear}}
\index{lif\+\_\+image\+\_\+clear@{lif\+\_\+image\+\_\+clear}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+image\+\_\+clear(lif\+\_\+t $\ast$\+L\+I\+F)}{lif_image_clear(lif_t *LIF)}}]{\setlength{\rightskip}{0pt plus 5cm}void lif\+\_\+image\+\_\+clear (
\begin{DoxyParamCaption}
\item[{{\bf lif\+\_\+t} $\ast$}]{L\+IF}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a58a5443fc260766e73f59d06516e5e30}{}\label{lifutils_8h_a58a5443fc260766e73f59d06516e5e30}


File seek with error message. 

Clear L\+IF structure 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em $\ast$\+L\+IF} & pointer to L\+IF structure \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line 784 of file lifutils.\+c.



Referenced by lif\+\_\+create\+\_\+volume().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+lifbcd2time@{lif\+\_\+lifbcd2time}}
\index{lif\+\_\+lifbcd2time@{lif\+\_\+lifbcd2time}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+lifbcd2time(uint8\+\_\+t $\ast$bcd)}{lif_lifbcd2time(uint8_t *bcd)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf time\+\_\+t} lif\+\_\+lifbcd2time (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t $\ast$}]{bcd}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a8af95c56917defb3644f848aaf3b731f}{}\label{lifutils_8h_a8af95c56917defb3644f848aaf3b731f}


convert B\+CD date into time\+\_\+t value The B\+CD year is only the lower 2 digits of the year So We assume that values $<$= 70 are years $>$= 2000 B\+CD Day and Month start at 1 If A\+LL B\+CD digits are 0 we return 0 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em $\ast$bcd} & packed 6 byte B\+CD L\+IF time YY MM DD HH MM SS \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
time\+\_\+t result or 0 if all bcd digits were 0 
\end{DoxyReturn}


Definition at line 712 of file lifutils.\+c.



Referenced by lif\+\_\+extract\+\_\+e010\+\_\+as\+\_\+ascii(), and lif\+\_\+lifbcd2timestr().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+lifbcd2timestr@{lif\+\_\+lifbcd2timestr}}
\index{lif\+\_\+lifbcd2timestr@{lif\+\_\+lifbcd2timestr}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+lifbcd2timestr(uint8\+\_\+t $\ast$bcd)}{lif_lifbcd2timestr(uint8_t *bcd)}}]{\setlength{\rightskip}{0pt plus 5cm}char$\ast$ lif\+\_\+lifbcd2timestr (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t $\ast$}]{bcd}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a3547371f9e379fea1b710fb438b7d4fa}{}\label{lifutils_8h_a3547371f9e379fea1b710fb438b7d4fa}
convert B\+CD time into a date string The B\+CD year is only the lower 2 digits of the year So We assume that values $<$= 70 are years $>$= 2000 B\+CD Day and Month start at 1 If B\+CD string is all zero we return $<$\+E\+M\+P\+T\+Y$>$ 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em $\ast$bcd} & pcked 6 byte B\+CD L\+IF time YY MM DD HH MM SS \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
string result 
\end{DoxyReturn}


Definition at line 767 of file lifutils.\+c.



Referenced by lif\+\_\+dir(), and lif\+\_\+dump\+\_\+vol().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+open@{lif\+\_\+open}}
\index{lif\+\_\+open@{lif\+\_\+open}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+open(char $\ast$name, char $\ast$mode)}{lif_open(char *name, char *mode)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf F\+I\+LE}$\ast$ lif\+\_\+open (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{name, }
\item[{char $\ast$}]{mode}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_afe395b08bb0cfe54ee46529a0181c11e}{}\label{lifutils_8h_afe395b08bb0cfe54ee46529a0181c11e}


Open a file that must exist Displays message on errors. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em $\ast$name} & file name of L\+IF image \\
\hline
\mbox{\tt in}  & {\em $\ast$mode} & open mode -\/ see fopen \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
F\+I\+LE $\ast$ pointer 
\end{DoxyReturn}


Definition at line 370 of file lifutils.\+c.



Referenced by lif\+\_\+add\+\_\+ascii\+\_\+file\+\_\+as\+\_\+e010\+\_\+wrapper(), lif\+\_\+create\+\_\+volume(), lif\+\_\+extract\+\_\+e010\+\_\+as\+\_\+ascii(), and lif\+\_\+open\+\_\+volume().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+open\+\_\+volume@{lif\+\_\+open\+\_\+volume}}
\index{lif\+\_\+open\+\_\+volume@{lif\+\_\+open\+\_\+volume}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+open\+\_\+volume(char $\ast$name, char $\ast$mode)}{lif_open_volume(char *name, char *mode)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf lif\+\_\+t}$\ast$ lif\+\_\+open\+\_\+volume (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{name, }
\item[{char $\ast$}]{mode}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a71e67d0729bfa2f7eda2af26fe0eef5e}{}\label{lifutils_8h_a71e67d0729bfa2f7eda2af26fe0eef5e}


Open L\+IF directory for reading. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em $\ast$name} & file name of L\+IF image \\
\hline
\mbox{\tt in}  & {\em $\ast$mode} & \char`\"{}r\char`\"{} = read, \char`\"{}r+\char`\"{} = rea/write \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
L\+IF pointer on sucesses or N\+U\+LL on error 
\end{DoxyReturn}
Update free 

Definition at line 1339 of file lifutils.\+c.



Referenced by lif\+\_\+add\+\_\+ascii\+\_\+file\+\_\+as\+\_\+e010(), lif\+\_\+add\+\_\+lif\+\_\+file(), lif\+\_\+del\+\_\+file(), lif\+\_\+dir(), lif\+\_\+extract\+\_\+e010\+\_\+as\+\_\+ascii(), lif\+\_\+extract\+\_\+lif\+\_\+as\+\_\+lif(), and lif\+\_\+rename\+\_\+file().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+read@{lif\+\_\+read}}
\index{lif\+\_\+read@{lif\+\_\+read}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+read(lif\+\_\+t $\ast$\+L\+I\+F, void $\ast$buf, long offset, int bytes)}{lif_read(lif_t *LIF, void *buf, long offset, int bytes)}}]{\setlength{\rightskip}{0pt plus 5cm}long lif\+\_\+read (
\begin{DoxyParamCaption}
\item[{{\bf lif\+\_\+t} $\ast$}]{L\+IF, }
\item[{void $\ast$}]{buf, }
\item[{long}]{offset, }
\item[{int}]{bytes}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a768d8479fcf67fb0aed652dc33c895fe}{}\label{lifutils_8h_a768d8479fcf67fb0aed652dc33c895fe}


Read data from a L\+IF image Displays message on errors. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em $\ast$\+L\+IF} & \hyperlink{structlif__t}{lif\+\_\+t} structure with file pointers \\
\hline
\mbox{\tt out}  & {\em $\ast$buf} & read buffer \\
\hline
\mbox{\tt in}  & {\em offset} & read offset \\
\hline
\mbox{\tt in}  & {\em bytes} & number of bytes to read \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
bytes read or 0 on error 
\end{DoxyReturn}
Initial file position 

Definition at line 421 of file lifutils.\+c.



Referenced by lif\+\_\+add\+\_\+lif\+\_\+file(), lif\+\_\+extract\+\_\+e010\+\_\+as\+\_\+ascii(), lif\+\_\+extract\+\_\+lif\+\_\+as\+\_\+lif(), lif\+\_\+open\+\_\+volume(), and lif\+\_\+readdirindex().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+readdir@{lif\+\_\+readdir}}
\index{lif\+\_\+readdir@{lif\+\_\+readdir}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+readdir(lif\+\_\+t $\ast$\+L\+I\+F)}{lif_readdir(lif_t *LIF)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf lifdir\+\_\+t}$\ast$ lif\+\_\+readdir (
\begin{DoxyParamCaption}
\item[{{\bf lif\+\_\+t} $\ast$}]{L\+IF}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a620a1a2fcb2f6f2e871fd8e4048d22db}{}\label{lifutils_8h_a620a1a2fcb2f6f2e871fd8e4048d22db}


Read a directory records from L\+IF image advancind directory index. 

\begin{DoxySeeAlso}{See also}
\hyperlink{lifutils_8c_a71e67d0729bfa2f7eda2af26fe0eef5e}{lif\+\_\+open\+\_\+volume()} n\+Ote\+: skip all purged L\+IF directory records 
\end{DoxySeeAlso}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em $\ast$\+L\+IF} & to L\+IF Volume/\+Diractoy structure \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
directory structure or N\+U\+LL 
\end{DoxyReturn}


Definition at line 1312 of file lifutils.\+c.

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+readdirindex@{lif\+\_\+readdirindex}}
\index{lif\+\_\+readdirindex@{lif\+\_\+readdirindex}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+readdirindex(lif\+\_\+t $\ast$\+L\+I\+F, int index)}{lif_readdirindex(lif_t *LIF, int index)}}]{\setlength{\rightskip}{0pt plus 5cm}int lif\+\_\+readdirindex (
\begin{DoxyParamCaption}
\item[{{\bf lif\+\_\+t} $\ast$}]{L\+IF, }
\item[{int}]{index}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_ac1c11cf1213647b37d11d9fae782ee27}{}\label{lifutils_8h_ac1c11cf1213647b37d11d9fae782ee27}


Read L\+IF directory record number N. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em $\ast$\+L\+IF} & to L\+IF Volume/\+Diractoy structure \\
\hline
\mbox{\tt in}  & {\em index} & director record number \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 on success, 0 if error, bad directory record or outside of directory limits 
\end{DoxyReturn}


Definition at line 1236 of file lifutils.\+c.



Referenced by lif\+\_\+dir(), lif\+\_\+find\+\_\+file(), lif\+\_\+findfree\+\_\+dirindex(), lif\+\_\+open\+\_\+volume(), and lif\+\_\+readdir().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+rename\+\_\+file@{lif\+\_\+rename\+\_\+file}}
\index{lif\+\_\+rename\+\_\+file@{lif\+\_\+rename\+\_\+file}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+rename\+\_\+file(char $\ast$lifimagename, char $\ast$oldlifname, char $\ast$newlifname)}{lif_rename_file(char *lifimagename, char *oldlifname, char *newlifname)}}]{\setlength{\rightskip}{0pt plus 5cm}int lif\+\_\+rename\+\_\+file (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{lifimagename, }
\item[{char $\ast$}]{oldlifname, }
\item[{char $\ast$}]{newlifname}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a5b44c50681c402af5beb60382e8abc99}{}\label{lifutils_8h_a5b44c50681c402af5beb60382e8abc99}


Rename L\+IF file in L\+IF image. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em lifimagename} & L\+IF image name \\
\hline
\mbox{\tt in}  & {\em oldlifname} & old L\+IF file name \\
\hline
\mbox{\tt in}  & {\em newlifname} & new L\+IF file name \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 if renamed, 0 if not found, -\/1 error 
\end{DoxyReturn}


Definition at line 2408 of file lifutils.\+c.



Referenced by lif\+\_\+tests().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+rewinddir@{lif\+\_\+rewinddir}}
\index{lif\+\_\+rewinddir@{lif\+\_\+rewinddir}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+rewinddir(lif\+\_\+t $\ast$\+L\+I\+F)}{lif_rewinddir(lif_t *LIF)}}]{\setlength{\rightskip}{0pt plus 5cm}void lif\+\_\+rewinddir (
\begin{DoxyParamCaption}
\item[{{\bf lif\+\_\+t} $\ast$}]{L\+IF}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a0e7257e84984a768184d0653e62a3f4d}{}\label{lifutils_8h_a0e7257e84984a768184d0653e62a3f4d}


Rewind L\+IF directory Note readdir pre-\/increments the directory pointer index so we start at -\/1. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em $\ast$\+L\+IF} & pointer to L\+IF Volume/\+Directoy structure \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line 1201 of file lifutils.\+c.



Referenced by lif\+\_\+open\+\_\+volume().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+\+S2B@{lif\+\_\+\+S2B}}
\index{lif\+\_\+\+S2B@{lif\+\_\+\+S2B}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+\+S2\+B(uint8\+\_\+t $\ast$\+B, uint8\+\_\+t $\ast$name, int size)}{lif_S2B(uint8_t *B, uint8_t *name, int size)}}]{\setlength{\rightskip}{0pt plus 5cm}void lif\+\_\+\+S2B (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t $\ast$}]{B, }
\item[{uint8\+\_\+t $\ast$}]{name, }
\item[{int}]{size}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a3581f407fe6c5cbe6a5db361fe49d387}{}\label{lifutils_8h_a3581f407fe6c5cbe6a5db361fe49d387}


Convert string to L\+IF directory record. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt out}  & {\em $\ast$B} & L\+IF result with added trailing spaces \\
\hline
\mbox{\tt in}  & {\em $\ast$name} & string \\
\hline
\mbox{\tt in}  & {\em size} & max size of B  1 if the string is ok or 0 if invalid L\+IF name characters on input string \\
\hline
\end{DoxyParams}


Definition at line 528 of file lifutils.\+c.



Referenced by lif\+\_\+dir2str(), and lif\+\_\+vol2str().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+seek\+\_\+msg@{lif\+\_\+seek\+\_\+msg}}
\index{lif\+\_\+seek\+\_\+msg@{lif\+\_\+seek\+\_\+msg}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+seek\+\_\+msg(\+F\+I\+L\+E $\ast$fp, long offset, char $\ast$msg)}{lif_seek_msg(FILE *fp, long offset, char *msg)}}]{\setlength{\rightskip}{0pt plus 5cm}int lif\+\_\+seek\+\_\+msg (
\begin{DoxyParamCaption}
\item[{{\bf F\+I\+LE} $\ast$}]{fp, }
\item[{long}]{offset, }
\item[{char $\ast$}]{msg}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_aea3c3d6e2126e0fc3317998682839107}{}\label{lifutils_8h_aea3c3d6e2126e0fc3317998682839107}
Displays message on errors 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em $\ast$fp} & F\+I\+LE pointer \\
\hline
\mbox{\tt in}  & {\em offset} & file offset \\
\hline
\mbox{\tt in}  & {\em mesg} & user string as part of error message \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 on success, 0 on error 
\end{DoxyReturn}


Definition at line 401 of file lifutils.\+c.



Referenced by lif\+\_\+read(), and lif\+\_\+write().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+stat@{lif\+\_\+stat}}
\index{lif\+\_\+stat@{lif\+\_\+stat}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+stat(char $\ast$name, stat\+\_\+t $\ast$p)}{lif_stat(char *name, stat_t *p)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf stat\+\_\+t}$\ast$ lif\+\_\+stat (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{name, }
\item[{{\bf stat\+\_\+t} $\ast$}]{p}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a64cd31682e1e5cf594203ae2dd9c5cda}{}\label{lifutils_8h_a64cd31682e1e5cf594203ae2dd9c5cda}


Stat a file Displays message on errors. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em $\ast$name} & file name of L\+IF image \\
\hline
\mbox{\tt in}  & {\em $\ast$p} & start\+\_\+t structure pointer for result \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
N\+U\+LL on error or copy of p 
\end{DoxyReturn}


Definition at line 386 of file lifutils.\+c.



Referenced by lif\+\_\+add\+\_\+ascii\+\_\+file\+\_\+as\+\_\+e010(), and lif\+\_\+open\+\_\+volume().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+str2dir@{lif\+\_\+str2dir}}
\index{lif\+\_\+str2dir@{lif\+\_\+str2dir}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+str2dir(uint8\+\_\+t $\ast$\+B, lif\+\_\+t $\ast$\+L\+I\+F)}{lif_str2dir(uint8_t *B, lif_t *LIF)}}]{\setlength{\rightskip}{0pt plus 5cm}void lif\+\_\+str2dir (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t $\ast$}]{B, }
\item[{{\bf lif\+\_\+t} $\ast$}]{L\+IF}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a4db23fc40db0ebb7d0ce3e5ef2440e9a}{}\label{lifutils_8h_a4db23fc40db0ebb7d0ce3e5ef2440e9a}


Convert byte vector into byte vector. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em B} & byte vector to extract data from \\
\hline
 & {\em } & \\
\hline
\end{DoxyParams}


Definition at line 643 of file lifutils.\+c.



Referenced by lif\+\_\+readdirindex().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+str2vol@{lif\+\_\+str2vol}}
\index{lif\+\_\+str2vol@{lif\+\_\+str2vol}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+str2vol(uint8\+\_\+t $\ast$\+B, lif\+\_\+t $\ast$\+L\+I\+F)}{lif_str2vol(uint8_t *B, lif_t *LIF)}}]{\setlength{\rightskip}{0pt plus 5cm}void lif\+\_\+str2vol (
\begin{DoxyParamCaption}
\item[{uint8\+\_\+t $\ast$}]{B, }
\item[{{\bf lif\+\_\+t} $\ast$}]{L\+IF}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a099711acdca654969f0b02029f41d19a}{}\label{lifutils_8h_a099711acdca654969f0b02029f41d19a}


Convert byte vector into L\+IF volume records. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em B} & byte vector \\
\hline
\mbox{\tt out}  & {\em $\ast$\+L\+IF} & L\+IF image structure \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line 606 of file lifutils.\+c.



Referenced by lif\+\_\+open\+\_\+volume().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+stralloc@{lif\+\_\+stralloc}}
\index{lif\+\_\+stralloc@{lif\+\_\+stralloc}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+stralloc(char $\ast$str)}{lif_stralloc(char *str)}}]{\setlength{\rightskip}{0pt plus 5cm}void$\ast$ lif\+\_\+stralloc (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{str}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a46c4e852171cd0b0a4d84c8b90f19358}{}\label{lifutils_8h_a46c4e852171cd0b0a4d84c8b90f19358}


Allocate and copy a string Displays message on errors. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em str} & String to allocate and copy \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
pointer to allocated memory with string copy 
\end{DoxyReturn}


Definition at line 355 of file lifutils.\+c.



Referenced by lif\+\_\+create\+\_\+volume(), and lif\+\_\+open\+\_\+volume().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+tests@{lif\+\_\+tests}}
\index{lif\+\_\+tests@{lif\+\_\+tests}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+tests(char $\ast$str)}{lif_tests(char *str)}}]{\setlength{\rightskip}{0pt plus 5cm}int lif\+\_\+tests (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{str}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a32dc220253a6108ad1d2f6b06318d326}{}\label{lifutils_8h_a32dc220253a6108ad1d2f6b06318d326}


L\+IF user tests. 

\begin{DoxyReturn}{Returns}
1 matched token, 0 if not 
\end{DoxyReturn}
format L\+IF image 

Definition at line 132 of file lifutils.\+c.



Referenced by task().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+time2lifbcd@{lif\+\_\+time2lifbcd}}
\index{lif\+\_\+time2lifbcd@{lif\+\_\+time2lifbcd}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+time2lifbcd(time\+\_\+t t, uint8\+\_\+t $\ast$bcd)}{lif_time2lifbcd(time_t t, uint8_t *bcd)}}]{\setlength{\rightskip}{0pt plus 5cm}void lif\+\_\+time2lifbcd (
\begin{DoxyParamCaption}
\item[{{\bf time\+\_\+t}}]{t, }
\item[{uint8\+\_\+t $\ast$}]{bcd}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_aab67c73a7069705ea77d3cd929d02971}{}\label{lifutils_8h_aab67c73a7069705ea77d3cd929d02971}


U\+N\+IX time to L\+IF B\+CD time format The B\+CD year is only the lower 2 digits of the year So We assume that values $<$= 70 are years $>$= 2000 B\+CD Day and Month start at 1 Note\+: If t == 0 we set A\+LL B\+CD digits to 0. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em t} & U\+N\+IX time\+\_\+t time value \\
\hline
\mbox{\tt out}  & {\em $\ast$bcd} & pcked 6 byte B\+CD L\+IF time YY MM DD HH MM SS \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\hyperlink{time_8c_a32b1cbd925752f0cd61d202bbe204a69}{time()} in \hyperlink{time_8c}{time.\+c} 
\end{DoxySeeAlso}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line 684 of file lifutils.\+c.



Referenced by lif\+\_\+add\+\_\+ascii\+\_\+file\+\_\+as\+\_\+e010(), and lif\+\_\+create\+\_\+volume().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+vol2str@{lif\+\_\+vol2str}}
\index{lif\+\_\+vol2str@{lif\+\_\+vol2str}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+vol2str(lif\+\_\+t $\ast$\+L\+I\+F, uint8\+\_\+t $\ast$\+B)}{lif_vol2str(lif_t *LIF, uint8_t *B)}}]{\setlength{\rightskip}{0pt plus 5cm}void lif\+\_\+vol2str (
\begin{DoxyParamCaption}
\item[{{\bf lif\+\_\+t} $\ast$}]{L\+IF, }
\item[{uint8\+\_\+t $\ast$}]{B}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a81cbd76bc3329e319f318ec76e897766}{}\label{lifutils_8h_a81cbd76bc3329e319f318ec76e897766}


Convert L\+IF volume records into byte vector. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em $\ast$\+L\+IF} & L\+IF image structure \\
\hline
\mbox{\tt out}  & {\em B} & byte vector to pack data into \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line 586 of file lifutils.\+c.



Referenced by lif\+\_\+create\+\_\+volume().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+vol\+\_\+clear@{lif\+\_\+vol\+\_\+clear}}
\index{lif\+\_\+vol\+\_\+clear@{lif\+\_\+vol\+\_\+clear}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+vol\+\_\+clear(lif\+\_\+t $\ast$\+L\+I\+F)}{lif_vol_clear(lif_t *LIF)}}]{\setlength{\rightskip}{0pt plus 5cm}void lif\+\_\+vol\+\_\+clear (
\begin{DoxyParamCaption}
\item[{{\bf lif\+\_\+t} $\ast$}]{L\+IF}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_aa2f79fdf61972e648bd2145e979f778b}{}\label{lifutils_8h_aa2f79fdf61972e648bd2145e979f778b}


Clear V\+OL part of L\+IF structure. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em $\ast$\+L\+IF} & pointer to L\+IF structure \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line 801 of file lifutils.\+c.



Referenced by lif\+\_\+close\+\_\+volume().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+write@{lif\+\_\+write}}
\index{lif\+\_\+write@{lif\+\_\+write}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+write(lif\+\_\+t $\ast$\+L\+I\+F, void $\ast$buf, long offset, int bytes)}{lif_write(lif_t *LIF, void *buf, long offset, int bytes)}}]{\setlength{\rightskip}{0pt plus 5cm}int lif\+\_\+write (
\begin{DoxyParamCaption}
\item[{{\bf lif\+\_\+t} $\ast$}]{L\+IF, }
\item[{void $\ast$}]{buf, }
\item[{long}]{offset, }
\item[{int}]{bytes}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_aaf6780953d8bceb07975a7f7a07c59a6}{}\label{lifutils_8h_aaf6780953d8bceb07975a7f7a07c59a6}


Write data to an L\+IF image Displays message on errors. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em $\ast$\+L\+IF} & \hyperlink{structlif__t}{lif\+\_\+t} structure with file pointers \\
\hline
\mbox{\tt in}  & {\em $\ast$buf} & write buffer \\
\hline
\mbox{\tt in}  & {\em offset} & write offset \\
\hline
\mbox{\tt in}  & {\em bytes} & number of bytes to write \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
bytes read or 0 on error 
\end{DoxyReturn}
Initial file position 

Definition at line 446 of file lifutils.\+c.



Referenced by lif\+\_\+add\+\_\+ascii\+\_\+file\+\_\+as\+\_\+e010\+\_\+wrapper(), lif\+\_\+add\+\_\+lif\+\_\+file(), lif\+\_\+create\+\_\+volume(), lif\+\_\+extract\+\_\+lif\+\_\+as\+\_\+lif(), and lif\+\_\+writedirindex().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+writedir\+E\+OF@{lif\+\_\+writedir\+E\+OF}}
\index{lif\+\_\+writedir\+E\+OF@{lif\+\_\+writedir\+E\+OF}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+writedir\+E\+O\+F(lif\+\_\+t $\ast$\+L\+I\+F, int index)}{lif_writedirEOF(lif_t *LIF, int index)}}]{\setlength{\rightskip}{0pt plus 5cm}int lif\+\_\+writedir\+E\+OF (
\begin{DoxyParamCaption}
\item[{{\bf lif\+\_\+t} $\ast$}]{L\+IF, }
\item[{int}]{index}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a8e9da14a02220515367321c460ba46f8}{}\label{lifutils_8h_a8e9da14a02220515367321c460ba46f8}


Write L\+IF drectory E\+OF. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em $\ast$\+L\+IF} & L\+IF Volume/\+Diractoy structure \\
\hline
\mbox{\tt in}  & {\em index} & director record number \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 on success, 0 on error and outsize directory limits 
\end{DoxyReturn}


Definition at line 1298 of file lifutils.\+c.



Referenced by lif\+\_\+add\+\_\+ascii\+\_\+file\+\_\+as\+\_\+e010(), lif\+\_\+add\+\_\+lif\+\_\+file(), and lif\+\_\+extract\+\_\+lif\+\_\+as\+\_\+lif().

\index{lifutils.\+h@{lifutils.\+h}!lif\+\_\+writedirindex@{lif\+\_\+writedirindex}}
\index{lif\+\_\+writedirindex@{lif\+\_\+writedirindex}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{lif\+\_\+writedirindex(lif\+\_\+t $\ast$\+L\+I\+F, int index)}{lif_writedirindex(lif_t *LIF, int index)}}]{\setlength{\rightskip}{0pt plus 5cm}int lif\+\_\+writedirindex (
\begin{DoxyParamCaption}
\item[{{\bf lif\+\_\+t} $\ast$}]{L\+IF, }
\item[{int}]{index}
\end{DoxyParamCaption}
)}\hypertarget{lifutils_8h_a560dc5f5b402cb932d2bf75160eb19ca}{}\label{lifutils_8h_a560dc5f5b402cb932d2bf75160eb19ca}


Write L\+IF drectory record number N. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em $\ast$\+L\+IF} & L\+IF Volume/\+Diractoy structure \\
\hline
\mbox{\tt in}  & {\em index} & director record number \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 on success, 0 if error, bad directory record or outside of directory limits 
\end{DoxyReturn}


Definition at line 1266 of file lifutils.\+c.



Referenced by lif\+\_\+add\+\_\+ascii\+\_\+file\+\_\+as\+\_\+e010(), lif\+\_\+add\+\_\+lif\+\_\+file(), lif\+\_\+del\+\_\+file(), lif\+\_\+extract\+\_\+lif\+\_\+as\+\_\+lif(), lif\+\_\+rename\+\_\+file(), and lif\+\_\+writedir\+E\+O\+F().



\subsection{Variable Documentation}
\index{lifutils.\+h@{lifutils.\+h}!debuglevel@{debuglevel}}
\index{debuglevel@{debuglevel}!lifutils.\+h@{lifutils.\+h}}
\subsubsection[{\texorpdfstring{debuglevel}{debuglevel}}]{\setlength{\rightskip}{0pt plus 5cm}int debuglevel}\hypertarget{lifutils_8h_af219299ebad47daa6631415a8b41345a}{}\label{lifutils_8h_af219299ebad47daa6631415a8b41345a}


Debug flag -\/ used to log G\+P\+IB and emulator messages. 



Definition at line 32 of file gpib\+\_\+task.\+c.



Referenced by G\+P\+I\+B(), gpib\+\_\+error\+\_\+test(), gpib\+\_\+file\+\_\+init(), G\+P\+I\+B\+\_\+\+L\+I\+S\+T\+E\+N(), G\+P\+I\+B\+\_\+\+S\+E\+C\+O\+N\+D\+A\+R\+Y\+\_\+\+A\+D\+D\+R\+E\+S\+S(), G\+P\+I\+B\+\_\+\+T\+A\+L\+K(), gpib\+\_\+task(), listen\+\_\+cleanup(), and Send\+\_\+\+Identify().

