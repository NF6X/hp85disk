\hypertarget{drives__sup_8c}{}\doxysection{gpib/drives\+\_\+sup.c File Reference}
\label{drives__sup_8c}\index{gpib/drives\_sup.c@{gpib/drives\_sup.c}}


drive definition parsing for H\+P85 disk emulator project for A\+VR.  


{\ttfamily \#include \char`\"{}user\+\_\+config.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}drives\+\_\+sup.\+h\char`\"{}}\newline
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{drives__sup_8c_a62325ad76bfc3f8644185f0579f07b1a}{hpdir\+\_\+init}} ()
\begin{DoxyCompactList}\small\item\em hpdir.\+ini file processing \end{DoxyCompactList}\item 
long \mbox{\hyperlink{drives__sup_8c_a264e7130c0a912421d467a5924ff0fef}{lif\+\_\+dir\+\_\+count}} (long blocks)
\begin{DoxyCompactList}\small\item\em L\+IF Directory blocks $\sim$= sqrt(blocks);. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{drives__sup_8c_ad8337467346aa3569bbae92859e821c1}{hpdir\+\_\+find\+\_\+drive}} (char $\ast$model, int list, int verbose)
\begin{DoxyCompactList}\small\item\em Find drive parameters in hpdir.\+ini file. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{structhpdir__t}{hpdir\+\_\+t}} \mbox{\hyperlink{drives__sup_8c_a6edb848661be578eca78845085870674}{hpdir}}
\begin{DoxyCompactList}\small\item\em hpdir.\+ini file processing \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
drive definition parsing for H\+P85 disk emulator project for A\+VR. 

\begin{DoxyParagraph}{Edit History}

\begin{DoxyItemize}
\item \mbox{[}1.\+0\mbox{]} \mbox{[}Mike Gore\mbox{]} Initial revision of file. 
\end{DoxyItemize}
\end{DoxyParagraph}
\begin{DoxyParagraph}{Copyright \copyright{} 2014-\/2020 Mike Gore, All rights reserved. G\+PL}

\end{DoxyParagraph}
\begin{DoxySeeAlso}{See also}
\href{http://github.com/magore/hp85disk}{\texttt{ http\+://github.\+com/magore/hp85disk}} 

\href{http://github.com/magore/hp85disk/COPYRIGHT.md}{\texttt{ http\+://github.\+com/magore/hp85disk/\+C\+O\+P\+Y\+R\+I\+G\+H\+T.\+md}} for Copyright details 
\end{DoxySeeAlso}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{drives__sup_8c_ad8337467346aa3569bbae92859e821c1}\label{drives__sup_8c_ad8337467346aa3569bbae92859e821c1}} 
\index{drives\_sup.c@{drives\_sup.c}!hpdir\_find\_drive@{hpdir\_find\_drive}}
\index{hpdir\_find\_drive@{hpdir\_find\_drive}!drives\_sup.c@{drives\_sup.c}}
\doxysubsubsection{\texorpdfstring{hpdir\_find\_drive()}{hpdir\_find\_drive()}}
{\footnotesize\ttfamily int hpdir\+\_\+find\+\_\+drive (\begin{DoxyParamCaption}\item[{char $\ast$}]{model,  }\item[{int}]{list,  }\item[{int}]{verbose }\end{DoxyParamCaption})}



Find drive parameters in hpdir.\+ini file. 

=============================================== 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em model} & model string\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 on sucess or 0 on fail 
\end{DoxyReturn}


Definition at line 79 of file drives\+\_\+sup.\+c.



Referenced by hpdir\+\_\+set\+\_\+parameters(), lif\+\_\+tests(), and mount().

\mbox{\Hypertarget{drives__sup_8c_a62325ad76bfc3f8644185f0579f07b1a}\label{drives__sup_8c_a62325ad76bfc3f8644185f0579f07b1a}} 
\index{drives\_sup.c@{drives\_sup.c}!hpdir\_init@{hpdir\_init}}
\index{hpdir\_init@{hpdir\_init}!drives\_sup.c@{drives\_sup.c}}
\doxysubsubsection{\texorpdfstring{hpdir\_init()}{hpdir\_init()}}
{\footnotesize\ttfamily void hpdir\+\_\+init (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



hpdir.\+ini file processing 

===========================================================

Init Disk Parameter Structure

This structure will containes the parsed and computed disk parameters from a single hpdir disk entry

\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}


Definition at line 25 of file drives\+\_\+sup.\+c.



Referenced by hpdir\+\_\+find\+\_\+drive().

\mbox{\Hypertarget{drives__sup_8c_a264e7130c0a912421d467a5924ff0fef}\label{drives__sup_8c_a264e7130c0a912421d467a5924ff0fef}} 
\index{drives\_sup.c@{drives\_sup.c}!lif\_dir\_count@{lif\_dir\_count}}
\index{lif\_dir\_count@{lif\_dir\_count}!drives\_sup.c@{drives\_sup.c}}
\doxysubsubsection{\texorpdfstring{lif\_dir\_count()}{lif\_dir\_count()}}
{\footnotesize\ttfamily long lif\+\_\+dir\+\_\+count (\begin{DoxyParamCaption}\item[{long}]{blocks }\end{DoxyParamCaption})}



L\+IF Directory blocks $\sim$= sqrt(blocks);. 

We simplify B\+I\+TS = M\+SB bit number of block count Directory size = B\+I\+TS / 2 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em blocks} & size of L\+IF image in total\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Size of L\+IF directory in blocks 
\end{DoxyReturn}


Definition at line 57 of file drives\+\_\+sup.\+c.



Referenced by format\+\_\+drives(), and lif\+\_\+tests().



\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{drives__sup_8c_a6edb848661be578eca78845085870674}\label{drives__sup_8c_a6edb848661be578eca78845085870674}} 
\index{drives\_sup.c@{drives\_sup.c}!hpdir@{hpdir}}
\index{hpdir@{hpdir}!drives\_sup.c@{drives\_sup.c}}
\doxysubsubsection{\texorpdfstring{hpdir}{hpdir}}
{\footnotesize\ttfamily \mbox{\hyperlink{structhpdir__t}{hpdir\+\_\+t}} hpdir}



hpdir.\+ini file processing 



Definition at line 15 of file drives\+\_\+sup.\+c.



Referenced by hpdir\+\_\+find\+\_\+drive(), hpdir\+\_\+init(), and lif\+\_\+tests().

