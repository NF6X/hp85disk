\hypertarget{mmc_8h}{}\doxysection{fatfs.\+hal/mmc.h File Reference}
\label{mmc_8h}\index{fatfs.hal/mmc.h@{fatfs.hal/mmc.h}}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE}} int \mbox{\hyperlink{mmc_8h_ab7771efbbd1a015b449d838d7f09959a}{wait\+\_\+ready}} (\mbox{\hyperlink{ff_8h_a36cb3b01d81ffd844bbbfb54003e06ec}{U\+I\+NT}} wt)
\begin{DoxyCompactList}\small\item\em wait for card ready \end{DoxyCompactList}\item 
\mbox{\hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE}} \mbox{\hyperlink{diskio_8h_adba6790898ce4029c20a34b898ce73c1}{D\+S\+T\+A\+T\+US}} \mbox{\hyperlink{mmc_8h_af4049fbbcf364fc59886118c79895507}{mmc\+\_\+disk\+\_\+initialize}} (void)
\begin{DoxyCompactList}\small\item\em Public Functions. \end{DoxyCompactList}\item 
\mbox{\hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE}} \mbox{\hyperlink{diskio_8h_adba6790898ce4029c20a34b898ce73c1}{D\+S\+T\+A\+T\+US}} \mbox{\hyperlink{mmc_8h_ac14ea06e6b2ce5ad9808db3c205db5e6}{mmc\+\_\+disk\+\_\+status}} (void)
\begin{DoxyCompactList}\small\item\em Get Disk Status. \end{DoxyCompactList}\item 
\mbox{\hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE}} \mbox{\hyperlink{diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2b}{D\+R\+E\+S\+U\+LT}} \mbox{\hyperlink{mmc_8h_a41eabb26301eb16450258417ed137d67}{mmc\+\_\+disk\+\_\+read}} (\mbox{\hyperlink{ff_8h_a4ae1dab0fb4b072a66584546209e7d58}{B\+Y\+TE}} $\ast$buff, \mbox{\hyperlink{ff_8h_ad342ac907eb044443153a22f964bf0af}{D\+W\+O\+RD}} sector, \mbox{\hyperlink{ff_8h_a36cb3b01d81ffd844bbbfb54003e06ec}{U\+I\+NT}} count)
\begin{DoxyCompactList}\small\item\em Read Sector(s) \end{DoxyCompactList}\item 
\mbox{\hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE}} \mbox{\hyperlink{diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2b}{D\+R\+E\+S\+U\+LT}} \mbox{\hyperlink{mmc_8h_ab065915810044044697ca00bb6bc45c5}{mmc\+\_\+disk\+\_\+write}} (const \mbox{\hyperlink{ff_8h_a4ae1dab0fb4b072a66584546209e7d58}{B\+Y\+TE}} $\ast$buff, \mbox{\hyperlink{ff_8h_ad342ac907eb044443153a22f964bf0af}{D\+W\+O\+RD}} sector, \mbox{\hyperlink{ff_8h_a36cb3b01d81ffd844bbbfb54003e06ec}{U\+I\+NT}} count)
\item 
\mbox{\hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE}} \mbox{\hyperlink{diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2b}{D\+R\+E\+S\+U\+LT}} \mbox{\hyperlink{mmc_8h_acbcb6fef21740379e9fdd989b16ab04a}{mmc\+\_\+disk\+\_\+ioctl}} (\mbox{\hyperlink{ff_8h_a4ae1dab0fb4b072a66584546209e7d58}{B\+Y\+TE}} cmd, void $\ast$buff)
\item 
void \mbox{\hyperlink{mmc_8h_a34555655fe13a47c95b35a2c13b85847}{mmc\+\_\+disk\+\_\+timerproc}} (void)
\begin{DoxyCompactList}\small\item\em Write Sector(s) \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{mmc_8h_af4049fbbcf364fc59886118c79895507}\label{mmc_8h_af4049fbbcf364fc59886118c79895507}} 
\index{mmc.h@{mmc.h}!mmc\_disk\_initialize@{mmc\_disk\_initialize}}
\index{mmc\_disk\_initialize@{mmc\_disk\_initialize}!mmc.h@{mmc.h}}
\doxysubsubsection{\texorpdfstring{mmc\_disk\_initialize()}{mmc\_disk\_initialize()}}
{\footnotesize\ttfamily \mbox{\hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE}} \mbox{\hyperlink{diskio_8h_adba6790898ce4029c20a34b898ce73c1}{D\+S\+T\+A\+T\+US}} mmc\+\_\+disk\+\_\+initialize (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Public Functions. 

Initialize Disk Drive \begin{DoxyReturn}{Returns}
Stat 
\end{DoxyReturn}


Definition at line 334 of file mmc.\+c.



Referenced by disk\+\_\+initialize().

\mbox{\Hypertarget{mmc_8h_acbcb6fef21740379e9fdd989b16ab04a}\label{mmc_8h_acbcb6fef21740379e9fdd989b16ab04a}} 
\index{mmc.h@{mmc.h}!mmc\_disk\_ioctl@{mmc\_disk\_ioctl}}
\index{mmc\_disk\_ioctl@{mmc\_disk\_ioctl}!mmc.h@{mmc.h}}
\doxysubsubsection{\texorpdfstring{mmc\_disk\_ioctl()}{mmc\_disk\_ioctl()}}
{\footnotesize\ttfamily \mbox{\hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE}} \mbox{\hyperlink{diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2b}{D\+R\+E\+S\+U\+LT}} mmc\+\_\+disk\+\_\+ioctl (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{ff_8h_a4ae1dab0fb4b072a66584546209e7d58}{B\+Y\+TE}}}]{cmd,  }\item[{void $\ast$}]{buff }\end{DoxyParamCaption})}



Referenced by disk\+\_\+ioctl().

\mbox{\Hypertarget{mmc_8h_a41eabb26301eb16450258417ed137d67}\label{mmc_8h_a41eabb26301eb16450258417ed137d67}} 
\index{mmc.h@{mmc.h}!mmc\_disk\_read@{mmc\_disk\_read}}
\index{mmc\_disk\_read@{mmc\_disk\_read}!mmc.h@{mmc.h}}
\doxysubsubsection{\texorpdfstring{mmc\_disk\_read()}{mmc\_disk\_read()}}
{\footnotesize\ttfamily \mbox{\hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE}} \mbox{\hyperlink{diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2b}{D\+R\+E\+S\+U\+LT}} mmc\+\_\+disk\+\_\+read (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{ff_8h_a4ae1dab0fb4b072a66584546209e7d58}{B\+Y\+TE}} $\ast$}]{buff,  }\item[{\mbox{\hyperlink{ff_8h_ad342ac907eb044443153a22f964bf0af}{D\+W\+O\+RD}}}]{sector,  }\item[{\mbox{\hyperlink{ff_8h_a36cb3b01d81ffd844bbbfb54003e06ec}{U\+I\+NT}}}]{count }\end{DoxyParamCaption})}



Read Sector(s) 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em buff} & read buffer \\
\hline
\mbox{\texttt{ in}}  & {\em sector} & start sector number \\
\hline
\mbox{\texttt{ in}}  & {\em count} & sector count \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 ok 

non zero error 
\end{DoxyReturn}


Definition at line 424 of file mmc.\+c.



Referenced by disk\+\_\+read().

\mbox{\Hypertarget{mmc_8h_ac14ea06e6b2ce5ad9808db3c205db5e6}\label{mmc_8h_ac14ea06e6b2ce5ad9808db3c205db5e6}} 
\index{mmc.h@{mmc.h}!mmc\_disk\_status@{mmc\_disk\_status}}
\index{mmc\_disk\_status@{mmc\_disk\_status}!mmc.h@{mmc.h}}
\doxysubsubsection{\texorpdfstring{mmc\_disk\_status()}{mmc\_disk\_status()}}
{\footnotesize\ttfamily \mbox{\hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE}} \mbox{\hyperlink{diskio_8h_adba6790898ce4029c20a34b898ce73c1}{D\+S\+T\+A\+T\+US}} mmc\+\_\+disk\+\_\+status (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Get Disk Status. 

\begin{DoxyReturn}{Returns}
Stat 

S\+T\+A\+\_\+\+N\+O\+I\+N\+IT if no drive 
\end{DoxyReturn}


Definition at line 411 of file mmc.\+c.



Referenced by disk\+\_\+status().

\mbox{\Hypertarget{mmc_8h_a34555655fe13a47c95b35a2c13b85847}\label{mmc_8h_a34555655fe13a47c95b35a2c13b85847}} 
\index{mmc.h@{mmc.h}!mmc\_disk\_timerproc@{mmc\_disk\_timerproc}}
\index{mmc\_disk\_timerproc@{mmc\_disk\_timerproc}!mmc.h@{mmc.h}}
\doxysubsubsection{\texorpdfstring{mmc\_disk\_timerproc()}{mmc\_disk\_timerproc()}}
{\footnotesize\ttfamily void mmc\+\_\+disk\+\_\+timerproc (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Write Sector(s) 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ out}}  & {\em buff} & write buffer \\
\hline
\mbox{\texttt{ in}}  & {\em sector} & start sector number \\
\hline
\mbox{\texttt{ in}}  & {\em count} & sector count \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 ok 

non zero error
\end{DoxyReturn}
Miscellaneous Functions 
\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em cmd} & Control code \\
\hline
 & {\em \mbox{[}in$\vert$out\mbox{]}} & buff\+: Send/\+Receive buffer \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
result
\end{DoxyReturn}
mmc timer processes 

Definition at line 761 of file mmc.\+c.



Referenced by disk\+\_\+timerproc(), and mmc\+\_\+task().

\mbox{\Hypertarget{mmc_8h_ab065915810044044697ca00bb6bc45c5}\label{mmc_8h_ab065915810044044697ca00bb6bc45c5}} 
\index{mmc.h@{mmc.h}!mmc\_disk\_write@{mmc\_disk\_write}}
\index{mmc\_disk\_write@{mmc\_disk\_write}!mmc.h@{mmc.h}}
\doxysubsubsection{\texorpdfstring{mmc\_disk\_write()}{mmc\_disk\_write()}}
{\footnotesize\ttfamily \mbox{\hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE}} \mbox{\hyperlink{diskio_8h_aacdfef1dad6565f65c26d12fe0ea4b2b}{D\+R\+E\+S\+U\+LT}} mmc\+\_\+disk\+\_\+write (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{ff_8h_a4ae1dab0fb4b072a66584546209e7d58}{B\+Y\+TE}} $\ast$}]{buff,  }\item[{\mbox{\hyperlink{ff_8h_ad342ac907eb044443153a22f964bf0af}{D\+W\+O\+RD}}}]{sector,  }\item[{\mbox{\hyperlink{ff_8h_a36cb3b01d81ffd844bbbfb54003e06ec}{U\+I\+NT}}}]{count }\end{DoxyParamCaption})}



Referenced by disk\+\_\+write().

\mbox{\Hypertarget{mmc_8h_ab7771efbbd1a015b449d838d7f09959a}\label{mmc_8h_ab7771efbbd1a015b449d838d7f09959a}} 
\index{mmc.h@{mmc.h}!wait\_ready@{wait\_ready}}
\index{wait\_ready@{wait\_ready}!mmc.h@{mmc.h}}
\doxysubsubsection{\texorpdfstring{wait\_ready()}{wait\_ready()}}
{\footnotesize\ttfamily \mbox{\hyperlink{mmc__hal_8h_ad0fe97585b8891f5e4f2b9a6426330a4}{M\+E\+M\+S\+P\+A\+CE}} int wait\+\_\+ready (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{ff_8h_a36cb3b01d81ffd844bbbfb54003e06ec}{U\+I\+NT}}}]{wt }\end{DoxyParamCaption})}



wait for card ready 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em wt} & ms to wait \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 Ready 

0 Timeout 
\end{DoxyReturn}


Definition at line 168 of file mmc.\+c.



Referenced by select().

