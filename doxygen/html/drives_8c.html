<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>HP85 GPIB Disk Emulator: gpib/drives.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">HP85 GPIB Disk Emulator
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">HP85GPIBDiskEmulator</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d6b38c553053a83c6809a5b0d50557a4.html">gpib</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">drives.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>drive definitions for HP85 disk emulator project for AVR.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="user__config_8h_source.html">user_config.h</a>&quot;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &quot;<a class="el" href="defines_8h_source.html">defines.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="drives_8h_source.html">drives.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="gpib__hal_8h_source.html">gpib_hal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="gpib_8h_source.html">gpib.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="gpib__task_8h_source.html">gpib_task.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="amigo_8h_source.html">amigo.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ss80_8h_source.html">ss80.h</a>&quot;</code><br />
</div>
<p><a href="drives_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:af24298a5ce56647751e432673282c6e2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="drives_8c.html#af24298a5ce56647751e432673282c6e2">MAX_STACK</a>&#160;&#160;&#160;5</td></tr>
<tr class="memdesc:af24298a5ce56647751e432673282c6e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Config Parser Stack.  <a href="#af24298a5ce56647751e432673282c6e2">More...</a><br /></td></tr>
<tr class="separator:af24298a5ce56647751e432673282c6e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e132cfaa78353e3af1474a86b2dd535"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="drives_8c.html#a4e132cfaa78353e3af1474a86b2dd535">MAX_DEVICES</a>&#160;&#160;&#160;8</td></tr>
<tr class="separator:a4e132cfaa78353e3af1474a86b2dd535"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa9e357b74bab805ab8c9b1a1f4ff3589"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="drives_8c.html#aa9e357b74bab805ab8c9b1a1f4ff3589">V2B</a> (uint8_t *B, int index, int size, uint32_t val)</td></tr>
<tr class="memdesc:aa9e357b74bab805ab8c9b1a1f4ff3589"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert Value into byte array bytes are MSB ... LSB order.  <a href="#aa9e357b74bab805ab8c9b1a1f4ff3589">More...</a><br /></td></tr>
<tr class="separator:aa9e357b74bab805ab8c9b1a1f4ff3589"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15acb3e0855d4922ff7bef41050b97d3"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="drives_8c.html#a15acb3e0855d4922ff7bef41050b97d3">B2V</a> (uint8_t *B, int index, int size)</td></tr>
<tr class="memdesc:a15acb3e0855d4922ff7bef41050b97d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a byte array into a value bytes are MSB ... LSB order.  <a href="#a15acb3e0855d4922ff7bef41050b97d3">More...</a><br /></td></tr>
<tr class="separator:a15acb3e0855d4922ff7bef41050b97d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc9af84417d1ea9757b9f0596fd709b3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="drives_8c.html#adc9af84417d1ea9757b9f0596fd709b3">find_type</a> (int type)</td></tr>
<tr class="memdesc:adc9af84417d1ea9757b9f0596fd709b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Seach Devices[] for ANY definitions of a disk type.  <a href="#adc9af84417d1ea9757b9f0596fd709b3">More...</a><br /></td></tr>
<tr class="separator:adc9af84417d1ea9757b9f0596fd709b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa43e282b0ff4a2e5b2ce59f0fce3fb68"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="drives_8c.html#aa43e282b0ff4a2e5b2ce59f0fce3fb68">type_to_str</a> (int type)</td></tr>
<tr class="memdesc:aa43e282b0ff4a2e5b2ce59f0fce3fb68"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a disk type into a string.  <a href="#aa43e282b0ff4a2e5b2ce59f0fce3fb68">More...</a><br /></td></tr>
<tr class="separator:aa43e282b0ff4a2e5b2ce59f0fce3fb68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1a2445dba59c3eb47276b37107c6f64"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="drives_8c.html#ac1a2445dba59c3eb47276b37107c6f64">base_to_str</a> (int base)</td></tr>
<tr class="memdesc:ac1a2445dba59c3eb47276b37107c6f64"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert base address into a string identifier.  <a href="#ac1a2445dba59c3eb47276b37107c6f64">More...</a><br /></td></tr>
<tr class="separator:ac1a2445dba59c3eb47276b37107c6f64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc23d2ab247de5b92eae0d0bc06aab2e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="drives_8c.html#afc23d2ab247de5b92eae0d0bc06aab2e">find_free</a> ()</td></tr>
<tr class="memdesc:afc23d2ab247de5b92eae0d0bc06aab2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find first free Devices[] slot.  <a href="#afc23d2ab247de5b92eae0d0bc06aab2e">More...</a><br /></td></tr>
<tr class="separator:afc23d2ab247de5b92eae0d0bc06aab2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab339aa60e0bd99e09f10d0732f10b26e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="drives_8c.html#ab339aa60e0bd99e09f10d0732f10b26e">find_device</a> (int type, int address, int base)</td></tr>
<tr class="memdesc:ab339aa60e0bd99e09f10d0732f10b26e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find a device with matching type AND address.  <a href="#ab339aa60e0bd99e09f10d0732f10b26e">More...</a><br /></td></tr>
<tr class="separator:ab339aa60e0bd99e09f10d0732f10b26e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aece04902efa99dc0e1578dda79437a75"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="drives_8c.html#aece04902efa99dc0e1578dda79437a75">set_active_device</a> (int index)</td></tr>
<tr class="memdesc:aece04902efa99dc0e1578dda79437a75"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the Active disk or device pointers Since we can be called multiple times per single GPIB state we do not display state changes here. Other code displays the active state.  <a href="#aece04902efa99dc0e1578dda79437a75">More...</a><br /></td></tr>
<tr class="separator:aece04902efa99dc0e1578dda79437a75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a779f57c67af69afdde92e28cb4ee9adb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="drives_8c.html#a779f57c67af69afdde92e28cb4ee9adb">alloc_device</a> (int type)</td></tr>
<tr class="memdesc:a779f57c67af69afdde92e28cb4ee9adb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate a Device structure for a disk or printer.  <a href="#a779f57c67af69afdde92e28cb4ee9adb">More...</a><br /></td></tr>
<tr class="separator:a779f57c67af69afdde92e28cb4ee9adb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a756aa4b7d6e1757b9465729dffe7ed7f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="drives_8c.html#a756aa4b7d6e1757b9465729dffe7ed7f">init_Devices</a> ()</td></tr>
<tr class="memdesc:a756aa4b7d6e1757b9465729dffe7ed7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Init Config Parser Stack Called only durring power up so we do not have to free memory.  <a href="#a756aa4b7d6e1757b9465729dffe7ed7f">More...</a><br /></td></tr>
<tr class="separator:a756aa4b7d6e1757b9465729dffe7ed7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21b219166399e8a1195b92d6a9872bbe"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="drives_8c.html#a21b219166399e8a1195b92d6a9872bbe">push_state</a> (int state)</td></tr>
<tr class="memdesc:a21b219166399e8a1195b92d6a9872bbe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Push Parser State.  <a href="#a21b219166399e8a1195b92d6a9872bbe">More...</a><br /></td></tr>
<tr class="separator:a21b219166399e8a1195b92d6a9872bbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45b0cf880b953984f9351f5d2bd9c77d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="drives_8c.html#a45b0cf880b953984f9351f5d2bd9c77d">pop_state</a> ()</td></tr>
<tr class="memdesc:a45b0cf880b953984f9351f5d2bd9c77d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pop Parser State.  <a href="#a45b0cf880b953984f9351f5d2bd9c77d">More...</a><br /></td></tr>
<tr class="separator:a45b0cf880b953984f9351f5d2bd9c77d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27684090bd1a441b3cb0478d2f7fedc5"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="drives_8c.html#a27684090bd1a441b3cb0478d2f7fedc5">assign_value</a> (char *str, uint32_t minval, uint32_t maxval, uint32_t *val)</td></tr>
<tr class="memdesc:a27684090bd1a441b3cb0478d2f7fedc5"><td class="mdescLeft">&#160;</td><td class="mdescRight">assigned a value  <a href="#a27684090bd1a441b3cb0478d2f7fedc5">More...</a><br /></td></tr>
<tr class="separator:a27684090bd1a441b3cb0478d2f7fedc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af14d66761d39f4a2d5f7c3ac59439034"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="drives_8c.html#af14d66761d39f4a2d5f7c3ac59439034">set_Config_Defaults</a> ()</td></tr>
<tr class="memdesc:af14d66761d39f4a2d5f7c3ac59439034"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set Defaults for any missing disk or printer devices These are only used if the Config file omits them or is empty.  <a href="#af14d66761d39f4a2d5f7c3ac59439034">More...</a><br /></td></tr>
<tr class="separator:af14d66761d39f4a2d5f7c3ac59439034"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f8d1205c8538831eb4196a29cf3f186"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="drives_8c.html#a8f8d1205c8538831eb4196a29cf3f186">POSIX_Read_Config</a> (char *name)</td></tr>
<tr class="memdesc:a8f8d1205c8538831eb4196a29cf3f186"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read and parse a config file using POSIX functions.  <a href="#a8f8d1205c8538831eb4196a29cf3f186">More...</a><br /></td></tr>
<tr class="separator:a8f8d1205c8538831eb4196a29cf3f186"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0cc4deddae206c7762399a8d54856e1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="drives_8c.html#ab0cc4deddae206c7762399a8d54856e1">print_var_P</a> (<a class="el" href="mathio_8h.html#a9306b0c3083933632aca02ebb1fe14d5">__memx</a> const char *str, uint32_t val)</td></tr>
<tr class="memdesc:ab0cc4deddae206c7762399a8d54856e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Display Configuration File variable.  <a href="#ab0cc4deddae206c7762399a8d54856e1">More...</a><br /></td></tr>
<tr class="separator:ab0cc4deddae206c7762399a8d54856e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3da86aaab90b0d4bb14f79e296a155bb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="drives_8c.html#a3da86aaab90b0d4bb14f79e296a155bb">print_str_P</a> (<a class="el" href="mathio_8h.html#a9306b0c3083933632aca02ebb1fe14d5">__memx</a> const char *str, char *arg)</td></tr>
<tr class="memdesc:a3da86aaab90b0d4bb14f79e296a155bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Display Configuration File string.  <a href="#a3da86aaab90b0d4bb14f79e296a155bb">More...</a><br /></td></tr>
<tr class="separator:a3da86aaab90b0d4bb14f79e296a155bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1dbca8748b76da795e7fe56b61762b51"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="drives_8c.html#a1dbca8748b76da795e7fe56b61762b51">display_Addresses</a> ()</td></tr>
<tr class="memdesc:a1dbca8748b76da795e7fe56b61762b51"><td class="mdescLeft">&#160;</td><td class="mdescRight">Display Configuration device address saummary.  <a href="#a1dbca8748b76da795e7fe56b61762b51">More...</a><br /></td></tr>
<tr class="separator:a1dbca8748b76da795e7fe56b61762b51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c4d2fa0db8c1159a73186871c4639b2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="drives_8c.html#a7c4d2fa0db8c1159a73186871c4639b2">display_Config</a> ()</td></tr>
<tr class="memdesc:a7c4d2fa0db8c1159a73186871c4639b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Display current Configuration File values.  <a href="#a7c4d2fa0db8c1159a73186871c4639b2">More...</a><br /></td></tr>
<tr class="separator:a7c4d2fa0db8c1159a73186871c4639b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a4c18df3efdb3fcd126c2df631f2f2515"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="drives_8c.html#a4c18df3efdb3fcd126c2df631f2f2515">stack_ind</a> = 0</td></tr>
<tr class="separator:a4c18df3efdb3fcd126c2df631f2f2515"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7396cc31899052a2a171fbfe3f32b2d9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="drives_8c.html#a7396cc31899052a2a171fbfe3f32b2d9">stack_p</a> [<a class="el" href="drives_8c.html#af24298a5ce56647751e432673282c6e2">MAX_STACK</a>]</td></tr>
<tr class="separator:a7396cc31899052a2a171fbfe3f32b2d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfedc9290d5356e240da3373bb0ebdbd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structDeviceType.html">DeviceType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="drives_8c.html#acfedc9290d5356e240da3373bb0ebdbd">Devices</a> [<a class="el" href="drives_8h.html#a4e132cfaa78353e3af1474a86b2dd535">MAX_DEVICES</a>]</td></tr>
<tr class="separator:acfedc9290d5356e240da3373bb0ebdbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe5ffe9f7c96ad748b695ed5b45d6e52"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structPRINTERDeviceType.html">PRINTERDeviceType</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="drives_8c.html#abe5ffe9f7c96ad748b695ed5b45d6e52">PRINTERp</a> = <a class="el" href="user__config_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td></tr>
<tr class="memdesc:abe5ffe9f7c96ad748b695ed5b45d6e52"><td class="mdescLeft">&#160;</td><td class="mdescRight">Active Printer Device.  <a href="#abe5ffe9f7c96ad748b695ed5b45d6e52">More...</a><br /></td></tr>
<tr class="separator:abe5ffe9f7c96ad748b695ed5b45d6e52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2b90e5f9a8ae9e5df3fdee98a215939"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structSS80DiskType.html">SS80DiskType</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="drives_8c.html#ae2b90e5f9a8ae9e5df3fdee98a215939">SS80p</a> = <a class="el" href="user__config_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td></tr>
<tr class="memdesc:ae2b90e5f9a8ae9e5df3fdee98a215939"><td class="mdescLeft">&#160;</td><td class="mdescRight">Active SS80 Device.  <a href="#ae2b90e5f9a8ae9e5df3fdee98a215939">More...</a><br /></td></tr>
<tr class="separator:ae2b90e5f9a8ae9e5df3fdee98a215939"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26e0264b8581231a3a90fbb418f5812a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structSS80StateType.html">SS80StateType</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="drives_8c.html#a26e0264b8581231a3a90fbb418f5812a">SS80s</a> = <a class="el" href="user__config_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td></tr>
<tr class="separator:a26e0264b8581231a3a90fbb418f5812a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b0d1c374e73e044c76887528a73faae"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structAMIGODiskType.html">AMIGODiskType</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="drives_8c.html#a8b0d1c374e73e044c76887528a73faae">AMIGOp</a> = <a class="el" href="user__config_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td></tr>
<tr class="memdesc:a8b0d1c374e73e044c76887528a73faae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Active AMIGO Device.  <a href="#a8b0d1c374e73e044c76887528a73faae">More...</a><br /></td></tr>
<tr class="separator:a8b0d1c374e73e044c76887528a73faae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af37355892437ec761d9178e9da6c1f35"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structAMIGOStateType.html">AMIGOStateType</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="drives_8c.html#af37355892437ec761d9178e9da6c1f35">AMIGOs</a> = <a class="el" href="user__config_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td></tr>
<tr class="separator:af37355892437ec761d9178e9da6c1f35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5c3a0a9ab88737f26d6554d34a35030"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structPRINTERDeviceType.html">PRINTERDeviceType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="drives_8c.html#ae5c3a0a9ab88737f26d6554d34a35030">PRINTERDeviceDefault</a></td></tr>
<tr class="separator:ae5c3a0a9ab88737f26d6554d34a35030"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21c7953c08107cdbf2d0c264f2b32eab"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structSS80DiskType.html">SS80DiskType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="drives_8c.html#a21c7953c08107cdbf2d0c264f2b32eab">SS80DiskDefault</a></td></tr>
<tr class="memdesc:a21c7953c08107cdbf2d0c264f2b32eab"><td class="mdescLeft">&#160;</td><td class="mdescRight">SS80 Disk Definitions.  <a href="#a21c7953c08107cdbf2d0c264f2b32eab">More...</a><br /></td></tr>
<tr class="separator:a21c7953c08107cdbf2d0c264f2b32eab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9921ae02cadccc99dd6c3a9b68be050a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="drives_8c.html#a9921ae02cadccc99dd6c3a9b68be050a">lines</a> = 0</td></tr>
<tr class="memdesc:a9921ae02cadccc99dd6c3a9b68be050a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Config file line number.  <a href="#a9921ae02cadccc99dd6c3a9b68be050a">More...</a><br /></td></tr>
<tr class="separator:a9921ae02cadccc99dd6c3a9b68be050a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>drive definitions for HP85 disk emulator project for AVR. </p>
<dl class="section user"><dt>Edit History</dt><dd><ul>
<li>[1.0] [Mike Gore] Initial revision of file. </li>
</ul>
</dd></dl>
<dl class="section user"><dt>Copyright &copy; 2014-2017 Mike Gore, Inc. All rights reserved.</dt><dd></dd></dl>

<p>Definition in file <a class="el" href="drives_8c_source.html">drives.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a4e132cfaa78353e3af1474a86b2dd535"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_DEVICES&#160;&#160;&#160;8</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="drives_8c_source.html#l00025">25</a> of file <a class="el" href="drives_8c_source.html">drives.c</a>.</p>

<p>Referenced by <a class="el" href="amigo_8c_source.html#l00171">amigo_init()</a>, <a class="el" href="drives_8c_source.html#l01192">display_Addresses()</a>, <a class="el" href="drives_8c_source.html#l01227">display_Config()</a>, <a class="el" href="drives_8c_source.html#l00294">find_device()</a>, <a class="el" href="drives_8c_source.html#l00242">find_type()</a>, <a class="el" href="drives_8c_source.html#l00455">init_Devices()</a>, <a class="el" href="drives_8c_source.html#l00330">set_active_device()</a>, and <a class="el" href="ss80_8c_source.html#l00258">SS80_init()</a>.</p>

</div>
</div>
<a class="anchor" id="af24298a5ce56647751e432673282c6e2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_STACK&#160;&#160;&#160;5</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Config Parser Stack. </p>

<p>Definition at line <a class="el" href="drives_8c_source.html#l00021">21</a> of file <a class="el" href="drives_8c_source.html">drives.c</a>.</p>

<p>Referenced by <a class="el" href="drives_8c_source.html#l00472">push_state()</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a779f57c67af69afdde92e28cb4ee9adb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int alloc_device </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate a Device structure for a disk or printer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>disk type </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Devices[] index on sucess or -1 </dd></dl>

<p>Definition at line <a class="el" href="drives_8c_source.html#l00410">410</a> of file <a class="el" href="drives_8c_source.html">drives.c</a>.</p>

<p>Referenced by <a class="el" href="drives_8c_source.html#l00611">POSIX_Read_Config()</a>.</p>

</div>
</div>
<a class="anchor" id="a27684090bd1a441b3cb0478d2f7fedc5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t assign_value </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>minval</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>maxval</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>assigned a value </p>
<ul>
<li>Used only for debugging <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">str</td><td>string to examine </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">minval</td><td>minimum value </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">maxval</td><td>maximum value </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">*val</td><td>value to set</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 is matched and value in range, 0 not matched or out of range </dd></dl>
</li>
</ul>

<p>Definition at line <a class="el" href="drives_8c_source.html#l00503">503</a> of file <a class="el" href="drives_8c_source.html">drives.c</a>.</p>

<p>Referenced by <a class="el" href="gpib__tests_8c_source.html#l00057">gpib_tests()</a>, and <a class="el" href="drives_8c_source.html#l00611">POSIX_Read_Config()</a>.</p>

</div>
</div>
<a class="anchor" id="a15acb3e0855d4922ff7bef41050b97d3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t B2V </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>B</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert a byte array into a value bytes are MSB ... LSB order. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">B</td><td>byte array </td></tr>
    <tr><td class="paramname">index</td><td>offset into byte array </td></tr>
    <tr><td class="paramname">size</td><td>number of bytes to process </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value </dd></dl>

<p>Definition at line <a class="el" href="drives_8c_source.html#l00224">224</a> of file <a class="el" href="drives_8c_source.html">drives.c</a>.</p>

<p>Referenced by <a class="el" href="ss80_8c_source.html#l00879">SS80_Command_State()</a>.</p>

</div>
</div>
<a class="anchor" id="ac1a2445dba59c3eb47276b37107c6f64"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* base_to_str </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert base address into a string identifier. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">base</td><td>BASE_MAL, BASE_MTA or BASE_MSA only </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string "MLA", "MTA", "MSA" or error string </dd></dl>

<p>Definition at line <a class="el" href="drives_8c_source.html#l00271">271</a> of file <a class="el" href="drives_8c_source.html">drives.c</a>.</p>

<p>Referenced by <a class="el" href="drives_8c_source.html#l00294">find_device()</a>.</p>

</div>
</div>
<a class="anchor" id="a1dbca8748b76da795e7fe56b61762b51"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void display_Addresses </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Display Configuration device address saummary. </p>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p>Definition at line <a class="el" href="drives_8c_source.html#l01192">1192</a> of file <a class="el" href="drives_8c_source.html">drives.c</a>.</p>

<p>Referenced by <a class="el" href="gpib__tests_8c_source.html#l00057">gpib_tests()</a>, and <a class="el" href="main_8c_source.html#l00251">main()</a>.</p>

</div>
</div>
<a class="anchor" id="a7c4d2fa0db8c1159a73186871c4639b2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void display_Config </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Display current Configuration File values. </p>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>
<p>Active Printer Device</p>
<p>Active SS80 Device</p>
<p>Active AMIGO Device </p>

<p>Definition at line <a class="el" href="drives_8c_source.html#l01227">1227</a> of file <a class="el" href="drives_8c_source.html">drives.c</a>.</p>

<p>Referenced by <a class="el" href="gpib__tests_8c_source.html#l00057">gpib_tests()</a>, and <a class="el" href="main_8c_source.html#l00251">main()</a>.</p>

</div>
</div>
<a class="anchor" id="ab339aa60e0bd99e09f10d0732f10b26e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int find_device </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>base</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find a device with matching type AND address. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>disk type </td></tr>
    <tr><td class="paramname">address</td><td>GPIB device address 0 based </td></tr>
    <tr><td class="paramname">base</td><td>BASE_MLA,BASE_MTA or BASE_MSA address range </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>index of Devices[] or -1 if not found </dd></dl>
<p><div class="fragment"></div><!-- fragment --></p>
<p>Make sure address is in expected range</p>
<p>convert to device address</p>
<p>search for device address </p>

<p>Definition at line <a class="el" href="drives_8c_source.html#l00294">294</a> of file <a class="el" href="drives_8c_source.html">drives.c</a>.</p>

<p>Referenced by <a class="el" href="gpib__task_8c_source.html#l00102">AMIGO_is_MLA()</a>, <a class="el" href="gpib__task_8c_source.html#l00125">AMIGO_is_MSA()</a>, <a class="el" href="gpib__task_8c_source.html#l00114">AMIGO_is_MTA()</a>, <a class="el" href="gpib__task_8c_source.html#l00923">listen_cleanup()</a>, <a class="el" href="gpib__task_8c_source.html#l00137">PRINTER_is_MLA()</a>, <a class="el" href="gpib__task_8c_source.html#l00161">PRINTER_is_MSA()</a>, <a class="el" href="gpib__task_8c_source.html#l00149">PRINTER_is_MTA()</a>, <a class="el" href="gpib__task_8c_source.html#l00066">SS80_is_MLA()</a>, <a class="el" href="gpib__task_8c_source.html#l00090">SS80_is_MSA()</a>, and <a class="el" href="gpib__task_8c_source.html#l00078">SS80_is_MTA()</a>.</p>

</div>
</div>
<a class="anchor" id="afc23d2ab247de5b92eae0d0bc06aab2e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int find_free </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find first free Devices[] slot. </p>
<dl class="section return"><dt>Returns</dt><dd>Devices[] index of free slot or -1 </dd></dl>

<p>Definition at line <a class="el" href="drives_8c_source.html#l00284">284</a> of file <a class="el" href="drives_8c_source.html">drives.c</a>.</p>

<p>Referenced by <a class="el" href="drives_8c_source.html#l00410">alloc_device()</a>, and <a class="el" href="drives_8c_source.html#l00548">set_Config_Defaults()</a>.</p>

</div>
</div>
<a class="anchor" id="adc9af84417d1ea9757b9f0596fd709b3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int find_type </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Seach Devices[] for ANY definitions of a disk type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>disk type like SS80_TYPE </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="drives_8c_source.html#l00242">242</a> of file <a class="el" href="drives_8c_source.html">drives.c</a>.</p>

<p>Referenced by <a class="el" href="drives_8c_source.html#l00284">find_free()</a>, and <a class="el" href="drives_8c_source.html#l00548">set_Config_Defaults()</a>.</p>

</div>
</div>
<a class="anchor" id="a756aa4b7d6e1757b9465729dffe7ed7f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void init_Devices </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Init Config Parser Stack Called only durring power up so we do not have to free memory. </p>

<p>Definition at line <a class="el" href="drives_8c_source.html#l00455">455</a> of file <a class="el" href="drives_8c_source.html">drives.c</a>.</p>

<p>Referenced by <a class="el" href="drives_8c_source.html#l00611">POSIX_Read_Config()</a>.</p>

</div>
</div>
<a class="anchor" id="a45b0cf880b953984f9351f5d2bd9c77d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pop_state </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pop Parser State. </p>
<dl class="section return"><dt>Returns</dt><dd>state </dd></dl>

<p>Definition at line <a class="el" href="drives_8c_source.html#l00483">483</a> of file <a class="el" href="drives_8c_source.html">drives.c</a>.</p>

<p>Referenced by <a class="el" href="drives_8c_source.html#l00611">POSIX_Read_Config()</a>.</p>

</div>
</div>
<a class="anchor" id="a8f8d1205c8538831eb4196a29cf3f186"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int POSIX_Read_Config </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read and parse a config file using POSIX functions. </p>
<ul>
<li>Set debuglevel and other device settings</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>config file name to process</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on parse error </dd></dl>
<p>Printer Device</p>
<p>SS80 Device</p>
<p>AMIGO Device</p>
<p>Display all device settings </p>

<p>Definition at line <a class="el" href="drives_8c_source.html#l00611">611</a> of file <a class="el" href="drives_8c_source.html">drives.c</a>.</p>

<p>Referenced by <a class="el" href="gpib__task_8c_source.html#l00039">gpib_file_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a3da86aaab90b0d4bb14f79e296a155bb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void print_str_P </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="mathio_8h.html#a9306b0c3083933632aca02ebb1fe14d5">__memx</a> const char *&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Display Configuration File string. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*str</td><td>title </td></tr>
    <tr><td class="paramname">*arg</td><td>string </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p>Definition at line <a class="el" href="drives_8c_source.html#l01180">1180</a> of file <a class="el" href="drives_8c_source.html">drives.c</a>.</p>

</div>
</div>
<a class="anchor" id="ab0cc4deddae206c7762399a8d54856e1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void print_var_P </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="mathio_8h.html#a9306b0c3083933632aca02ebb1fe14d5">__memx</a> const char *&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Display Configuration File variable. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td>title </td></tr>
    <tr><td class="paramname">val</td><td>variable value </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p>Definition at line <a class="el" href="drives_8c_source.html#l01165">1165</a> of file <a class="el" href="drives_8c_source.html">drives.c</a>.</p>

</div>
</div>
<a class="anchor" id="a21b219166399e8a1195b92d6a9872bbe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int push_state </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Push Parser State. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">state</td><td>parser state </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>state </dd></dl>

<p>Definition at line <a class="el" href="drives_8c_source.html#l00472">472</a> of file <a class="el" href="drives_8c_source.html">drives.c</a>.</p>

<p>Referenced by <a class="el" href="drives_8c_source.html#l00611">POSIX_Read_Config()</a>.</p>

</div>
</div>
<a class="anchor" id="aece04902efa99dc0e1578dda79437a75"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int set_active_device </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the Active disk or device pointers Since we can be called multiple times per single GPIB state we do not display state changes here. Other code displays the active state. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td>Devices[] index </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 on success or 0 on fail </dd></dl>
<p>We also check for -1 So the result of <a class="el" href="drives_8c.html#ab339aa60e0bd99e09f10d0732f10b26e" title="Find a device with matching type AND address. ">find_device()</a> can be used without additional tests </p>

<p>Definition at line <a class="el" href="drives_8c_source.html#l00330">330</a> of file <a class="el" href="drives_8c_source.html">drives.c</a>.</p>

<p>Referenced by <a class="el" href="amigo_8c_source.html#l00171">amigo_init()</a>, <a class="el" href="gpib__task_8c_source.html#l00102">AMIGO_is_MLA()</a>, <a class="el" href="gpib__task_8c_source.html#l00125">AMIGO_is_MSA()</a>, <a class="el" href="gpib__task_8c_source.html#l00114">AMIGO_is_MTA()</a>, <a class="el" href="gpib__task_8c_source.html#l00137">PRINTER_is_MLA()</a>, <a class="el" href="gpib__task_8c_source.html#l00161">PRINTER_is_MSA()</a>, <a class="el" href="gpib__task_8c_source.html#l00149">PRINTER_is_MTA()</a>, <a class="el" href="ss80_8c_source.html#l00258">SS80_init()</a>, <a class="el" href="gpib__task_8c_source.html#l00066">SS80_is_MLA()</a>, <a class="el" href="gpib__task_8c_source.html#l00090">SS80_is_MSA()</a>, and <a class="el" href="gpib__task_8c_source.html#l00078">SS80_is_MTA()</a>.</p>

</div>
</div>
<a class="anchor" id="af14d66761d39f4a2d5f7c3ac59439034"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void set_Config_Defaults </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set Defaults for any missing disk or printer devices These are only used if the Config file omits them or is empty. </p>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>
<p>Add optional hard coded devices for any that are missing </p>

<p>Definition at line <a class="el" href="drives_8c_source.html#l00548">548</a> of file <a class="el" href="drives_8c_source.html">drives.c</a>.</p>

<p>Referenced by <a class="el" href="drives_8c_source.html#l00611">POSIX_Read_Config()</a>.</p>

</div>
</div>
<a class="anchor" id="aa43e282b0ff4a2e5b2ce59f0fce3fb68"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* type_to_str </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert a disk type into a string. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>disk type like SS80_TYPE </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string pointer </dd></dl>

<p>Definition at line <a class="el" href="drives_8c_source.html#l00256">256</a> of file <a class="el" href="drives_8c_source.html">drives.c</a>.</p>

<p>Referenced by <a class="el" href="drives_8c_source.html#l00410">alloc_device()</a>, <a class="el" href="drives_8c_source.html#l00294">find_device()</a>, and <a class="el" href="drives_8c_source.html#l00330">set_active_device()</a>.</p>

</div>
</div>
<a class="anchor" id="aa9e357b74bab805ab8c9b1a1f4ff3589"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void V2B </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>B</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert Value into byte array bytes are MSB ... LSB order. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">B</td><td>byte array </td></tr>
    <tr><td class="paramname">index</td><td>offset into byte array </td></tr>
    <tr><td class="paramname">size</td><td>number of bytes to process </td></tr>
    <tr><td class="paramname">val</td><td>Value to convert </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void </dd></dl>

<p>Definition at line <a class="el" href="drives_8c_source.html#l00208">208</a> of file <a class="el" href="drives_8c_source.html">drives.c</a>.</p>

<p>Referenced by <a class="el" href="gpib__task_8c_source.html#l00567">Send_Identify()</a>, <a class="el" href="ss80_8c_source.html#l00719">SS80_send_status()</a>, and <a class="el" href="ss80_8c_source.html#l00157">SS80_V2B()</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a8b0d1c374e73e044c76887528a73faae"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structAMIGODiskType.html">AMIGODiskType</a>* AMIGOp = <a class="el" href="user__config_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Active AMIGO Device. </p>

<p>Definition at line <a class="el" href="drives_8c_source.html#l00036">36</a> of file <a class="el" href="drives_8c_source.html">drives.c</a>.</p>

<p>Referenced by <a class="el" href="amigo_8c_source.html#l00568">amigo_buffered_read()</a>, <a class="el" href="amigo_8c_source.html#l00632">amigo_buffered_write()</a>, <a class="el" href="amigo_8c_source.html#l00345">amigo_chs_to_logical()</a>, <a class="el" href="amigo_8c_source.html#l00771">amigo_cmd_clear()</a>, <a class="el" href="amigo_8c_source.html#l00737">amigo_cmd_wakeup()</a>, <a class="el" href="amigo_8c_source.html#l00864">Amigo_Command()</a>, <a class="el" href="amigo_8c_source.html#l01284">AMIGO_COMMANDS()</a>, <a class="el" href="amigo_8c_source.html#l01172">Amigo_Execute()</a>, <a class="el" href="amigo_8c_source.html#l00509">amigo_format()</a>, <a class="el" href="amigo_8c_source.html#l00171">amigo_init()</a>, <a class="el" href="amigo_8c_source.html#l00368">amigo_overflow_check()</a>, <a class="el" href="amigo_8c_source.html#l00223">amigo_request_status()</a>, <a class="el" href="amigo_8c_source.html#l00425">amigo_seek()</a>, <a class="el" href="amigo_8c_source.html#l00274">amigo_send_logical_address()</a>, <a class="el" href="amigo_8c_source.html#l00309">amigo_send_status()</a>, <a class="el" href="amigo_8c_source.html#l00824">amigo_todo()</a>, <a class="el" href="amigo_8c_source.html#l00799">amigo_todo_op()</a>, <a class="el" href="amigo_8c_source.html#l00453">amigo_verify()</a>, and <a class="el" href="gpib__task_8c_source.html#l00871">GPIB_SECONDARY_ADDRESS()</a>.</p>

</div>
</div>
<a class="anchor" id="af37355892437ec761d9178e9da6c1f35"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structAMIGOStateType.html">AMIGOStateType</a>* AMIGOs = <a class="el" href="user__config_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="drives_8c_source.html#l00037">37</a> of file <a class="el" href="drives_8c_source.html">drives.c</a>.</p>

<p>Referenced by <a class="el" href="amigo_8c_source.html#l00568">amigo_buffered_read()</a>, <a class="el" href="amigo_8c_source.html#l00632">amigo_buffered_write()</a>, <a class="el" href="amigo_8c_source.html#l00345">amigo_chs_to_logical()</a>, <a class="el" href="amigo_8c_source.html#l00771">amigo_cmd_clear()</a>, <a class="el" href="amigo_8c_source.html#l00697">amigo_cmd_dsj()</a>, <a class="el" href="amigo_8c_source.html#l00737">amigo_cmd_wakeup()</a>, <a class="el" href="amigo_8c_source.html#l00864">Amigo_Command()</a>, <a class="el" href="amigo_8c_source.html#l01172">Amigo_Execute()</a>, <a class="el" href="amigo_8c_source.html#l00509">amigo_format()</a>, <a class="el" href="amigo_8c_source.html#l00398">amigo_increment()</a>, <a class="el" href="amigo_8c_source.html#l00171">amigo_init()</a>, <a class="el" href="amigo_8c_source.html#l00206">amigo_request_logical_address()</a>, <a class="el" href="amigo_8c_source.html#l00223">amigo_request_status()</a>, <a class="el" href="amigo_8c_source.html#l00425">amigo_seek()</a>, <a class="el" href="amigo_8c_source.html#l00274">amigo_send_logical_address()</a>, <a class="el" href="amigo_8c_source.html#l00309">amigo_send_status()</a>, <a class="el" href="amigo_8c_source.html#l00824">amigo_todo()</a>, <a class="el" href="amigo_8c_source.html#l00799">amigo_todo_op()</a>, and <a class="el" href="amigo_8c_source.html#l00453">amigo_verify()</a>.</p>

</div>
</div>
<a class="anchor" id="acfedc9290d5356e240da3373bb0ebdbd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structDeviceType.html">DeviceType</a> Devices[<a class="el" href="drives_8h.html#a4e132cfaa78353e3af1474a86b2dd535">MAX_DEVICES</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="drives_8c_source.html#l00026">26</a> of file <a class="el" href="drives_8c_source.html">drives.c</a>.</p>

<p>Referenced by <a class="el" href="amigo_8c_source.html#l00171">amigo_init()</a>, and <a class="el" href="ss80_8c_source.html#l00258">SS80_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a9921ae02cadccc99dd6c3a9b68be050a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int lines = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Config file line number. </p>

<p>Definition at line <a class="el" href="drives_8c_source.html#l00492">492</a> of file <a class="el" href="drives_8c_source.html">drives.c</a>.</p>

<p>Referenced by <a class="el" href="drives_8c_source.html#l00503">assign_value()</a>, <a class="el" href="matrix_8c_source.html#l00527">MatRead()</a>, and <a class="el" href="drives_8c_source.html#l00611">POSIX_Read_Config()</a>.</p>

</div>
</div>
<a class="anchor" id="ae5c3a0a9ab88737f26d6554d34a35030"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structPRINTERDeviceType.html">PRINTERDeviceType</a> PRINTERDeviceDefault</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div><div class="line">{</div><div class="line">    { </div><div class="line">        2,      </div><div class="line">        0xff,   </div><div class="line">        <span class="stringliteral">&quot;/printer.txt&quot;</span></div><div class="line">    }</div><div class="line">}</div></div><!-- fragment -->
<p>Definition at line <a class="el" href="drives_8c_source.html#l00040">40</a> of file <a class="el" href="drives_8c_source.html">drives.c</a>.</p>

</div>
</div>
<a class="anchor" id="abe5ffe9f7c96ad748b695ed5b45d6e52"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structPRINTERDeviceType.html">PRINTERDeviceType</a>* PRINTERp = <a class="el" href="user__config_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Active Printer Device. </p>

<p>Definition at line <a class="el" href="drives_8c_source.html#l00029">29</a> of file <a class="el" href="drives_8c_source.html">drives.c</a>.</p>

</div>
</div>
<a class="anchor" id="a21c7953c08107cdbf2d0c264f2b32eab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structSS80DiskType.html">SS80DiskType</a> SS80DiskDefault</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SS80 Disk Definitions. </p>
<p>SS80 HP9134L Disk Definitions </p>

<p>Definition at line <a class="el" href="drives_8c_source.html#l00095">95</a> of file <a class="el" href="drives_8c_source.html">drives.c</a>.</p>

</div>
</div>
<a class="anchor" id="ae2b90e5f9a8ae9e5df3fdee98a215939"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structSS80DiskType.html">SS80DiskType</a>* SS80p = <a class="el" href="user__config_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Active SS80 Device. </p>

<p>Definition at line <a class="el" href="drives_8c_source.html#l00032">32</a> of file <a class="el" href="drives_8c_source.html">drives.c</a>.</p>

<p>Referenced by <a class="el" href="gpib__task_8c_source.html#l00871">GPIB_SECONDARY_ADDRESS()</a>, <a class="el" href="ss80_8c_source.html#l01637">SS80_Amigo_Clear()</a>, <a class="el" href="ss80_8c_source.html#l00327">SS80_Blocks_to_Bytes()</a>, <a class="el" href="ss80_8c_source.html#l00334">SS80_Bytes_to_Blocks()</a>, <a class="el" href="ss80_8c_source.html#l01671">SS80_Cancel()</a>, <a class="el" href="ss80_8c_source.html#l01581">SS80_Channel_Independent_Clear()</a>, <a class="el" href="ss80_8c_source.html#l01402">SS80_cmd_seek()</a>, <a class="el" href="ss80_8c_source.html#l00879">SS80_Command_State()</a>, <a class="el" href="ss80_8c_source.html#l01734">SS80_COMMANDS()</a>, <a class="el" href="ss80_8c_source.html#l00289">SS80_Execute_State()</a>, <a class="el" href="ss80_8c_source.html#l00258">SS80_init()</a>, <a class="el" href="ss80_8c_source.html#l00354">SS80_locate_and_read()</a>, <a class="el" href="ss80_8c_source.html#l00484">SS80_locate_and_write()</a>, <a class="el" href="ss80_8c_source.html#l01617">SS80_Selected_Device_Clear()</a>, <a class="el" href="ss80_8c_source.html#l01257">SS80_Transparent_State()</a>, <a class="el" href="ss80_8c_source.html#l01599">SS80_Universal_Device_Clear()</a>, <a class="el" href="ss80_8c_source.html#l00163">SS80ControllerPack()</a>, <a class="el" href="ss80_8c_source.html#l00188">SS80UnitPack()</a>, and <a class="el" href="ss80_8c_source.html#l00231">SS80VolumePack()</a>.</p>

</div>
</div>
<a class="anchor" id="a26e0264b8581231a3a90fbb418f5812a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structSS80StateType.html">SS80StateType</a>* SS80s = <a class="el" href="user__config_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="drives_8c_source.html#l00033">33</a> of file <a class="el" href="drives_8c_source.html">drives.c</a>.</p>

<p>Referenced by <a class="el" href="ss80_8c_source.html#l01540">Clear_Common()</a>, <a class="el" href="gpib__task_8c_source.html#l00600">GPIB()</a>, <a class="el" href="ss80_8c_source.html#l01671">SS80_Cancel()</a>, <a class="el" href="ss80_8c_source.html#l01402">SS80_cmd_seek()</a>, <a class="el" href="ss80_8c_source.html#l00879">SS80_Command_State()</a>, <a class="el" href="ss80_8c_source.html#l01703">SS80_error_return()</a>, <a class="el" href="ss80_8c_source.html#l00289">SS80_Execute_State()</a>, <a class="el" href="ss80_8c_source.html#l01686">SS80_increment()</a>, <a class="el" href="ss80_8c_source.html#l00258">SS80_init()</a>, <a class="el" href="ss80_8c_source.html#l00354">SS80_locate_and_read()</a>, <a class="el" href="ss80_8c_source.html#l00484">SS80_locate_and_write()</a>, <a class="el" href="ss80_8c_source.html#l01449">SS80_Report()</a>, <a class="el" href="ss80_8c_source.html#l00719">SS80_send_status()</a>, and <a class="el" href="ss80_8c_source.html#l01257">SS80_Transparent_State()</a>.</p>

</div>
</div>
<a class="anchor" id="a4c18df3efdb3fcd126c2df631f2f2515"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int stack_ind = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="drives_8c_source.html#l00022">22</a> of file <a class="el" href="drives_8c_source.html">drives.c</a>.</p>

<p>Referenced by <a class="el" href="drives_8c_source.html#l00455">init_Devices()</a>, <a class="el" href="drives_8c_source.html#l00483">pop_state()</a>, and <a class="el" href="drives_8c_source.html#l00472">push_state()</a>.</p>

</div>
</div>
<a class="anchor" id="a7396cc31899052a2a171fbfe3f32b2d9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int stack_p[<a class="el" href="drives_8c.html#af24298a5ce56647751e432673282c6e2">MAX_STACK</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="drives_8c_source.html#l00023">23</a> of file <a class="el" href="drives_8c_source.html">drives.c</a>.</p>

<p>Referenced by <a class="el" href="drives_8c_source.html#l00483">pop_state()</a>, and <a class="el" href="drives_8c_source.html#l00472">push_state()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun May 28 2017 02:01:01 for HP85 GPIB Disk Emulator by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
